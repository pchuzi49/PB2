/*
 Nielsen SDK package v6.0.0.91 
 (c) 2017 The Nielsen Company 
*/
!function(e){function t(e){r&&console&&console.log&&console.log(e)}var a=!0,r=!1;try{t("BSDK check: Checking for ES5 array functions that BSDK uses");var n=new Array("test1","test2","test3");n.forEach(function(e){}),n.indexOf("test"),t("BSDK check: Array functionality passed"),t("BSDK check: Checking for ES5 JSON functions that BSDK uses");var o={fname:"Bob",lname:"Lee",address:{street:"123 test",city:"NY",state:"NY"}},i=JSON.stringify(o);o=JSON.parse(i),t("BSDK check: JSON object functionality passed"),t("BSDK check: Checking for image tag functionality");(new Image).src="",t("BSDK check: Image tag functionality passed"),t("BSDK check: Checking for window.addEventListener functionality"),e.addEventListener||(a=!1),t("BSDK check: window.addEventListener functionality passed"),t("BSDK check: Checking for postMessage functionality"),e.postMessage||(a=!1),t("BSDK check: postMessage functionality passed"),t("BSDK check: Checking for date functionality"),t("DATE "+Date.now()),t("BSDK check: date functionality passed");var s=/(ANTGalio\/3.3)|(ANTGalio\/3.4)/i;t("BSDK check: Checking device useragent"),e.navigator.userAgent.match(s)&&(a=!1,t("BSDK check: Unsupported useragent"))}catch(e){t("ERROR: "+e.message),a=!1}t("****** RESULTS: JS support check "+(a?"PASSED":"FAILED")+" ******");try{a?(!function(e,t){function a(e){return void 0!==s&&void 0!==d&&void 0!==l?s+"//cdn-gl"+d:"https://secure-gl.imrworldwide.com/"}function r(e){e&&e.hasOwnProperty("target")&&(T="true"===String(e.target).toLowerCase())}function n(){P=Date.now(),S=Math.ceil((P-h)/1e3)}function o(e){if(e&&e.hasOwnProperty("target")&&!isNaN(e.target))for(var t in g)!function(t){var a=g[t];if(void 0!==a&&a.hasOwnProperty("staticPage")&&a.staticPage.hasOwnProperty("evtParams")){"static"===a.staticPage.evtParams.param1.type&&a.ggPM("48",e.target,"","","")}}(t)}function i(i,f){function v(e){x.staticPage.hasOwnProperty("evtParams")&&x.ggPM("56",x.staticPage.evtParams.param1,x.staticPage.evtParams.param2,x.staticPage.evtParams.param3,x.staticPage.evtParams.param4)}function g(e,t){if("string"==typeof e&&(e={type:e}),e.target||(e.target=t),!e.type)throw new Error("Event object missing 'type' property.");if(k[e.type]instanceof Array)for(var a=k[e.type],r=0,n=a.length;r<n;r++)a[r].call(x,t)}function _(e){try{if(!e||!e.hasOwnProperty("cmsMap"))return[];var t=[];for(var a in e.cmsMap)e.cmsMap.hasOwnProperty(a)&&-1!==e.cmsMap[a].indexOf("nol_")&&t.push(e.cmsMap[a].replace(/[{(\[\])}]/g,""));return t}catch(e){}}function _(e){try{if(!e||!e.hasOwnProperty("cmsMap"))return[];var t=[];for(var a in e.cmsMap)e.cmsMap.hasOwnProperty(a)&&-1!==e.cmsMap[a].indexOf("nol_")&&t.push(e.cmsMap[a].replace(/[{(\[\])}]/g,""));return t}catch(e){}}function y(t){try{var a="Error in retrieveMeta";if(t&&t.hasOwnProperty("fData")&&t.hasOwnProperty("ad")&&t.hasOwnProperty("content")&&t.hasOwnProperty("plid")){var r=_({cmsMap:e.GLCFG.PLDPR.getCmsMap(t.plid)});for(var n in t.fData)if(t.fData.hasOwnProperty(n)){var o=t.fData[n][Object.keys(t.fData[n]).splice(-1,1)];if(void 0!==o)for(var i in o){var s=String(i);-1!==s.indexOf("nol_")&&-1===r.indexOf(s)||(t[n][i]=o[i])}}return t}return t&&t.hasOwnProperty("err")?(t.err=a+": Missing passedFdata, Ad, content or static properties",t):{err:a}}catch(e){}}function h(t){t&&(t.registerListener("ggPM",x),t._listeners&&(t._listeners.addListener("updateCmbStaticPage",x.handleUpdateOfStatic),t._listeners.addListener("removeCmbAssetId",x.removeAsset),t._listeners.addListener("tick",function(){n(),g("globalTick",{time:P,seconds:S})}),t._listeners.addListener("dcrHeartbeat",o),t._listeners.addListener("flushQueue",x.emptyQueue),t._listeners.addListener("handleSessionReset",x.handleSessionReset),t._listeners.addListener("flushPauseEventQueue",x.flushPauseEventQueue),t._listeners.addListener("sendOptOutStatus",r)),e.GLCFG=t)}function O(e){if(void 0!==e&&(!e||e.hasOwnProperty("url")&&0!==e.url.length)&&e.hasOwnProperty("retryDelay")&&e.hasOwnProperty("currRetry")&&e.hasOwnProperty("maxRetry")){({requestUrl:function(){var t=this;try{return++e.currRetry>e.maxRetry?t.logErr("maxRetry reached"):t.sendUrlRequest(e.url)}catch(e){t.logErr("Error in fireToUrl requestUrl: "+e)}},sendUrlRequest:function(a){var r=this;try{if(void 0===a)return;var n=new Image;n.onerror=function(a){t.setTimeout(function(){r.requestUrl()},e.retryDelay)},n.onload=function(e){},n.src=a+"&retry="+e.currRetry}catch(e){r.logErr("Error in fireToUrl sendUrlRequest: "+e)}},logErr:function(e){e&&t.console&&t.console.log&&console.log("Error: ",e)}}).requestUrl()}}var C,w,k={},I=[],D={},M=String(Date.now())+Math.round(1e4*Math.random()),A,B=5,R=-1,N,x=f||{};if(x.id=M,x.name=i,x.initialized=!1,x.staticPage={},x.modules={allModInit:!1},x.configLoaded=!1,x.apid="",x.sdkv=p,x.sdkvForConfig=b,x.useCachedConfig=void 0!==f&&null!==f,x.sessionId="",f)if(f.q){for(var F=null,V=0;V<f.q.length;V++)(F=f.q[V])&&F.length>0&&I.push({eventType:F[0],param1:F.length>1?F[1]:void 0,param2:F.length>2?F[2]:void 0,param3:F.length>3?F[3]:void 0,param4:F.length>4?F[4]:void 0});delete f.q}else f.getEventQue&&(I=f.getEventQue());var G={_queueEventLog:!1,_eventLog:[],init:function(){try{var t=e.controllers.util.queryParam("nol_eventHookDelay");if(G._queueEventLog=!1,t){var a=parseInt(t);"NaN"!==a.toString()&&(G._queueEventLog=!0,setTimeout(function(){G._queueEventLog=!1},1e3*(a<=20?a:20)))}}catch(e){G._queueEventLog=!1}},trigger:function(t,a){try{if(a){var r=JSON.parse(JSON.stringify(a));r.name=t.name,r.sdkv=b,G._queueEventLog?G._eventLog.push(r):(G._eventLog&&G._eventLog.length>0&&(e.controllers.util.fireCustomEvent("NSDK_EventHook",G._eventLog),G._eventLog=[]),e.controllers.util.fireCustomEvent("NSDK_EventHook",[r]))}}catch(e){}}},U=function(e,a){return function(r,n){try{a.browserSafeAddEventListener({element:t,eventType:"NSDK_Initialized",func:function(t){try{t.detail.instanceName===e&&r(t.detail.instance)}catch(e){n&&n(e.message)}}})}catch(e){n&&n(e.message)}}}(x.name,e);return x.getOptOutStatus=function(){return T},x.getId=function(){return M},x.GetName=function(){return x.name},x.Initialized=function(e){if(void 0===e)return x.initialized;x.initialized=e},x.getPauseQueueCount=function(){return Object&&Object.keys?Object.keys(D).length:0},x.removeAsset=function(e){void 0!==e&&e.target.param1.hasOwnProperty("assetid")&&(x.staticPage={})},x.handleUpdateOfStatic=function(t){if(t&&t.target){var a=t.target.evtInfo;if(e.GLCFG&&e.GLCFG.PLDCR&&void 0!==a&&a.param1.hasOwnProperty("assetid")&&x.getId()===t.target.plid){var r=e.GLCFG.PLDCR.latestDcrTick();0!==Object.keys(x.staticPage).length&&x.staticPage.hasOwnProperty("id")&&x.staticPage.id===a.param1.assetid&&x.staticPage.hasOwnProperty("lastTimeStamp")?x.staticPage.lastTimeStamp=r:x.staticPage={id:a.param1.assetid,evtParams:a,startTimeStamp:r,lastTimeStamp:r}}}},x.addListener=function(e,t){t&&(void 0===k[e]&&(k[e]=[]),k[e].push(t))},x.removeListener=function(e,t){if(x._listeners[e]instanceof Array)for(var a=k[e],r=0,n=a.length;r<n;r++)if(a[r]===t){a.splice(r,1);break}},x.handleSessionReset=function(e){if(e&&e.target&&e.target.hasOwnProperty("plid")&&M===e.target.plid&&e.target.hasOwnProperty("passedFdata")&&e.target.passedFdata.hasOwnProperty("_dataArrObj")&&e.target.passedFdata._dataArrObj){var t={plid:e.target.plid,fData:e.target.passedFdata._dataArrObj,content:{},ad:{},err:0};if(0===y(t).err&&e.target.passedFdata.hasOwnProperty("_currVidType")){var a=e.target.passedFdata._currVidType,r=Object.keys(t.content).length>0,n=Object.keys(t.ad).length>0;(r||n)&&(x.ggPM("57","1","sessionReset","",""),r&&!D.hasOwnProperty("content")&&(D.content={evt:"pauseloadmeta",meta:t.content,plid:e.target.plid}))}}x._listeners&&x._listeners.fireEvent&&x._listeners.fireEvent("debug",{type:"debug",msg:"Fired handleSessionReset from ggcmb."})},x.flushPauseEventQueue=function(){if(!(Object.keys(D).length<=0)){if(x.modules.PLDPR){var e;for(e in D)g("ggPM",{evtInfo:{eventType:D[e].evt,param1:D[e].meta},id:M});D={}}x._listeners&&x._listeners.fireEvent&&x._listeners.fireEvent("debug",{type:"debug",msg:"Fired flushPauseEventQueue from ggcmb."})}},x.cloneObj=function(e){return e&&"object"==typeof e?JSON.parse(JSON.stringify(e)):e},x.ggPM=function(e,t,a,r,n){if(x.initialized&&void 0!==e&&null!==e&&""!==e){var o={};o.eventType=e,o.param1=x.cloneObj(t),o.param2=x.cloneObj(a),o.param3=x.cloneObj(r),o.param4=x.cloneObj(n),!x.modules.allModInit||2!=x.modules.PLCMB&&2!=x.modules.PLDPR?I.push(o):(x.emptyQueue(),g("ggPM",{evtInfo:o,id:M}),G.trigger(x,o))}},x.getConfigParams=function(){return w},x.emptyQueue=function(){if(!(I.length<=0)&&x.modules.allModInit&&(x.modules.PLCMB||x.modules.PLDPR)){for(var e=0,t=I.length;e<t;e+=1)g("ggPM",{evtInfo:I[e],id:M}),G.trigger(x,I[e]);I=[]}},x.getContainer=function(){return A},x.getClientConfig=function(){return e.configs?e.configs[x.apid]:null},x.ggInitialize=function(t,r,n,o,i,f){if(x.initialized)return E.Promise(function(e,t){e(x)});G.init();var v,g,_,y="us",P="cdn-gl";if(A=f,w={ggParams:t,uid:n,oldFlashDetect:o,detectBrowser:i,nol_playerId:M},typeof t==typeof String()){for(v=e.loadXmlString("<vi>"+t+"</vi>"),g=v.firstChild.firstChild,_=0,t={};g&&void 0!==g&&_<20;)null!==g.firstChild&&(t[g.nodeName]=g.firstChild.nodeValue),g=g.nextSibling,_++;w.ggParams=t}w.ggParams.nol_sdkDebug=e.controllers.util.queryParam("nol_sdkDebug")||w.ggParams.nol_sdkDebug,x.Initialized(!0),p=(t.nsdkv?t.nsdkv.toString():"")||p,y=t.sfcode||y,m=s+(t.coreaddress?l+y:"//secure-"+y)+d,u=t.coreaddress?s+"//"+t.coreaddress+"/":a(t),b=t.sdkconfigver||b,x.apid=w.ggParams.apid,x.sdkv=p,x.sdkvForConfig=x.useCachedConfig&&x.sdkv&&3===x.sdkv.length?"bj."+x.sdkv[0]+"."+x.sdkv[1]+"."+x.sdkv[2]:b;var S=x.getClientConfig();return x.sessionId=e.GLCFG&&e.GLCFG.generateGUID?e.GLCFG.generateGUID():x.id,O({url:m+L+(S&&S.nol_GLOBALS&&S.nol_GLOBALS.nol_dfltAppid?S.nol_GLOBALS.nol_dfltAppid:w.ggParams.apid)+"&sessionId="+x.sessionId+"&C16=sdkv,"+x.sdkvForConfig,currRetry:-1,maxRetry:5,retryDelay:1e3}),x.useCachedConfig&&e.getLib("GLCFG")?(h(e.getLib("GLCFG")),e.GLCFG.loadChildren(x.sdkv),e.GLCFG&&e.GLCFG.browser.ready(function(){e.GLCFG.waitForLS(function(){e.GLCFG.PLDPR.initFromConfig(S,x.id,!0)})})):e.loadLib("GLCFG",u+"novms/js/2/configs/"+c,e,h),E.Promise(U)},x.isViewable=function(){return!1},e.browserSafeAddEventListener({element:t,eventType:"beforeunload",useCapture:!1,func:function(e){x&&x.staticPage&&v(x.staticPage)}}),x}if(!e.isBuilt||!e.isBuilt()){var s=-1!==t.location.protocol.indexOf("https")?"https:":"http:",l="//secure-",d=".imrworldwide.com/",c="glcfg510.js",p="600",u=a(),m=s+"//secure-us.imrworldwide.com/",f="imrworldwide.com",v=864e5,g=e.getInstances?e.getInstances():{},_=1,y=5,h=0,P=0,S=0,O=!1,T=!1,L="cgi-bin/gn?prd=session&c9=devid,&c13=asid,",b="bj.6.0.0",C="6.0.0.6";Date.now=Date.now||function(){return+new Date};var E={Promise:function(e){try{var t=new Promise(function(e,t){});return new Promise(e)}catch(e){}return new function(e){var t=function(e){r&&r(e)},a=function(e){n&&n(e)},r=null,n=null;return{then:function(o,i){r=o,n=i,e(t,a)}}}(e)}};if(e.sdkvForConfig=function(){return b},e.isBuilt=function(){return O},e.getInstance=function(a,r){var n=void 0!==a&&("string"==typeof a||"object"==typeof a&&a.constructor===String)?a:"default";return g.hasOwnProperty(n)||(g[n]=r?i(n,e[n]||t[n]):i(n)),g[n]},e.setTotalNumAssetsAllowed=function(e){_=isNaN(e)?e:parseInt(e,10)},e.getAddress=function(){return u},e.getConfigAddress=function(){return m},e.getInstances=function(){return g},e.loadXmlString=function(e){var t=null;try{return t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e),t}catch(r){try{var a=new DOMParser;return t=a.parseFromString(e,"text/xml")}catch(e){}}return null},e.isNielsenTag=function(e){var t=!1;if(void 0!==e){var a=e.indexOf("?"),r=e.indexOf("imrworldwide.com");r>-1&&r<a&&(t=!0)}return t},e.getVersion=function(){return p},e.send=function(e){e&&t.console&&t.console.log&&console.log(e.parentNode)},e.browserSafeAddEventListener=function(e){void 0!==e.element&&(e.element.addEventListener?e.element.addEventListener(e.eventType,e.func,e.useCapture):e.element.attachEvent&&e.element.attachEvent("on"+e.eventType,e.func))},e.browserSafeRemoveEventListener=function(e){void 0!==e&&null!==e&&null!==e.element&&void 0!==e.element&&(e.element.removeEventListener?e.element.removeEventListener(e.eventType,e.func,e.useCapture):e.element.detachEvent&&e.element.detachEvent("on"+e.eventType,e.func))},e.controllers={util:function(e){return function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var a=document.createEvent("CustomEvent");return a.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),a}if("function"==typeof t.CustomEvent)return!1;e.prototype=t.Event.prototype,t.CustomEvent=e}(),{fireCustomEvent:{fireCustomEvent:function(a,r,n){try{n=n||t,a&&n&&n.dispatchEvent(new CustomEvent(a,{detail:r}))}catch(t){e&&e._listeners&&e._listeners.fireEvent("error",{type:"error",msg:"Browser error attempting to call element.dispatchEvent()."})}}}.fireCustomEvent,queryParam:{queryParam:function(a){try{a=a.toString().toLowerCase();var r=t.location.search.substr(1).split("&"),n="";if(r.find)n=r.find(function(e){return 0===e.toLowerCase().indexOf(a+"=")});else for(var o=0,i=r.length;o<i;o++)if(0===r[o].toLowerCase().indexOf(a+"=")){n=r[o];break}if(n){var s=n.split("=");if(s&&s.length>1)return s[1]}}catch(t){e&&e._listeners&&e._listeners.fireEvent("error",{type:"error",msg:"Browser error attempting to retrieve query string parameter."})}return""}}.queryParam}}(e)},function(){var t={};e.loadLib=function(a,r,n,o){if(void 0!==a&&null!==a&&"string"==typeof a&&void 0!==r&&null!==r&&"string"==typeof r)if(t[a]){if(t[a].body)return void o(t[a].body(n));t[a].callbacks.push({func:o,arg:n})}else t[a]={callbacks:[]},t[a].callbacks.push({func:o,arg:n});else void 0!==r&&null!==r||e.initLib(a,n)},e.registerLib=function(a,r){try{if(t){t.hasOwnProperty(a)||e.initLib(a,e,r);var n=t[a];n.body=r;for(var o=n.callbacks.shift();o;)o.func(n.body(o.arg)),o=n.callbacks.shift()}}catch(e){}},e.initLib=function(e,a,r){if(t[e]||(t[e]={handle:null,callbacks:[]}),t[e].body=r,t[e].body){var n=t[e].body(a);return a[e]=n,void(t[e].handle=n)}},e.getLib=function(e){return t[e]?t[e].handle:null}}(),t.gg_nol_FlashCallBack){for(var w=0,k,I=t.gg_nol_FlashCallBack.length;w<I;w+=1)t.gg_nol_FlashCallBack[w].hasOwnProperty("callBack")&&(k=document.getElementById(t.gg_nol_FlashCallBack[w].swfId))&&k[t.gg_nol_FlashCallBack[w].callBack]();t.gg_nol_FlashCallBack=void 0}O||(O=!0,h=P=Date.now(),e.BUILDVERSION="6.0.0.6")}}(e.NOLBUNDLE=e.NOLBUNDLE||{},e),e.NOLBUNDLE.registerLib("GLCFG",function(t){function a(t,a){if(t&&a){var r=a.path;e.NOLBUNDLE.loadLib(t,r,f,function(){a.status=1})}}function r(e){try{if(!e.modules.allModInit){var t=!0;for(g in E)if(E.hasOwnProperty(g)&&C[e.sdkv].hasOwnProperty(g)&&!f[g]){if("PLLOG"!==g&&2!==e.modules[g]){t=!1;break}}else;t&&(e.modules.allModInit=!0,f._listeners.fireEvent("flushQueue"))}}catch(e){}}function n(e){if(e){var t,a;for(t in f.availModules)f.availModules.hasOwnProperty(t)&&1==e.init&&(e.modules[t]||(e[t]=new f.availModules[t].init(e),e.modules[t]=1));var n=e.getConfigParams().nol_playerId;f._players[n]=e,f._listeners.addListener("tick",function(){r(f._players[n])})}}function o(){void 0!==e.document.referrer&&e.document.referrer.length>0&&f.postMsgAvail&&e.parent.postMessage("nolInit",0===e.location.protocol.indexOf("http")?e.document.referrer:"*"),h<P?e.clearInterval(y):P+=1}function i(){if(!(this instanceof i))return new i;f._listeners={},this.addListener=function(e,t,a){var r=a||!1;void 0===f._listeners[e]&&(f._listeners[e]=[]),f._listeners[e].push({cb:t,remove:r})},this.fireEvent=function(e,t){if(e){var a,r,n;if("string"==typeof e&&(e={type:e}),e.target||(e.target=t),!e.type)throw new Error("Event object missing 'type' property.");if(f._listeners[e.type]instanceof Array){for(a=f._listeners[e.type],r=0,n=a.length;r<n;r++)a[r]&&a[r].cb.call(this,e);for(r=0;r<a.length;r++)a[r]&&a[r].remove&&(a.splice(r,1),r--)}}},this.removeListener=function(e,t){var a,r,n;if(f._listeners[e]instanceof Array)for(a=f._listeners[e],r=0,n=a.length;r<n;r++)if(a[r]&&a[r].cb===t){a[r].remove=!0;break}}}function s(e){var t;for(t in E)E.hasOwnProperty(t)&&C[e||b].hasOwnProperty(t)&&!f[t]&&a(t,E[t])}function l(e){e&&f._listeners.fireEvent(e.eventTrigger,e)}function d(){for(var e=0;e<f.onLSReady.length;e++)f.onLSReady[e]();f.onLSReady=[]}function c(t,a,r){try{a=a||1,f.gIframe||(f.gIframe=e.document.createElement("iframe"),f.gIframe.src=L+"novms/html/ls.html",f.gIframe.height=0,f.gIframe.width=0,f.gIframe.style.display="none",f.gIframe.id="lsframe",f.gIframe.onload=function(){p(),f.getEmmUrl(),m(),f.gIframeReady=!0,f.thirdPartyData.cookiesEnabled=navigator.cookieEnabled,r&&r(),f.browser.localStorageSupported()||(f.thirdPartyData.localStorageEnabled=!1,d())}),e&&e.document&&e.document.body?e.document.body.appendChild(f.gIframe):a<=15&&setTimeout(function(){f._listeners.fireEvent("debug",{type:"debug",msg:"document.body not ready - delaying to add ls.html"}),c(t,a++,r)},a<=1?0:300)}catch(t){e.console&&e.console.error&&e.console.error("Unable to register ls.html - "+t.message)}}function p(e){if(void 0!==f.gIframe&&f.postMsgAvail)return void 0===e?void f.lsController.store.get(k):void f.lsController.store.set(k,e)}function u(e){if(void 0!==f.gIframe&&f.postMsgAvail)return void 0===e?void f.lsController.store.get(emmUrlKey):void f.lsController.store.set(emmUrlKey,e)}function m(){f.gIframe.contentWindow.postMessage(JSON.stringify({key:optoutCookieKey,eventType:"get",storageType:"cookie"}),f.gIframe.src)}var f=t.GLCFG&&t.GLCFG.getBaseBuildVer?t.GLCFG:{},v,g,_,y=0,h=30,P=0,S=!0,O=864e5,T=e.NOLBUNDLE,L=T.getAddress(),b=T.getVersion();f.localStorageId=f.localStorageId||"-1",f.EMMURL=f.EMMURL||"",f.optoutCookie=f.optoutCookie||"",f.gotLSID=f.gotLSID||!1,f.gotEMMURL=f.gotEMMURL||!1,f.gotOptoutCookie=f.gotOptoutCookie||!1;var C={600:{PLDPR:600,PLDCR:600,PLLOG:600,CONFIG:300,BASEVER:"6.0.0",LSID:!0},"600_rc":{PLDPR:600,PLDCR:600,PLLOG:600,CONFIG:300,BASEVER:"6.0.0.rc",LSID:!0},601:{PLDPR:600,PLDCR:600,PLCMB:600,PLLOG:600,CONFIG:300,BASEVER:"6.0.1",LSID:!0}},E={PLDPR:{path:L+"novms/js/2/pldpr"+C[b].PLDPR+".js",status:0},PLDCR:{path:L+"novms/js/2/pldcr"+C[b].PLDCR+".js",status:0},PLCMB:{path:L+"novms/js/2/plcmb"+C[b].PLCMB+".js",status:0},PLLOG:{path:L+"novms/js/2/pllog"+C[b].PLLOG+".js",status:0}},w="6.0.0.7",k="nol_lsid";if(emmUrlKey="nol_emmURL",optoutCookieKey="OPT_OUT",f.gIframe=f.gIframe||f.getLS?f.getLS():null,f.gIframeReady=f.gIframeReady||!1,f.onLSReady=f.onLSReady||[],f.thirdPartyData=f.thirdPartyData||{cookiesEnabled:!0,localStorageEnabled:!0},f.postMsgAvail=f.postMsgAvail||"function"==typeof e.postMessage,f.availModules=f.availModules||{},f._players=f._players||{},f.id=f.id||"0",f.childGlobal=f.childGlobal||!!e&&e.top!==e.self,f.parentFound=f.parentFound||!1,f.CryptoJS=f.CryptoJS||function(e,t){var a={},r=a.lib={},n=function(){},o=r.Base={extend:function(e){n.prototype=this;var t=new n;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},i=r.WordArray=o.extend({init:function(e,a){e=this.words=e||[],this.sigBytes=a!=t?a:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,a=e.words,r=this.sigBytes;if(e=e.sigBytes,this.clamp(),r%4)for(var n=0;n<e;n++)t[r+n>>>2]|=(a[n>>>2]>>>24-n%4*8&255)<<24-(r+n)%4*8;else if(65535<a.length)for(n=0;n<e;n+=4)t[r+n>>>2]=a[n>>>2];else t.push.apply(t,a);return this.sigBytes+=e,this},clamp:function(){var t=this.words,a=this.sigBytes;t[a>>>2]&=4294967295<<32-a%4*8,t.length=e.ceil(a/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var a=[],r=0;r<t;r+=4)a.push(4294967296*e.random()|0);return new i.init(a,t)}}),s=a.enc={},l=s.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var a=[],r=0;r<e;r++){var n=t[r>>>2]>>>24-r%4*8&255;a.push((n>>>4).toString(16)),a.push((15&n).toString(16))}return a.join("")},parse:function(e){for(var t=e.length,a=[],r=0;r<t;r+=2)a[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new i.init(a,t/2)}},d=s.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var a=[],r=0;r<e;r++)a.push(String.fromCharCode(t[r>>>2]>>>24-r%4*8&255));return a.join("")},parse:function(e){for(var t=e.length,a=[],r=0;r<t;r++)a[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new i.init(a,t)}},c=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},p=r.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new i.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=c.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var a=this._data,r=a.words,n=a.sigBytes,o=this.blockSize,s=n/(4*o),s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0);if(t=s*o,n=e.min(4*t,n),t){for(var l=0;l<t;l+=o)this._doProcessBlock(r,l);l=r.splice(0,t),a.sigBytes-=n}return new i.init(l,n)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});r.Hasher=p.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,a){return new e.init(a).finalize(t)}},_createHmacHelper:function(e){return function(t,a){return new u.HMAC.init(e,a).finalize(t)}}});var u=a.algo={};return a}(Math),f.checkUserAgent=function(t){var a=e?e.navigator.userAgent.toLowerCase():null;return void 0!==t&&t.length>0&&(a=-1!==a.search(t)),a},f.userAgent=function(e){var t=null,a="";try{t=e&&e.navigator?e.navigator.userAgent:null,a=t?t.toLowerCase():""}catch(e){}return{get:function(){return t},isFB:function(){return-1!==a.search(/(?=.*\[fb).*/)},isChrome:function(){return-1!==a.search(/(?=.*chrome).*/)||-1!==a.search(/(?=.*crios).*/)},isMac:function(){return-1!==a.search(/(?=.*macintosh).*/)},isIOS:function(){return-1!==a.search(/(?=.*iphone).*/)||-1!==a.search(/(?=.*ipad).*/)},iosVersion:function(){var e=new RegExp(/os\s([0-9_]*?)\s/gi),t=e.exec(a),r=t&&t.length>1?t[1].split("_"):[];return{version:t&&t.length>0?t[1].replace(/_/gi,"."):"",major:r&&r.length>0?parseInt(r[0]):0,minor:r&&r.length>1?parseInt(r[1]):0,patch:r&&r.length>2?parseInt(r[2]):0}},isAndroid:function(){return-1!==a.search(/(?=.*android).*/)},androidVersion:function(){var e=new RegExp(/android (.*?);/gi),t=e.exec(a),r=t&&t.length>1?t[1].split("."):[];return{version:t&&t.length>0?t[1]:"",major:r&&r.length>0?parseInt(r[0]):0,minor:r&&r.length>1?parseInt(r[1]):0,patch:r&&r.length>2?parseInt(r[2]):0}}}}(e),f.getBaseBuildVer=function(){if(C[b].hasOwnProperty("BASEVER"))return C[b].BASEVER+"."},f.getConfigVer=function(){if(C[b].hasOwnProperty("CONFIG"))return C[b].CONFIG},f.getIfLsidShouldSend=function(){if(C[b].hasOwnProperty("LSID"))return C[b].LSID},f.globalHasFocus=function(){if(C[b].hasOwnProperty("FORCEFOCUS"))return C[b].FORCEFOCUS;if(e.top!=e.self)return!1;var t=!1;try{t=e.top.document.hasFocus()}catch(e){t=!0}return t},f.bindPlayers=function(e,t){if(t){var a;f.availModules[t]=e;for(a in f._players)f._players.hasOwnProperty(a)&&1==f._players[a].init&&(f._players[a].modules[t]||(f._players[a][t]=new e.init(f._players[a]),f._players[a].modules[t]=2))}},f.enablePlayer=function(e,t){e&&t&&(f._players[e].modules[t]=2)},f.registerListener=function(e,t){t&&(t.addListener(e,function(t){f._listeners.fireEvent(e,t)}),t.init||(t.init=1,n(t)))},f._listeners=f._listeners||new i,f.lsReady=function(){return f.gIframeReady},f.lsController={store:{get:function(t){f.gIframe.contentWindow.postMessage(JSON.stringify({key:t,eventType:"get",storageType:"local"}),0===e.location.protocol.indexOf("http")?f.gIframe.src:"*")},set:function(t,a){f.gIframe.contentWindow.postMessage(JSON.stringify({key:t,eventType:"set",storageType:"local",data:a}),0===e.location.protocol.indexOf("http")?f.gIframe.src:"*")}},request:function(t){f.gIframe.contentWindow.postMessage(JSON.stringify({eventType:"reqUsingFrame",data:{url:t}}),0===e.location.protocol.indexOf("http")?f.gIframe.src:"*")}},f.getLS=function(){return f.gIframe},f.waitForLS=function(e){f.thirdPartyData.localStorageEnabled?e&&(f.gIframeReady&&"-1"!==f.localStorageId?e():f.onLSReady.push(e)):e&&e()},f.browser=function(){function t(e){void 0!==e.element&&(e.element.addEventListener?e.element.addEventListener(e.eventType,e.func,e.useCapture):e.element.attachEvent&&e.element.attachEvent("on"+e.eventType,e.func))}function a(e){void 0!=e&&null!=e&&null!=e.element&&void 0!=e.element&&(e.element.removeEventListener?e.element.removeEventListener(e.eventType,e.func,e.useCapture):e.element.detachEvent&&e.element.detachEvent("on"+e.eventType,e.func))}function r(r){function n(){a({element:document,eventType:"DOMContentLoaded",func:i}),a({element:e,eventType:"load",func:i})}function i(){n(),o.ready=!0,r&&r()}if(o.ready)return void(r&&r());"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?e.setTimeout(i):(t({element:document,eventType:"DOMContentLoaded",func:i}),t({element:e,eventType:"load",func:i}))}function n(){try{var t=e.localStorage;if(null!==t&&void 0!==t)return!0}catch(e){return!1}return!1}var o={ready:!1};return{addEventListener:t,removeEventListener:a,ready:r,localStorageSupported:n}}(),f.updateReceiver=function(e){l(e)},f.generateGUID=function(){function e(){var e;do{e=Math.floor(992*Math.random())}while(e>61);return e}for(var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",a=29,r="",n=0;n<29;n++)r+=t.charAt(e());return r+=Math.floor((new Date).getTime()/1e3)},f.getLsId=function(){return"string"!=typeof f.localStorageId?f.localStorageId.toString():f.localStorageId},f.getEmmUrl=function(){return u()},f.getOptoutCookie=function(){return f.optoutCookie},f.setLsId=function(e,t,a){if(null!==e&&void 0!==e&&e!==f.getLsId()&&(f.localStorageId=e,p(f.localStorageId)),t&&f.postMsgAvail)if(f.userAgent.isAndroid()&&f.userAgent.androidVersion().major<6){var r="";f.userAgent.isChrome()?(r="intent://nuid/"+a+"/#Intent;action=android.intent.action.VIEW;scheme=nielsenwebid;component=com.nielsen.odm/.NielsenMobileMeter;end",f.lsController.request(r),f._listeners.fireEvent("info",{type:"info",msg:"Firing EMM intent "+r})):(r="nielsenwebid://nuid/"+a,f.lsController.request(r),f._listeners.fireEvent("info",{type:"info",msg:"Firing EMM deep link "+r})),f.setEmmUrl(r)}else f.lsController.request(t),f._listeners.fireEvent("info",{type:"info",msg:"Firing EMM link "+t}),f.setEmmUrl(t)},f.setEmmUrl=function(e){e&&(f.EMMURL=e,u(f.EMMURL))},f.isValidJson=function(e){var t;try{t=JSON.parse(e)}catch(e){return!1}return"Object"==typeof t},f.loadChildren=s,!f.built){try{c(),T.browserSafeAddEventListener({element:e,eventType:"message",func:function(t){var a,r,n;if(t.data&&"nolInit"==t.data&&e.self===e.top)for(a=e.document.getElementsByTagName("iframe"),r=a.length-1;r>=0;r--)a[r].contentWindow==t.source&&f.postMsgAvail&&t.source.postMessage({key:"nolChildReg",parentID:f.id},0===e.location.protocol.indexOf("http")?t.origin:"*");else t.data&&t.data.key&&"nolChildReg"==t.data.key&&(f.parentFound=!0,e.clearInterval(y));if(t.origin&&t.origin.indexOf("imrworldwide.com")>-1&&t.data){var o=""!==t.data.val&&f.isValidJson(t.data.val)?JSON.parse(t.data.val):t.data.val,i=""!==t.data.key&&f.isValidJson(t.data.key)?JSON.parse(t.data.key):t.data.key;if(t.data&&"lsget"===t.data.type)switch(i){case k:var s="OPTOUT"===String(o).toUpperCase();f.setLsId(o),f.gotLSID=!0,f._listeners.fireEvent("sendOptOutStatus",s);break;case emmUrlKey:f.EMMURL=o,f.gotEMMURL=!0}else if(t.data&&"cookieget"===t.data.type)switch(i){case optoutCookieKey:f.optoutCookie=o,f.gotOptoutCookie=!0}else if(t.data&&"lsdisabled"===t.data.type&&1==t.data.val)switch(f.thirdPartyData.localStorageEnabled=!1,t.data.key){case k:f.gotLSID=!0;break;case emmUrlKey:f.gotEMMURL=!0}else t.data&&"cookiedisabled"===t.data.type&&1==t.data.val&&(f.thirdPartyData.cookiesEnabled=!1,t.data.key===optoutCookieKey&&(f.gotOptoutCookie=!0));f.gotLSID&&f.gotEMMURL&&f.gotOptoutCookie&&d()}},useCapture:!1}),void 0===v&&(v=e.setInterval(function(e){f._listeners.fireEvent("tick",e)},1e3)),f.childGlobal&&(y=e.setInterval(function(){o()},500))}catch(e){}!function(){var e=f.CryptoJS,t=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,a=e.sigBytes,r=this._map;e.clamp(),e=[];for(var n=0;n<a;n+=3)for(var o=(t[n>>>2]>>>24-n%4*8&255)<<16|(t[n+1>>>2]>>>24-(n+1)%4*8&255)<<8|t[n+2>>>2]>>>24-(n+2)%4*8&255,i=0;4>i&&n+.75*i<a;i++)e.push(r.charAt(o>>>6*(3-i)&63));if(t=r.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var a=e.length,r=this._map,n=r.charAt(64);n&&-1!=(n=e.indexOf(n))&&(a=n);for(var n=[],o=0,i=0;i<a;i++)if(i%4){var s=r.indexOf(e.charAt(i-1))<<i%4*2,l=r.indexOf(e.charAt(i))>>>6-i%4*2;n[o>>>2]|=(s|l)<<24-o%4*8,o++}return t.create(n,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){function t(e,t,a,r,n,o,i){return((e=e+(t&a|~t&r)+n+i)<<o|e>>>32-o)+t}function a(e,t,a,r,n,o,i){return((e=e+(t&r|a&~r)+n+i)<<o|e>>>32-o)+t}function r(e,t,a,r,n,o,i){return((e=e+(t^a^r)+n+i)<<o|e>>>32-o)+t}function n(e,t,a,r,n,o,i){return((e=e+(a^(t|~r))+n+i)<<o|e>>>32-o)+t}for(var o=f.CryptoJS,i=o.lib,s=i.WordArray,l=i.Hasher,i=o.algo,d=[],c=0;64>c;c++)d[c]=4294967296*e.abs(e.sin(c+1))|0;i=i.MD5=l.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,o){for(var i=0;16>i;i++){var s=o+i,l=e[s];e[s]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}var i=this._hash.words,s=e[o+0],l=e[o+1],c=e[o+2],p=e[o+3],u=e[o+4],m=e[o+5],f=e[o+6],v=e[o+7],g=e[o+8],_=e[o+9],y=e[o+10],h=e[o+11],P=e[o+12],S=e[o+13],O=e[o+14],T=e[o+15],L=i[0],b=i[1],C=i[2],E=i[3],L=t(L,b,C,E,s,7,d[0]),E=t(E,L,b,C,l,12,d[1]),C=t(C,E,L,b,c,17,d[2]),b=t(b,C,E,L,p,22,d[3]),L=t(L,b,C,E,u,7,d[4]),E=t(E,L,b,C,m,12,d[5]),C=t(C,E,L,b,f,17,d[6]),b=t(b,C,E,L,v,22,d[7]),L=t(L,b,C,E,g,7,d[8]),E=t(E,L,b,C,_,12,d[9]),C=t(C,E,L,b,y,17,d[10]),b=t(b,C,E,L,h,22,d[11]),L=t(L,b,C,E,P,7,d[12]),E=t(E,L,b,C,S,12,d[13]),C=t(C,E,L,b,O,17,d[14]),b=t(b,C,E,L,T,22,d[15]),L=a(L,b,C,E,l,5,d[16]),E=a(E,L,b,C,f,9,d[17]),C=a(C,E,L,b,h,14,d[18]),b=a(b,C,E,L,s,20,d[19]),L=a(L,b,C,E,m,5,d[20]),E=a(E,L,b,C,y,9,d[21]),C=a(C,E,L,b,T,14,d[22]),b=a(b,C,E,L,u,20,d[23]),L=a(L,b,C,E,_,5,d[24]),E=a(E,L,b,C,O,9,d[25]),C=a(C,E,L,b,p,14,d[26]),b=a(b,C,E,L,g,20,d[27]),L=a(L,b,C,E,S,5,d[28]),E=a(E,L,b,C,c,9,d[29]),C=a(C,E,L,b,v,14,d[30]),b=a(b,C,E,L,P,20,d[31]),L=r(L,b,C,E,m,4,d[32]),E=r(E,L,b,C,g,11,d[33]),C=r(C,E,L,b,h,16,d[34]),b=r(b,C,E,L,O,23,d[35]),L=r(L,b,C,E,l,4,d[36]),E=r(E,L,b,C,u,11,d[37]),C=r(C,E,L,b,v,16,d[38]),b=r(b,C,E,L,y,23,d[39]),L=r(L,b,C,E,S,4,d[40]),E=r(E,L,b,C,s,11,d[41]),C=r(C,E,L,b,p,16,d[42]),b=r(b,C,E,L,f,23,d[43]),L=r(L,b,C,E,_,4,d[44]),E=r(E,L,b,C,P,11,d[45]),C=r(C,E,L,b,T,16,d[46]),b=r(b,C,E,L,c,23,d[47]),L=n(L,b,C,E,s,6,d[48]),E=n(E,L,b,C,v,10,d[49]),C=n(C,E,L,b,O,15,d[50]),b=n(b,C,E,L,m,21,d[51]),L=n(L,b,C,E,P,6,d[52]),E=n(E,L,b,C,p,10,d[53]),C=n(C,E,L,b,y,15,d[54]),b=n(b,C,E,L,l,21,d[55]),L=n(L,b,C,E,g,6,d[56]),E=n(E,L,b,C,T,10,d[57]),C=n(C,E,L,b,f,15,d[58]),b=n(b,C,E,L,S,21,d[59]),L=n(L,b,C,E,u,6,d[60]),E=n(E,L,b,C,h,10,d[61]),C=n(C,E,L,b,c,15,d[62]),b=n(b,C,E,L,_,21,d[63]);i[0]=i[0]+L|0,i[1]=i[1]+b|0,i[2]=i[2]+C|0,i[3]=i[3]+E|0},_doFinalize:function(){
var t=this._data,a=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;a[n>>>5]|=128<<24-n%32;var o=e.floor(r/4294967296);for(a[15+(n+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),a[14+(n+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t.sigBytes=4*(a.length+1),this._process(),t=this._hash,a=t.words,r=0;4>r;r++)n=a[r],a[r]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8);return t},clone:function(){var e=l.clone.call(this);return e._hash=this._hash.clone(),e}}),o.MD5=l._createHelper(i),o.HmacMD5=l._createHmacHelper(i)}(Math),function(){var e=f.CryptoJS,t=e.lib,a=t.Base,r=t.WordArray,t=e.algo,n=t.EvpKDF=a.extend({cfg:a.extend({keySize:4,hasher:t.MD5,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var a=this.cfg,n=a.hasher.create(),o=r.create(),i=o.words,s=a.keySize,a=a.iterations;i.length<s;){l&&n.update(l);var l=n.update(e).finalize(t);n.reset();for(var d=1;d<a;d++)l=n.finalize(l),n.reset();o.concat(l)}return o.sigBytes=4*s,o}});e.EvpKDF=function(e,t,a){return n.create(a).compute(e,t)}}(),f.CryptoJS.lib.Cipher||function(e){var t=f.CryptoJS,a=t.lib,r=a.Base,n=a.WordArray,o=a.BufferedBlockAlgorithm,i=t.enc.Base64,s=t.algo.EvpKDF,l=a.Cipher=o.extend({cfg:r.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,a){this.cfg=this.cfg.extend(a),this._xformMode=e,this._key=t,this.reset()},reset:function(){o.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(t,a,r){return("string"==typeof a?v:m).encrypt(e,t,a,r)},decrypt:function(t,a,r){return("string"==typeof a?v:m).decrypt(e,t,a,r)}}}});a.StreamCipher=l.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var d=t.mode={},c=function(t,a,r){var n=this._iv;n?this._iv=e:n=this._prevBlock;for(var o=0;o<r;o++)t[a+o]^=n[o]},p=(a.BlockCipherMode=r.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}})).extend();p.Encryptor=p.extend({processBlock:function(e,t){var a=this._cipher,r=a.blockSize;c.call(this,e,t,r),a.encryptBlock(e,t),this._prevBlock=e.slice(t,t+r)}}),p.Decryptor=p.extend({processBlock:function(e,t){var a=this._cipher,r=a.blockSize,n=e.slice(t,t+r);a.decryptBlock(e,t),c.call(this,e,t,r),this._prevBlock=n}}),d=d.CBC=p,p=(t.pad={}).Pkcs7={pad:function(e,t){for(var a=4*t,a=a-e.sigBytes%a,r=a<<24|a<<16|a<<8|a,o=[],i=0;i<a;i+=4)o.push(r);a=n.create(o,a),e.concat(a)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},a.BlockCipher=l.extend({cfg:l.cfg.extend({mode:d,padding:p}),reset:function(){l.reset.call(this);var e=this.cfg,t=e.iv,e=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var a=e.createEncryptor;else a=e.createDecryptor,this._minBufferSize=1;this._mode=a.call(e,this,t&&t.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4});var u=a.CipherParams=r.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),d=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return e=e.salt,(e?n.create([1398893684,1701076831]).concat(e).concat(t):t).toString(i)},parse:function(e){e=i.parse(e);var t=e.words;if(1398893684==t[0]&&1701076831==t[1]){var a=n.create(t.slice(2,4));t.splice(0,4),e.sigBytes-=16}return u.create({ciphertext:e,salt:a})}},m=a.SerializableCipher=r.extend({cfg:r.extend({format:d}),encrypt:function(e,t,a,r){r=this.cfg.extend(r);var n=e.createEncryptor(a,r);return t=n.finalize(t),n=n.cfg,u.create({ciphertext:t,key:a,iv:n.iv,algorithm:e,mode:n.mode,padding:n.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,a,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(a,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),t=(t.kdf={}).OpenSSL={execute:function(e,t,a,r){return r||(r=n.random(8)),e=s.create({keySize:t+a}).compute(e,r),a=n.create(e.words.slice(t),4*a),e.sigBytes=4*t,u.create({key:e,iv:a,salt:r})}},v=a.PasswordBasedCipher=m.extend({cfg:m.cfg.extend({kdf:t}),encrypt:function(e,t,a,r){return r=this.cfg.extend(r),a=r.kdf.execute(a,e.keySize,e.ivSize),r.iv=a.iv,e=m.encrypt.call(this,e,t,a.key,r),e.mixIn(a),e},decrypt:function(e,t,a,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),a=r.kdf.execute(a,e.keySize,e.ivSize,t.salt),r.iv=a.iv,m.decrypt.call(this,e,t,a.key,r)}})}(),function(){for(var e=f.CryptoJS,t=e.lib.BlockCipher,a=e.algo,r=[],n=[],o=[],i=[],s=[],l=[],d=[],c=[],p=[],u=[],m=[],v=0;256>v;v++)m[v]=128>v?v<<1:v<<1^283;for(var g=0,_=0,v=0;256>v;v++){var y=_^_<<1^_<<2^_<<3^_<<4,y=y>>>8^255&y^99;r[g]=y,n[y]=g;var h=m[g],P=m[h],S=m[P],O=257*m[y]^16843008*y;o[g]=O<<24|O>>>8,i[g]=O<<16|O>>>16,s[g]=O<<8|O>>>24,l[g]=O,O=16843009*S^65537*P^257*h^16843008*g,d[y]=O<<24|O>>>8,c[y]=O<<16|O>>>16,p[y]=O<<8|O>>>24,u[y]=O,g?(g=h^m[m[m[S^h]]],_^=m[m[_]]):g=_=1}var T=[0,1,2,4,8,16,32,64,128,27,54],a=a.AES=t.extend({_doReset:function(){for(var e=this._key,t=e.words,a=e.sigBytes/4,e=4*((this._nRounds=a+6)+1),n=this._keySchedule=[],o=0;o<e;o++)if(o<a)n[o]=t[o];else{var i=n[o-1];o%a?6<a&&4==o%a&&(i=r[i>>>24]<<24|r[i>>>16&255]<<16|r[i>>>8&255]<<8|r[255&i]):(i=i<<8|i>>>24,i=r[i>>>24]<<24|r[i>>>16&255]<<16|r[i>>>8&255]<<8|r[255&i],i^=T[o/a|0]<<24),n[o]=n[o-a]^i}for(t=this._invKeySchedule=[],a=0;a<e;a++)o=e-a,i=a%4?n[o]:n[o-4],t[a]=4>a||4>=o?i:d[r[i>>>24]]^c[r[i>>>16&255]]^p[r[i>>>8&255]]^u[r[255&i]]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,o,i,s,l,r)},decryptBlock:function(e,t){var a=e[t+1];e[t+1]=e[t+3],e[t+3]=a,this._doCryptBlock(e,t,this._invKeySchedule,d,c,p,u,n),a=e[t+1],e[t+1]=e[t+3],e[t+3]=a},_doCryptBlock:function(e,t,a,r,n,o,i,s){for(var l=this._nRounds,d=e[t]^a[0],c=e[t+1]^a[1],p=e[t+2]^a[2],u=e[t+3]^a[3],m=4,f=1;f<l;f++)var v=r[d>>>24]^n[c>>>16&255]^o[p>>>8&255]^i[255&u]^a[m++],g=r[c>>>24]^n[p>>>16&255]^o[u>>>8&255]^i[255&d]^a[m++],_=r[p>>>24]^n[u>>>16&255]^o[d>>>8&255]^i[255&c]^a[m++],u=r[u>>>24]^n[d>>>16&255]^o[c>>>8&255]^i[255&p]^a[m++],d=v,c=g,p=_;v=(s[d>>>24]<<24|s[c>>>16&255]<<16|s[p>>>8&255]<<8|s[255&u])^a[m++],g=(s[c>>>24]<<24|s[p>>>16&255]<<16|s[u>>>8&255]<<8|s[255&d])^a[m++],_=(s[p>>>24]<<24|s[u>>>16&255]<<16|s[d>>>8&255]<<8|s[255&c])^a[m++],u=(s[u>>>24]<<24|s[d>>>16&255]<<16|s[c>>>8&255]<<8|s[255&p])^a[m++],e[t]=v,e[t+1]=g,e[t+2]=_,e[t+3]=u},keySize:8});e.AES=t._createHelper(a)}(),f.built=!0}if(e.gg_nol_CallBack)for(g=0,_=e.gg_nol_CallBack.length;g<_;g+=1)e.gg_nol_CallBack[g]&&e.gg_nol_CallBack[g].callBack&&e.gg_nol_CallBack[g].callBack(f);return f}),e.NOLBUNDLE.registerLib("PLDPR",function(t){"use strict";function a(e,t){var a=[],r=e.split("&"),n,o;for(n=0,o=r.length;n<o;n+=1)0!==r[n].indexOf(t)&&a.push(r[n]);return a.join("&")}function r(t,a){var r=t.split("||"),n=r[0]||t;if(e)for(var o=0,i=r.length;o<i;o+=1)n=r[o],void 0!==e["on"+n]&&(e.addEventListener?e.addEventListener(n,a,!1):e.attachEvent&&e.attachEvent("on"+n,a))}function n(e,t){var a;if("num"==t)a=parseInt(e,10),e=isNaN(a)?0:a;else if("bin"==t)e=isNaN(Number(e))?"0":Number(e).toString(2);else if("bool"==t)switch(e.toString().toLowerCase()){case"false":case"no":case"0":case"":e=!1;break;default:e=!0}else"b2n"==t&&(a=parseInt(e,2),e=isNaN(a)?0:a);return e}function o(e){var t,a=[];for(t=0;t<n(e,"num");t+=1)a.push({tsv:0,save:!1,updated:!1});return a}function i(e){return{tags:[],eventQueue:e&&e.eventQueue?e.eventQueue:[],tagSize:1,bReInit:!1,debug:Oe,eventQueueIndex:0}}function s(t){var r;void 0!==t&&0!==t.length&&(r=e.document.createElement("script"),r.type="text/javascript",r.src=a(t,"rnd=")+"&rnd="+Math.round(1e6*Math.random()),r.onerror=function(t){var a=t.target.src;e.document.head?e.document.head.removeChild(t.target):e.document.getElementsByTagName("head")[0].removeChild(t.target),fe<ve&&(fe+=1,e.setTimeout(function(){s(a)},5e3))},r.onload=function(t){fe=0,e.document.head?e.document.head.removeChild(t.target):e.document.getElementsByTagName("head")[0].removeChild(t.target)},e.document.head?e.document.head.appendChild(r):e.document.getElementsByTagName("head")[0].appendChild(r))}function l(){var e=Array.prototype.slice.call(arguments);t._listeners.fireEvent("info",{type:"info",msg:e.join(" ")})}function d(e){return encodeURIComponent(e).replace("'","%27")}function c(e){var t=0===re.indexOf("https")?"https":"http",a,r,n,o=e.url,i=e.hasOwnProperty("maskRef")?e.maskRef:-1;if("__sendIt"!==o&&"https"===t&&-1===o.indexOf("https")&&(o=t+o.substr(o.indexOf("://"))),e.prod&&"ocr"===e.prod&&-1!==o.indexOf("&ty=js"))return void s(o);if(ye||"__sendIt"===o)if(o&&ye&&Pe)Se.push(o);else if("__sendIt"!==o||Pe)o&&ye&&!Pe&&_e.push(o);else{for(Pe=!0,a=0,r=_e.length;a<r;a+=1)De.setup({pingSendTime:P(e.serverTimeOffset),url:_e.shift(),maskRefUrl:i});_e=_e.concat(Se),Pe=!1,Se=[]}else De.setup({pingSendTime:P(e.serverTimeOffset),url:o,maskRefUrl:i})}function p(e,t){var a="",r,n,o,i;if(!e||!t)return e;for(i=t.length,n=0,o=e.length;n<o;n+=1)r=e.charCodeAt(n)^t.charCodeAt(n%i),a+=0===r?e.charAt(n):String.fromCharCode(r);return a}function u(e,a,r,n){var o,i;-1===r.indexOf("[")&&-1===r.indexOf("]")&&(!n.val||n.val.length<=0)?(v(e,{type:"100",msg:r+" missing -- "+A({data:e,param:"nol_comment"})}),n.state=!1,n.val=""):"{"===a||"}"===a?n.val=t.CryptoJS.MD5(n.val.toString()).toString():"<"===a||">"===a?(o=r.match(de["<"].end),o?(i=o[0].match(/[\d]+/g),n.val=String(n.val).substr(i[0],i[1])):n.val=p(String(n.val),A({data:e,param:"nol_xorSeed"}))):"("!==a&&")"!==a||(n.val=d(n.val))}function m(e,t){var a=t.match(/[\[\{<\(]/g),r,n,o,i,s,l,d,c,p,m,f,g,_=A({data:e,param:"nol_xorSeed"})||"",y,h;if(a=a?a.reverse():[],n=t.match(/[\}\]\>\)]/g)||[],i={start:a.length?t.lastIndexOf(String(a[0])):-1,end:n.length?t.indexOf(String(n[0])):t.length},n&&">"===n[0]&&(i.end=t.search(de["<"].end)||t.indexOf(">")),l=t.substring(i.start+1,i.end),p=l.split("||"),p.length>0)for(m=0,f=p.length;m<f&&(l=p[m],!((g=A({data:e,param:l}))&&g.length>0));m+=1);else g=A({data:e,param:l});if(g&&g.length>0&&(h="string"==typeof l?l.split("_"):l,y=h[0]?h.splice(0,2).join("_"):h,(s=be[y]?be[y].encoding:"")&&(a=a.reverse().concat(s.match(/[\[\{<\(]/g)).reverse(),n=n.reverse().concat(s.match(/[\}\]>\)]/g)).reverse())),r={val:g,state:A({data:e,param:"nolPriv_sendData"})},d=a?a.length:0,c=n?n.length:0,(o=Math.min(d,c))>0)for(m=0,f=o;m<f;m+=1)u(e,a[0]||n[0],t,r,_),a.shift(),n.shift();else(!r.val||r.val&&r.val.length<=0)&&(r.state=!1,r.val="",v(e,{type:100,msg:l+" missing "+A({data:e,param:"nol_comment"})}));return{val:r.val,strManipulate:a,strManiEnd:n}}function f(e,t,a){var r,n,o={val:"",state:A({data:e,param:"nolPriv_sendData"})},i=A({data:e,param:"nol_md5Seed"}),s,l,d,c=[],p,f=[],v=[],g,_="",y,h,P,S,O,T,L=A({data:e,param:"nol_xorSeed"});if(t=t||A({data:e,param:"nol_url"})||"",null!==(n=t.match(ce.regex)))for(h=0,P=n.length;h<P;h+=1){if(r=n[h],s=r.substr(ce.length,r.length-2*ce.length),l=s.split("+"),c=[],_="",d=0,l&&l.length>1){for(S=0,O=l.length;S<O;S+=1)if(_=l[S],p=m(e,_),p.strManipulate.length>0&&(d=c.length,f=[].concat(p.strManipulate,f)),c[d]=c[d]?c[d]+p.val:p.val,p.strManiEnd.length>0&&p.strManiEnd.length!==f.length){for(v=[].concat(v,p.strManiEnd),o={val:c[d],state:A({data:e,param:"nolPriv_sendData"})},g=0,T=p.strManiEnd.length;g<T;g+=1)u(e,f[0],_,o,L),f.shift(),v.shift();c[d]=o.val}for(o.val=c.join(""),y=f.length>=v.length?f:v,g=0,T=y.length;g<T;g+=1)u(e,y[0],_,o,L),f.shift(),v.shift()}else p=m(e,s),o={val:p.val,state:A({data:e,param:"nolPriv_sendData"})};t=t.replace(r,o.val)}return t}function v(e,a,r,n){var o,i,s=A({data:e,param:"nolPriv_errorSent"});return!0!==n&&A({data:e,param:"nolPriv_sendData",val:!1}),!(!r&&-1!==(!a||s.indexOf(a.type.toString())))&&(!!Re.isInitialized(e)&&(o=a.type+","+d(a.msg),A({data:e,param:"nol_errorMessage",val:o}),t._listeners.fireEvent("error",{type:"error",msg:o}),i=f(e,A({data:e,param:"nol_errorURL"})),c({serverTimeOffset:A({data:e,param:"nolPriv_serverTimeOffset"}),url:i,maskRef:A({data:e,param:"nol_rfrmsk"})}),s+=a.type.toString()+",",A({data:e,param:"nolPriv_errorSent",val:s}),!0))}function g(e){var t=!1}function _(e,t,a){a&&!a.serviceSending[t]&&(a.serviceSending[t]=!0,s(e))}function y(e,t){var a=e||6;return Math.ceil(t/a)*a||"0"}function h(e,t){var a=!1,r=0,o=!1,i=n(A({data:e,param:"nol_unQualSegmentValue"}),"num"),s=A({data:e,param:"nol_minutes"}),l=[],d=!!t&&t.save,c,p,u,m=n(A({data:e,param:"nol_segmentTimeSpent"}),"num"),f=n(A({data:e,param:"nol_sendQual"}),"num"),v=A({data:e,param:"nol_cadence"});for(c=0,p=s.length;c<p;c+=1)u=Math.floor(s[c].tsv/A({data:e,param:"nol_creditValue"})),u>=1?(s[c].save&&"daypart"!==A({data:e,param:"nol_cadence"})?l.push(0):(l.push(A({data:e,param:"nol_creditFlag"})),r+=1,a=!0),o=!0):(l.push(0),o=!1),d?s[c].save=o:(s[c].tsv=0,s[c].save=!1,s[c].updated=!1);return A({data:e,param:"nol_duration",val:l.join("")}),f&&(a=r>=f),!0===n(A({data:e,param:"nol_minWonOverride"}),"bool")&&(a=!0),a||"interval"!==v&&"streamduration"!==v||d||("S"===A({data:e,param:"nol_segmentPrefix"})&&i&&A({data:e,param:"nol_duration",val:y(i,m)}),a=m>1),a}function P(e){return void 0!==e?(Me()/1e3>>0)+e:Me()/1e3>>0}function S(t){Number(t)===t&&t%1!=0&&e.console&&e.console.warn&&e.console.warn("Warning: nol_segmentTimeSpent is a float - should be an integer.")}function O(e,t){var a=A({data:e,param:"nol_url"})||"",r,i,s,d,p=0,u,m=A({data:e,param:"nol_playerId"}),v=n(A({data:e,param:"nol_maxPingCount"}),"num"),_=n(A({data:e,param:"nol_pingCount"}),"num"),y=!!t&&t.returnLength,O=A({data:e,param:"nol_cadence"}),T=A({data:e,param:"nol_eventFilter"}),L=n(A({data:e,param:"nol_maxLength"}),"num");if(A({data:e,param:"nol_pingCreationTime",val:P(A({data:e,param:"nolPriv_serverTimeOffset"}))}),i=A({data:e,param:"nol_timeSpentViewing"}).content,s=A({data:e,param:"nol_timeSpentViewing"}).ad,d=A({data:e,param:"nol_timeSpentViewing"}).static,S(A({data:e,param:"nol_segmentTimeSpent"})),(!e.isProductOf(["dcrvideo","vrivideo"])||"1"===A({data:e,param:"nol_forceFireOnClose_content"})||!(e.isProductOf(["dcrvideo","vrivideo"])&&0===i.nol_segmentTimeSpent||"dcrstatic"===A({data:e,param:"nol_product"})&&0===d.nol_segmentTimeSpent)||"interval"!==O&&"streamduration"!==O||0!==s.nol_count||0!==s.nol_segmentTimeSpent)&&"false"===A({data:e,param:"nol_disabled"})&&(0===v||v>_)){if(Be.setNextTick(e,null,"content"),r=h(e,t)||"stream"===O||"impression"===O||"id3"===A({data:e,param:"nol_product"}),A({data:e,param:"nol_random",val:Math.round(1e9*Math.random())}),a=f(e,a),p=a.length,A({data:e,param:"nolPriv_sendData"})&&r&&!y||L>0&&L<p){if(A({data:e,param:"nol_id3Data"})&&A({data:e,param:"nol_id3Data",val:!1}),l(A({data:e,param:"nol_comment"})," -queued @"+Math.floor(Me()/1e3)+", timeOffset == "+A({data:e,param:"nolPriv_serverTimeOffset"})+", DU == "+A({data:e,param:"nol_segmentTimeSpent"})+" -- ",a),T.onSendPing&&(D(e,T.onSendPing),"true"===A({data:e,param:"nol_disabled"})))return;c({serverTimeOffset:A({data:e,param:"nolPriv_serverTimeOffset"}),url:a,prod:A({data:e,param:"nol_product"}),maskRef:A({data:e,param:"nol_rfrmsk"})}),A({data:e,param:"nol_viewCount_"+e._currVidType.toLowerCase(),val:"0"}),Be.clear(e),ue&&ue.hasOwnProperty(m)&&ue[m].hasOwnProperty("debug")&&"logging"===ue[m].debug&&(u=A({data:e,param:"nol_debugUrl"}),u||(u=A({data:e,param:"nol_prefProtocol"})+"://nielsen.guru/validation/query_string.php?"),u+="pli="+m+"&sendPing="+A({data:e,param:"nol_product"})+"&"+a.substring(a.indexOf("?")+1),g(u)),_+=1,i.nol_segmentTimeSpent=0,i.nol_count=0,s.nol_segmentTimeSpent=0,s.nol_count=0,d.nol_segmentTimeSpent=0,d.nol_count=0,A({data:e,param:"nol_pingStartTimeUTC",val:Math.round(Me()/1e3)}),A({data:e,param:"nolPriv_priority",val:0}),A({data:e,param:"nol_pingCount",val:_.toString()}),A({data:e,param:"nol_forceFireOnClose_content",val:"0"});var b=o(A({data:e,param:"nol_segmentLength"}));A({data:e,param:"nol_duration",val:new Array(b.length+1).join("0")})}else if(y)return{len:p,fData:a};return null}}function T(e){try{if(void 0===e)return;var a=o(A({data:e,param:"nol_segmentLength"}));A({data:e,param:"nol_minutes",val:a}),A({data:e,param:"nol_duration",val:new Array(a.length+1).join("0")})}catch(e){t._listeners.fireEvent("error",{type:"error",msg:"Error in resetMinutes(). Error - "+e.message})}}function L(e,t){var a=n(A({data:e,param:"nol_segmentLength"}),"num")*n(A({data:e,param:"nol_segmentValue"}),"num");return{segment:Math.floor(t/a+1),minute:Math.floor(t%a/A({data:e,param:"nol_segmentValue"})),seconds:t%A({data:e,param:"nol_segmentValue"})}}function b(e,a){var r,i=A({data:a,param:"nol_tagSrc"}),e=""!==e?e:"id3"===i&&A({data:a,param:"nol_fdcid"})!==A({data:a,param:"nol_cidNull"})?A({data:a,param:"nol_fdoffset"}):"id3"===i&&A({data:a,param:"nol_pccid"})!==A({data:a,param:"nol_cidNull"})?A({data:a,param:"nol_pcoffset"}):e,s=A({data:a,param:"nol_eventFilter"}),l=A({data:a,param:"nol_minutes"}),d=n(A({data:a,param:"nol_pingCount"}),"num"),c,p,u,m,f,v,g,_,y=A({data:a,param:"nol_playerId"}),h=t._players&&t._players.hasOwnProperty(y)?t._players[y]:-1,P=A({data:a,param:"nol_localDay"}),S=A({data:a,param:"nol_dayQhr"}),T=A({data:a,param:"nol_weekQhr"}),b,C,E,w=A({data:a,param:"nol_wmDay"}),k=A({data:a,param:"nol_wmDayQhr"}),I,M,B=n(A({data:a,param:"nol_weekEndUTC"}),"num"),R=n(A({data:a,param:"nol_weekStartUTC"}),"num"),N=B-R,x,F=n(A({data:a,param:"nolPriv_serverTimeOffset"}),"num"),V,G=A({data:a,param:"nol_timer"})||"nol_fdoffset",U=n(A({data:a,param:"nolPriv_currMin"}),"num"),j=n(A({data:a,param:"nol_maxPingCount"}),"num"),Q=n(A({data:a,param:"nol_creditValue"}),"num"),z=n(e,"num"),K=n(A({data:a,param:"nol_intrvlThrshld"}),"num")||86400,W="nol_cmsoffset"===G||"nol_pageoffset"===G?n(A({data:a,param:"nol_cmsIntrvlGp"}),"num")||2:n(A({data:a,param:"nol_id3IntrvlGp"}),"num"),J=n(A({data:a,param:"nol_segmentLength"}),"num")*n(A({data:a,param:"nol_segmentValue"}),"num"),H=n(A({data:a,param:"nol_currSeg"}),"num"),X=n(A({data:a,param:"nolPriv_now"}),"num"),Y,Z=A({data:a,param:"nol_timeSpentViewing"})[a._currVidType],$=n(A({data:a,param:"nolPriv_currPos"}),"num");if(a.set("nolPriv_prevPos",a.get("nol_currPos")),1===e?a.set("nol_currPos","0"):a.set("nol_currPos",e),"modcadence"===a.get("nol_cadence"))e%a.get("nol_segmentValue")==0&&(e<a.get("nol_length")||!a.get("nol_length"))&&O(a);else{if(I=Math.floor(z/86400)+1,w||A({data:a,param:"nol_wmDay",val:I}),M=Math.floor(z%86400/900)+1,k||A({data:a,param:"nol_wmDayQhr",val:M}),z>86400&&"nol_cmsoffset"===G?(z+=F,_=z+n(A({data:a,param:"nol_startDayTimeOffset"}),"num"),v=_+n(A({data:a,param:"nol_GMTOffset"}),"num")):_=v=z,b=Math.floor(v/86400)+1,P&&P!=b&&O(a),P||A({data:a,param:"nol_localDay",val:b}),z>B&&(s.onWeekEndUTC?D(a,s.onWeekEndUTC):(A({data:a,param:"nol_week",val:A({data:a,param:"nol_nextWeek"})}),A({data:a,param:"nol_period",val:A({data:a,param:"nol_nextPeriod"})}),A({data:a,param:"nol_weekStartUTC",val:B+1}),A({data:a,param:"nol_weekEndUTC",val:B+1+N}))),C=Math.floor((z-n(A({data:a,param:"nol_weekStartUTC"}),"num"))/900)+1,T&&C===T||A({data:a,param:"nol_weekQhr",val:C}),"nol_cmsoffset"===G&&(z=v%86400),E=Math.floor(z/900)+1,S||A({data:a,param:"nol_dayQhr",val:E}),z=Math.floor(z),"1"===A({data:a,param:"nol_applyViewInc"})&&(q(a),A({data:a,param:"nol_applyViewInc",val:"0"})),"true"===A({data:a,param:"nol_disabled"})||void 0===z||j>0&&j<=d&&"daypart"!==A({data:a,param:"nol_cadence"}))return;if("stream"!==A({data:a,param:"nol_cadence"})&&"impression"!==A({data:a,param:"nol_cadence"})){if($=""===$?z:n($,"num"),X||(X=Me()),V=Math.ceil((Me()-X)/1e3)||1,Y=L(a,$),r=Y.segment,x=Y.minute,c=Y.seconds,f=z-$,A({data:a,param:"nolPriv_currPos",val:z}),H&&void 0!==r&&H!==r&&(("dcrvideo"!==A({data:a,param:"nol_product"})||"dcrvideo"===A({data:a,param:"nol_product"})&&A({data:a,param:"nol_segmentTimeSpent"})>0)&&O(a,{save:!0}),"episode"!==A({data:a,param:"nol_cadence"})&&A({data:a,param:"nol_pingCount",val:0}),l=o(A({data:a,param:"nol_segmentLength"})),A({data:a,param:"nol_minutes",val:l}),S&&S!==E&&(A({data:a,param:"nol_dayQhr",val:E}),A({data:a,param:"nol_weekQhr",val:C}),P&&P!==b&&A({data:a,param:"nol_localDay",val:b})),k&&k!==M&&A({data:a,param:"nol_wmDayQhr",val:M}),w&&w!==I&&A({data:a,param:"nol_wmDay",val:I})),H=r,void 0!==x&&f>0){if(U!==x&&(l[x].save||"daypart"===A({data:a,param:"nol_cadence"})||(l[x].tsv>=Q?O(a):(l[x].tsv=0,l[x].updated=!1))),f<W||f<=Math.ceil(1.5*V)&&f<K)for(g=n(A({data:a,param:"nol_sendQual"}),"num"),p=0;p<f;p+=1){if((c+p)%A({data:a,param:"nol_segmentValue"})!=0){if("daypart"!==A({data:a,param:"nol_cadence"})&&l[x].tsv>=A({data:a,param:"nol_segmentValue"})&&(l[x].save?(l[x].tsv=0,l[x].save=!1,l[x].updated=!1):O(a)),l[x].tsv+=1,Z.nol_cumeTimeSpent+=1,Z.nol_segmentTimeSpent+=1,l[x].tsv>=Q&&g){for(l[x].updated||(A({data:a,param:"nolPriv_priority",val:Me()}),l[x].updated=!0),u=0,m=0;u<l.length;u+=1)if((m+=l[u].tsv>=Q?1:0)>=g){g="send";break}"send"===g&&A({data:a,param:"nol_sendQual"})&&(s.onViewWon&&D(a,s.onViewWon),O(a,{save:!0}),g=0,"daypart"!==A({data:a,param:"nol_cadence"})&&A({data:a,param:"nol_sendQual",val:"0"}))}}else 0!==p&&(x+=1),l.length<=x?(O(a,{save:!0}),x=0,H+=1,A({data:a,param:"nol_currSeg",val:H}),A({data:a,param:"nol_pingCount",val:0}),l=o(A({data:a,param:"nol_segmentLength"})),A({data:a,param:"nol_minutes",val:l}),S&&S!==E&&(A({data:a,param:"nol_dayQhr",val:E}),A({data:a,param:"nol_weekQhr",val:C}),P&&P!==b&&A({data:a,param:"nol_localDay",val:b})),k&&k!==M&&A({data:a,param:"nol_wmDayQhr",val:M}),w&&w!==I&&A({data:a,param:"nol_wmDay",val:I})):"daypart"!==A({data:a,param:"nol_cadence"})&&!l[x].save&&l[x].tsv>=Q?O(a):l[x].save||(l[x].tsv=1,l[x].updated=!1),Z.nol_cumeTimeSpent+=1,Z.nol_segmentTimeSpent+=1;A({data:a,param:"nolPriv_currMin",val:x})}A({data:a,param:"nolPriv_now",val:Me()}),-1!==h&&"dcrstatic"!==A({data:a,param:"nol_product"})&&(h.pauseObj.pauseTime=0)}}else r=Math.floor(z/J+1),"content"===A({data:a,param:"nol_ac"})&&(H=r,A({data:a,param:"nol_currSeg",val:H})),O(a);A({data:a,param:"nol_currSeg",val:H})}}function C(e,t,a){var r=A({data:e,param:"iag_"+t});return void 0!==r&&""!==r?a="&pr=iag."+t+","+d(r):a&&a.length>0&&-1===a.indexOf("&pr=iag")?a="&pr=iag."+t+","+d(a):void 0!==a&&null!==a||(a=""),a}function E(e,t){var a,r,o,i,s,l,c,p,u,m,f,v,g,_,y,h,P=A({data:e,param:"nol_vidtype"});A({data:e,param:"nol_prod"}).indexOf("iag")>=0&&(a="",r=C(e,"sid",A({data:e,param:"nol_sid",vidType:"content"})),o=C(e,"tfid",A({data:e,param:"nol_tfid",vidType:"content"})),i=C(e,"bcr",A({data:e,param:"nol_clientid",vidType:"content"})),l=C(e,"epi",A({data:e,param:"nol_title"})||A({data:e,param:"nol_title",vidType:"content"})),s=C(e,"pgm",A({data:e,param:"nol_censuscategory"})||A({data:e,param:"nol_category"})||A({data:e,param:"nol_iagcategory"})),s||(s=C(e,"pgm",A({data:e,param:"nol_censuscategory",vidType:"content"})||A({data:e,param:"nol_category",vidType:"content"})||A({data:e,param:"nol_iagcategory",vidType:"content"})))||(s="&pr=iag.pgm,general"),c="&pr=iag.seg,",n(A({data:e,param:"nol_chapter",vidType:"content"}),"num")>1?c+=A({data:e,param:"iag_seg"})||A({data:e,param:"nol_chapter",vidType:"content"}):c+="1",p=C(e,"pd",p),u=C(e,"oad",u),g=C(e,"fp",g),h=C(e,"cust1",h),"ad"===t?(m="&pr=iag.brn,"+A({data:e,param:"nol_clientid"}),f="&pr=iag.cte,"+d(A({data:e,param:"nol_adURL"})),v="midroll"===P?"&pr=iag.ap,mid":"postroll"===P?"&pr=iag.ap,post":"&pr=iag.ap,pre",r=C(e,"sid",r),o=C(e,"tfid",o),i=C(e,"bcr",i),m=C(e,"brn",m),f=C(e,"cte",f),s=C(e,"pgm",s),l=C(e,"epi",l),c=C(e,"seg",c),p=C(e,"pd",p),u=C(e,"oad",u),_=C(e,"pod",_),y=C(e,"apt",y),a=r+o+i+s+l+c+p+m+v+f+u+g+_+y+h):a=r+o+i+s+l+c+p+u+g+h,a+="&pr=iag.cp,soc",A({data:e,param:"nol_iagData",val:a}))}function w(e){var a;if(ue[e.id]&&ue[e.id].tags.length===ue[e.id].tagSize){if(t._listeners.fireEvent("debug",{type:"debug",msg:"pli="+e.id+"&ggpm="+JSON.stringify(e)}),ue[e.id].debug!==Oe&&"logging"===ue[e.id].debug){if(a=ue[e.id].nol_debugUrl,a||(a=ue[e.id].nol_prefProtocol+"://nielsen.guru/validation/query_string.php?"),ue[e.id].eventQueue.length>ue[e.id].eventQueueIndex+1)for(var r=ue[e.id].eventQueueIndex;r<ue[e.id].eventQueue.length;r++)g(a+"pli="+e.id+"&ggpm="+JSON.stringify(ue[e.id].eventQueue[r])),ue[e.id].eventQueueIndex=r;a+="pli="+e.id+"&ggpm="+JSON.stringify(e),g(a)}e.timeStamp=Me();for(var r=0,n=ue[e.id].tags.length;r<n;r+=1)ue.hasOwnProperty(e.id)&&ue[e.id].tags[r].eventListener(e)}else ue[e.id]&&ue[e.id].eventQueue||(ue[e.id]=i(ue[e.id])),ue[e.id].eventQueue.push(e)}function k(e,t){var a,r;ue[t].bReInit||(ue[t].bReInit=!0,ue[t].eventQueue=[],e&&ue[t].eventQueue.push(e),s(Le))}function I(e,t,a){var r=!1,n=a.toString().toLowerCase().indexOf(t.toString().toLowerCase());return"-"===e&&-1===n?r=!0:"+"===e&&(a===t||-1!==n&&a&&t)?r=!0:"--"===e&&-1===t.toString().toLowerCase().indexOf(a.toString().toLowerCase())?r=!0:"++"===e&&-1!==t.toString().toLowerCase().indexOf(a.toString().toLowerCase())&&(r=!0),r}function D(e,t,a){var r=t||A({data:e,param:"nol_finalFilter"}),n,o,i,s,l,d,c,p,u,m,f,v=a||{};if(r&&void 0!==r)for(n=0,o=r.length;n<o;n+=1){if(p=r[n],p.tagVar.length)for(var i=0,s=p.tagVar.length;i<s&&(m=A({data:e,param:p.tagVar[i].name}));i++);else m=A({data:e,param:p.tagVar.name});if(m&&p.tagVar.value===m){for(i=0,s=p.cond.length;i<s;i+=1){if(c=v[p.cond[i]]||A({data:e,param:p.cond[i]}),d=0===p.is.value.indexOf("nol_")&&A({data:e,param:p.is.value})?A({data:e,param:p.is.value}):p.is.value,void 0===c||void 0===d||!I(p.is.type,c,d)){u=!1;break}u=!0}if(void 0!==u&&void 0!==(f=u?p.then:p.else))for(l in f)f.hasOwnProperty(l)&&(void 0!==v.nol_vidtype?v[l]=f[l]:A({data:e,param:l,val:f[l]}))}}}function M(e,t){var a,r=e.data._settings,n=e.param;return void 0===t||null===t?void 0===(a=r.hasOwnProperty(n)&&ue[r.nol_playerId].nol_tagMap.hasOwnProperty(n)&&("object"==typeof ue[r.nol_playerId].nol_tagMap[n]||"array"==typeof ue[r.nol_playerId].nol_tagMap[n])?ue[r.nol_playerId].nol_tagMap[n][r[n]]:r.hasOwnProperty("nol_defaults")&&r.nol_defaults.hasOwnProperty(n)?r.nol_defaults[n]:ue[r.nol_playerId].nol_tagMap.nol_defaults[n]||ue[r.nol_playerId][n])&&(a=r.hasOwnProperty(n)?r[n]:ue[r.nol_playerId].nol_tagMap[n]):r.hasOwnProperty("nol_defaults")&&r.nol_defaults.hasOwnProperty(n)?r.nol_defaults[n]=t:r[n]=t,a}function A(a){try{if(a){if("string"==typeof a.param&&-1===a.param.indexOf("nol_")&&-1===a.param.indexOf("nolPriv_")&&a.param.split("_").length-1>1)return;var r="string"==typeof a.param?a.param.split("_"):a.param,n,o=r[0]?r.splice(0,2).join("_"):r,i=a.vidType||r[0]||a.data._currVidType,s=a.data._currAssetid||"0",l=void 0!==a.data._dataArrObj[i][s]?a.data._dataArrObj[i][s]:a.data._dataArrObj[i][Object.keys(a.data._dataArrObj[i]).splice(-1,1)],d=be[o]?be[o].clientField:o;if("object"==typeof d)n=l;else if("nol_segmentTimeSpent"===d||"nol_cumeTimeSpent"===d||"nol_count"===d){var c=A({data:a.data,param:"nol_timeSpentViewing"});n=c[i][d]}else void 0===a.val||null===a.val?void 0!==(n=l&&l.hasOwnProperty(d)?l[d]:ue[a.data._settings.nol_playerId][d])&&""!==n||void 0!==(n=M(a)||"")&&""!==n||(0===d.indexOf("nol_")?a.param=d:a.param=o,n=M(a)||""):l&&(l[d]=a.val);return n}return null}catch(a){e.console&&e.console.error&&e.console.error("Error in Data(): "+a.message+" __param: "+r),t._listeners.fireEvent("error",{type:"error",msg:"Error in Data(): "+a.message})}}function B(a,r){var n=Re.findPlayer(a),o=n.oServiceCall[r.service],i=r.url,s=r.key,l;if(r.evntCB=A({data:a,param:a.serviceFlag[r.service].callback}),r.callBack=function(e){R(a,e,r)},!o&&s&&i&&i.length>0)"stnupdate"===r.evntCB&&(void 0===n.oServiceCall[r.service]||void 0===n.oServiceCall[r.service].status||"init"!==n.oServiceCall[r.service].status&&"complete"!==n.oServiceCall[r.service].status)&&(n.oServiceCall[r.service]={status:"init",station:null,data:null}),t._listeners.addListener(r.evntCB,r.callBack,!0),_(f(a,i),r.service,n);else if(o&&"init"===o.status);else if(o&&"complete"===o.status&&s!==o.station)t._listeners.addListener(r.evntCB,r.callBack,!0),_(f(a,i),r.service,n);else if(o&&"complete"===o.status&&s===o.station){for(l in o.data)o.data.hasOwnProperty(l)&&A({data:a,param:l,val:o.data[l]});if(Ee?D(a,Ee[r.service]):D(a,Ce),"true"===A({data:a,param:"nol_disabled"}))return;a.serviceFlag[r.service].need&&(A({data:a,param:"nol_davState",val:"1"}),a.serviceFlag[r.service].need=!1,b(A({data:a,param:"nol_queueTime"}),a))}else t._listeners.fireEvent(r.evntCB,r),e.setTimeout(function(){B(a,r)},1e3)}function R(e,t,a){var r={},o,i=0,s;if(A({data:e,param:"nol_playerId"})===t.target.nol_playerId){for(s in t.target)t.target.hasOwnProperty(s)&&(A({data:e,param:s,val:t.target[s]}),r[s]=t.target[s]);var l=Re.findPlayer(e);if(l){var d=void 0!==l.oServiceCall[a.service]&&l.oServiceCall[a.service].hasOwnProperty("status")?l.oServiceCall[a.service].status:"undefined";l.oServiceCall[a.service]={status:"complete",prevStatus:d,station:a.key,data:r},l.serviceSending[a.service]=!1}if(Ee?D(e,Ee[a.service]):D(e,Ce),"true"===A({data:e,param:"nol_disabled"}))return;e.serviceFlag[a.service].need&&(A({data:e,param:"nol_davState",val:"1"}),e.serviceFlag[a.service].need=!1,t.target.hasOwnProperty("nol_fdTimeCode")&&"daypart"===A({data:e,param:"nol_cadence"})&&(i=n(t.target.nol_fdTimeCode,"num"),o=n(A({data:e,param:"nol_queueTime"}),"num"),A({data:e,param:"nol_queueTime",val:o+i})),b(A({data:e,param:"nol_queueTime"}),e))}}function N(e){if("id3"===A({data:e,param:"nol_product"})&&A({data:e,param:"nol_id3Data"}))return void O(e);e.isProductOf("vrivideo")&&"ended"!==e.set("nol_vriEvent")||"true"!==A({data:e,param:"nol_disabled"})&&"1"===A({data:e,param:"nol_davState"})&&(A({data:e,param:"nol_davState",val:"2"}),"daypart"===A({data:e,param:"nol_cadence"})?O(e,{save:!0}):O(e),T(e),A({data:e,param:"nol_disabled",val:"true"}))}function x(e){"dcrstatic"===A({data:e,param:"nol_product"})&&"stream"!==A({data:e,param:"nol_cadence"})||e.isProductOf("vrivideo")||("content"===A({data:e,param:"nol_ac"})&&A({data:e,param:"nol_segmentTimeSpent"})>0||"streamduration"===A({data:e,param:"nol_cadence"})&&A({data:e,param:"nol_segmentTimeSpent"})>0||"dcrstatic"===A({data:e,param:"nol_product"})&&"stream"===A({data:e,param:"nol_cadence"})||"postroll"===A({data:e,param:"nol_vidtype"})&&"interval"===A({data:e,param:"nol_cadence"}))&&("content"===A({data:e,param:"nol_ac"})?O(e,{save:!0}):O(e),A({data:e,param:"nolPriv_now",val:0}))}function F(e,a){var r=null,n=Math.round(Me(e)/1e3);try{e&&Be.isEnabled(e)&&(r=Ne.inferEvent(a.currEvtType,e,a._param1,n,a._param3))&&(r.event!==Ne.events.play&&Re.state.set(e,r),Be.preProcess(e,r))}catch(e){t._listeners.fireEvent("error",{type:"error",msg:"Error in ggpmPreProc(). Error preprocessing event - "+e.message})}return{inferredEvent:r,timestamp:n}}function V(e,a){try{e&&a.inferredEvent&&(a.inferredEvent.event===Ne.events.play&&Re.state.set(e,a.inferredEvent),Be.postProcess(e,a.inferredEvent))}catch(e){t._listeners.fireEvent("error",{type:"error",msg:"Error in ggpmPostProc(). Error postprocessing event - "+e.message})}}function G(e){try{var a=A({data:e,param:"nol_playerId"});ue&&ue.hasOwnProperty(a)&&(!ue[a].hasOwnProperty("nol_sessionId")||ue[a].hasOwnProperty("forceStreamRegen")&&!0===ue[a].forceStreamRegen)&&(ue[a].nol_sessionId=t.generateGUID(),ue[a].forceStreamRegen=!1)}catch(e){t._listeners.fireEvent("error",{type:"error",msg:"Error in calcStreamId - "+e.message})}}function U(a,r){var i=A({data:a,param:"nol_playerId"});if(i===r.id){if(!r.evtInfo||r.evtInfo.hasOwnProperty("param1")&&(null===r.evtInfo.param1||void 0===r.evtInfo.param1))return void t._listeners.fireEvent("error",{type:"error",msg:"Error in handleGgpm - Invalid Param1 passed"})
;var s=r.evtInfo,l=s.param1,d=s.param3?s.param3:l.hasOwnProperty("param3")?l.param3:l,c=s.param2||"",p,u,m,f,g=n(A({data:a,param:"nolPriv_id3Count"}),"num"),_,y,h,P=A({data:a,param:"nol_segmentSpentViewing"}),S=A({data:a,param:"nol_enableFilterMap"}),T="|mtvr|,|dprid3|,|id3|",L,C,w={filters:{onId3PcCidChanged:!1,onId3FdCidChanged:!1},count:0,filterType:"old"},I,M,R,U=A({data:a,param:"nol_prod"}),j,z={},W=s.eventType.toString(),J,H="content",X,Y,Z,$=A({data:a,param:"nolPriv_serverTimeOffset"}),ee=be.nol_vidtype?be.nol_vidtype.clientField:"nol_vidtype",te=be.nol_tagSrc?be.nol_tagSrc.clientField:"nol_tagSrc",ae=be.nol_assetid?be.nol_assetid.clientField:"nol_assetid",re=be.nol_ac?be.nol_ac.clientField:"nol_ac",ne=be.nol_linearAdLoadFlag?be.nol_linearAdLoadFlag.clientField:"nol_linearAdLoadFlag",oe=d[ee]?d[ee].toString().toLowerCase():"",ie=Math.round(Me()/1e3),se="nol_assetid",le=Re.findPlayer(a),de={},ce=F(a,{currEvtType:W,_param1:l,_param3:d});switch(W=W.toLowerCase()){case"3":case"14":case"15":case"loadmetadata":case"staticstart":case"pauseloadmeta":if(("14"===W||"staticstart"===W)&&"dcrstatic"!==A({data:a,param:"nol_product"}))return;if("14"!==W&&"staticstart"!==W&&"dcrstatic"===A({data:a,param:"nol_product"}))return;if("pauseloadmeta"===W&&a.isProductOf("vrivideo"))return;var pe=","+A({data:a,param:"nol_contentType"});a._currVidType=oe&&-1!==pe.indexOf(","+oe)?"content":"dcrstatic"===A({data:a,param:"nol_product"})?"static":"ad";var me=null,fe=null;if(("ad"===A({data:a,param:"nol_ac"})&&A({data:a,param:"nol_segmentTimeSpent"})>0&&"streamduration"===A({data:a,param:"nol_cadence"})||"stream"===A({data:a,param:"nol_cadence"})&&"dcrstatic"===A({data:a,param:"nol_product"})||"dcrstatic"===A({data:a,param:"nol_product"})&&String(a._currAssetid)!==String(d[ae]))&&N(a),!0===A({data:a,param:"nol_onCompleteFired"})?("content"!==a._currVidType&&"static"!==a._currVidType||("content"===a._currVidType.toLowerCase()&&ue[i].hasOwnProperty("forceStreamRegen")&&!0===ue[i].forceStreamRegen&&G(a),A({data:a,param:se,val:-1}),"content"===a._currVidType?(me=Re.state.clone(a),fe=Be.clone(a),Q({data:a,savedVals:["nol_nielsenAdSupportFlg"],savedReplayParams:de})):Q({data:a,resetStatic:!0})),A({data:a,param:"nol_onCompleteFired",val:!1})):"14"!==W&&"staticstart"!==W||"stream"!==A({data:a,param:"nol_cadence"})||(A({data:a,param:se,val:-1}),Q({data:a})),"ad"===a._currVidType&&a._dataArrObj[a._currVidType].hasOwnProperty(a._currAssetid)){A({data:a,param:"nol_minutes",val:o(A({data:a,param:"nol_segmentLength"}))}),A({data:a,param:se,val:-1}),A({data:a,param:ee,val:oe}),"1"!==A({data:a,param:"nol_nielsenAdSupportFlg",vidType:"content"})&&A({data:a,param:"nol_nielsenAdSupportFlg",val:"1",vidType:"content"})}if(a._currAssetid=d&&d.hasOwnProperty(ae)&&"daypart"===A({data:a,param:"nol_cadence"})||"stream"!==A({data:a,param:"nol_cadence"})&&"dcrstatic"===A({data:a,param:"nol_product"})?d[ae]:a._currAssetid,d.nol_ac=a._currVidType,n(A({data:a,param:"nol_serverTime"}),"num")+86400<Math.round(Me()/1e3)+$)return N(a),void k(r,A({data:a,param:"nol_playerId"}));for(J=0,X=S.length;J<X;J+=1)p=be[S[J]]?be[S[J]].clientField:S[J],z[S[J]]=String(d[p]||"");if(_=d.hasOwnProperty(ae)?String(d[ae]):A({data:a,param:"nolPriv_assetid"}),D(a,Ce.onCmsDetected,z),"false"!==z.nol_disabled||!d)return void("cms"!==a._currTagSrc&&(K(a,"loadMetadata",d),A({data:a,param:"nol_disabled",val:"true"})));if("static"===a._currVidType&&"dcrstatic"===A({data:a,param:"nol_product"})?(t._listeners.fireEvent("updateCmbStaticPage",{evtInfo:s,plid:i}),H="static"):H="content",_!==A({data:a,param:se})){if("ad"!==A({data:a,param:"nol_ac"})&&N(a),K(a,"loadMetadata",d),Object.keys(de).length>0){for(var ve in de)de.hasOwnProperty(ve)&&""!==de[ve]&&A({data:a,param:ve,val:de[ve]});de={}}if(A({data:a,param:"nolPriv_assetid",val:A({data:a,param:se})}),"15"!==W&&"loadmetadata"!==W||"id3"!==A({data:a,param:te,vidType:"content"})||!1!==A({data:a,param:"nolPriv_dtvrHybrid",vidType:"content"})||A({data:a,param:"nolPriv_dtvrHybrid",val:!0,vidType:"content"}),D(a,Ce.onAssetIdChanged),"true"===A({data:a,param:"nol_disabled"}))return;if("drm"===A({data:a,param:"nol_product"}))a.serviceFlag.stn.need=!0;else if(a.serviceFlag.stn.need=!1,"true"===A({data:a,param:"nol_disabled"}))return;if(D(a,Ce.onComplete),me&&Re.state.bind(a,me),fe&&Be.bind(a,fe),"true"===A({data:a,param:"nol_disabled"}))return}if("ad"===a._currVidType&&a.isProductOf(["dcrvideo","vrivideo"])&&"impression"!==A({data:a,param:"nol_cadence"})){A({data:a,param:"nol_timeSpentViewing"})[a._currVidType].nol_count++}a.isProductOf("vrivideo")&&"impression"===a.get("nol_cadence")&&(a.set("nol_vriEvent","start"),a.set("nol_startPos","")),A({data:a,param:"nol_pingStartTimeUTC",val:Math.round(Me()/1e3)}),-1!==U.indexOf("iag")&&E(a,a._currVidType,be),("ad"===a._currVidType&&!a.isProductOf(["dcrvideo","vrivideo"])||"stream"===A({data:a,param:"nol_cadence"}))&&(A({data:a,param:"nol_pingCount",val:0}),A({data:a,param:"nolPriv_sendData",val:!0}),A({data:a,param:"nol_davState",val:"0"}),a.serviceFlag.stn.need||"content"===a._currVidType||"nol_cmsoffset"!==A({data:a,param:"nol_timer"})&&"nol_pageoffset"!==A({data:a,param:"nol_timer"})||b(0,a)),"14"!==W&&"staticstart"!==W||"dcrstatic"!==A({data:a,param:"nol_product"})||!0===le.static.started||(t.PLDCR.start(!0),le.static.started=!0);break;case"5":case"play":if("mtvr"===A({data:a,param:"nol_product"})){if(R=be.nol_channelName?be.nol_channelName.clientField:"nol_channelName",d[R]&&d[R].length>0)for(Y in d)d.hasOwnProperty(Y)&&A({data:a,param:Y,val:d[Y]})}else a.isProductOf(["dcrvideo","vrivideo"])&&(a._currVidType="content",z={nol_vidtype:A({data:a,param:ee,vidType:a._currVidType}),nol_tagSrc:A({data:a,param:te,vidType:a._currVidType}),nol_linearAdLoadFlag:A({data:a,param:ne,vidType:a._currVidType}),nol_ac:A({data:a,param:re,vidType:a._currVidType})},D(a,Ce.onCmsDetected,z));break;case"6":case"pause":x(a);break;case"7":case"stop":x(a);break;case"updateott":if(x(a),l&&l.hasOwnProperty("ottStatus")&&l.ottStatus.length>0){if(l.hasOwnProperty("kGCKMetadataNlsKeyOptout")&&l.hasOwnProperty("kGCKMetadataNlsKeyDeviceID")){var ge=l.kGCKMetadataNlsKeyOptout.toString().toLowerCase();A({data:a,param:"nol_userSessionId",val:l.kGCKMetadataNlsKeyDeviceID,vidType:"content"}),A({data:a,param:"nol_useroptout",val:"1"===ge||"true"===ge?"true":"false",vidType:"content"}),-1===ge.indexOf([1,"1","true",0,"0","false"])&&t._listeners.fireEvent("warn",{type:"warn",msg:"Warning: Invalid kGCKMetadataNlsKeyOptout value."})}for(var se in l)l.hasOwnProperty(se)&&(A({data:a,param:se,val:l[se],vidType:"content"}),le.ottStatusObj[se]=l[se]);Ce.onOTTDetected&&D(a,Ce.onOTTDetected)}break;case"57":case"56":case"end":case"oncomplete":case"staticend":if(("56"===W||"staticend"===W)&&"dcrstatic"!==A({data:a,param:"nol_product"}))return;if("56"!==W&&"staticend"!==W&&"dcrstatic"===A({data:a,param:"nol_product"}))return;if(a.isProductOf("vrivideo")&&("57"===W||"end"===W)&&("sessionReset"===c||"modcadence"!=a.get("nol_cadence")))return;if(!("57"!==W&&"oncomplete"!==W||"mtvr"!==A({data:a,param:"nol_product"})&&"id3"!==A({data:a,param:te,vidType:"content"})||!0===A({data:a,param:"nolPriv_dtvrHybrid",vidType:"content"})))return;if("ad"===a._currVidType&&("streamduration"===A({data:a,param:"nol_cadence"})?O(a):a.isProductOf(["dcrvideo"])&&"interval"===A({data:a,param:"nol_cadence"})&&(""===A({data:a,param:"nol_dataDate",vidType:"content"})&&""!==A({data:a,param:"nol_dataDate"})&&(A({data:a,param:"nol_dataDate",val:A({data:a,param:"nol_dataDate"}),vidType:"content"}),A({data:a,param:"nol_hourCode",val:A({data:a,param:"nol_hourCode"}),vidType:"content"}),A({data:a,param:"nol_dayId",val:A({data:a,param:"nol_dayId"}),vidType:"content"})),a._currVidType="content",Ce.onEndDetected&&D(a,Ce.onEndDetected),O(a))),a.isProductOf("vrivideo")&&"modcadence"===a.get("nol_cadence")){if("NaN"===parseInt(a.get("nol_length")).toString())return;if(!(a.get("nol_currPos")>=a.get("nol_length")))return;a.set("nol_vriEvent","ended")}"static"!==A({data:a,param:"nol_ac"})&&(a._currVidType="content"),Ce.onEndDetected&&D(a,Ce.onEndDetected),A({data:a,param:"nol_forceFireOnClose_content",val:"1"}),"false"!==A({data:a,param:"nol_disabled"})&&"id3"!==A({data:a,param:"nol_product"})||("static"===A({data:a,param:"nol_ac"})&&t._listeners.fireEvent("removeCmbAssetId",s),N(a)),A({data:a,param:"nol_onCompleteFired",val:!0}),ue[i].forceStreamRegen=!0,"56"!=W&&"staticend"!=W||"dcrstatic"!==A({data:a,param:"nol_product"})||(t.PLDCR.stop(),le.static.started=!1),"57"!==W&&"oncomplete"!==W||A({data:a,param:"nolPriv_dtvrHybrid",val:!1,vidType:"content"});break;case"48":case"setpageduration":case"pageduration":case"staticposition":if("true"===A({data:a,param:"nol_disabled"})||!l||"nol_pageoffset"!==A({data:a,param:"nol_timer"}))return;"1"===A({data:a,param:"nol_onPaginateFired_static"})&&(A({data:a,param:"nol_onPaginateFired",val:"0",vidType:"static"}),"impression"!==A({data:a,param:"nol_cadence"})&&q(a,{vidType:"static"})),Z=n(A({data:a,param:"nol_highWM"}),"num"),Z<n(l,"num")&&A({data:a,param:"nol_highWM",val:l}),b(l,a),A({data:a,param:"nol_davState",val:"1"});break;case"49":case"setplayheadposition":case"playheadposition":if(l>-1){if(!0===A({data:a,param:"nol_onCompleteFired"})&&t._listeners.fireEvent("flushPauseEventQueue"),"true"===A({data:a,param:"nol_disabled"})||!l||"nol_cmsoffset"!==A({data:a,param:"nol_timer"})||"ad"===a._currVidType&&a.isProductOf(["dcrvideo","vrivideo"])&&"impression"===A({data:a,param:"nol_cadence"}))return;if("number"!=typeof l){if("string"!=typeof l)return;l=n(l,"num")}if(a.isProductOf("vrivideo")){var _e=Math.floor(l);"impression"===a.get("nol_cadence")&&1===_e&&_e<a.get("nolPriv_prevPos")&&(a.set("nol_pingCount",0),a.set("nol_currPos","")),"modcadence"===a.get("nol_cadence")&&a.set("nol_vriEvent","loop")}A({data:a,param:"nol_isLive",val:(l>86400).toString()}),Z=n(A({data:a,param:"nol_highWM"}),"num"),Z<l&&A({data:a,param:"nol_highWM",val:l}),a.serviceFlag.stn.need?(A({data:a,param:"nol_queueTime",val:l}),B(a,{service:"stn",key:A({data:a,param:"nol_assetid"}),url:A({data:a,param:"nol_stationURL"}),nol_playerId:A({data:a,param:"nol_playerId"})})):b(l,a),A({data:a,param:"nol_davState",val:"1"})}else r.timeStamp&&!Ae[r.timeStamp]&&(Ae[r.timeStamp]=v(a,{type:15,msg:"A negative playhead position was sent and will be ignored."},void 0,!0),Ae[r.timeStamp]&&t._listeners.fireEvent("warn",{type:"warn",msg:"Warning: A negative playhead position was sent and will be ignored."}));break;case"55":case"sendid3":if(("object"==typeof l&&Object.keys(l).length>0||"string"==typeof l&&l.length>0)&&(!0===A({data:a,param:"nol_onCompleteFired"})&&le&&le.getPauseQueueCount&&le.getPauseQueueCount()>0?t._listeners.fireEvent("flushPauseEventQueue"):!0===A({data:a,param:"nol_onCompleteFired"})&&le&&!le.getPauseQueueCount&&t._listeners.fireEvent("flushPauseEventQueue"),"object"==typeof l))for(X=0;X<l.length;X+=1)if(l[X].key&&"PRIV"===l[X].key){l=l[X].info;break}if(C=l.toString(),249!==C.length&&r.timeStamp&&!Ae[r.timeStamp]&&(Ae[r.timeStamp]=!0,e.console&&e.console.warn&&e.console.warn("Warning: ID3 tag length is not 249."),t._listeners.fireEvent("warn",{type:"warn",msg:"ID3 tag length is not 249."})),L=C.split("/"),l={},L.length<n(Ie.nol_breakout,"num"))return;for(Y in Ie)Ie.hasOwnProperty(Y)&&(l[Y]=L[Ie[Y]],"nol_breakout"===Y&&(l[Y]=L[n(Ie[Y],"num")].substr(0,2)),z[Y]=l[Y]);if(!l||A({data:a,param:"nol_tsvBreakoutMap"})&&-1===A({data:a,param:"nol_tsvBreakoutMap"}).enable.indexOf(l.nol_breakout)||-1===l.nol_nWebAddress.indexOf("nielsen.com")||l.nol_fdcid===A({data:a,param:"nol_cidNull"})&&l.nol_pccid===A({data:a,param:"nol_cidNull"}))return;for(a._currVidType="content",J=0,X=S.length;J<X;J+=1)p=be[S[J]]?be[S[J]].clientField:S[J],z[S[J]]=l[p]||A({data:a,param:S[J]});if(z.nol_vidtype="content",D(a,Ce.onId3Detected,z),"false"!==z.nol_disabled||"nol_cmsoffset"===A({data:a,param:"nol_timer"}))return;if("daypart"===A({data:a,param:"nol_cadence"})){var ye=A({data:a,param:"nol_assetid"})||a._currAssetid;!ye&&l.nol_fdcid&&l.nol_fdcid!==A({data:a,param:"nol_cidNull"})?a._currAssetid=l.nol_fdcid:!a._currAssetid&&ye&&(a._currAssetid=ye)}if(l.nol_ac=a._currVidType,l.nol_assetid=A({data:a,param:"nol_assetid"})||a._currAssetid,g>0&&(-1!==A({data:a,param:"nol_product"}).indexOf("id3")||-1!==A({data:a,param:"nol_product"}).indexOf("mtvr"))&&(l.nol_pccid!==A({data:a,param:"nol_cidNull"})&&l.nol_pccid!==A({data:a,param:"nol_pccid"})||l.nol_fdcid!==A({data:a,param:"nol_cidNull"})&&l.nol_fdcid!==A({data:a,param:"nol_fdcid"}))&&O(a),!A({data:a,param:"nol_subTag"})&&"id3"!==A({data:a,param:"nol_product"})||l.nol_pccid===A({data:a,param:"nol_cidNull"})||l.nol_pccid===A({data:a,param:"nol_pccid"})||(w.filters.onId3PcCidChanged=!0,w.count+=1),A({data:a,param:"nol_subTag"})||l.nol_fdcid===A({data:a,param:"nol_cidNull"})||l.nol_fdcid===A({data:a,param:"nol_fdcid"})||(w.filters.onId3FdCidChanged=!0,w.count+=1),w.count){if(K(a,"sendID3",l),!w.filters.onId3FdCidChanged&&A({data:a,param:"nol_fdcid"})!=A({data:a,param:"nol_cidNull"})||-1===A({data:a,param:"nol_tsvBreakoutMap"}).enable.indexOf(l.nol_breakout)||(a.serviceFlag.tsv.need=!0),w.count>0)for(Y in w.filters)if(w.filters[Y]&&(D(a,Ce[Y]),"true"===A({data:a,param:"nol_disabled"})))return;if(Ce.onComplete&&(D(a,Ce.onComplete),"true"===A({data:a,param:"nol_disabled"})))return}else for(Y in l)l.hasOwnProperty(Y)&&A({data:a,param:Y,val:l[Y]});if(A({data:a,param:"nol_id3Raw",val:C}),a.serviceFlag.tsv.need&&-1!==T.indexOf("|"+A({data:a,param:"nol_product"})+"|")&&(M=A(!0===w.filters.onId3PcCidChanged?{data:a,param:"nol_pccid"}:{data:a,param:"nol_fdcid"}),B(a,{service:"tsv",key:M,url:A({data:a,param:"nol_tsvURL"})})),"id3"===A({data:a,param:"nol_product"})&&l.nol_watermark&&String(l.nol_watermark).length>0)return y=A({data:a,param:"nol_id3Data"}),h=Math.round(Me()/1e3+$),j=A({data:a,param:"nol_id3Seq"})||0,y?A({data:a,param:"nol_id3Data",val:y+="|"+h+","+A({data:a,param:"nol_id3Raw"})}):(A({data:a,param:"nol_id3Data",val:j+":"+A({data:a,param:"nol_clocksrc"})+":"+A({data:a,param:"nol_tsvFlag"})+":"+h+","+A({data:a,param:"nol_id3Raw"})}),A({data:a,param:"nol_id3Seq",val:n(j,"num")+1,vidType:"content"})),g>0&&O(a,{returnLength:!0}),g+=1,A({data:a,param:"nolPriv_id3Count",val:g}),void A({data:a,param:"nol_davState",val:"1"});if(g+=1,A({data:a,param:"nolPriv_id3Count",val:g}),I=A({data:a,param:A({data:a,param:"nol_timer"})})||A({data:a,param:"nol_fdoffset"}),"daypart"===A({data:a,param:"nol_cadence"})&&(I=n(I,"num"),I+="nol_pcoffset"==A({data:a,param:"nol_timer"})?n(A({data:a,param:"nol_pcTimeCode"}),"num"):n(A({data:a,param:"nol_fdTimeCode"}),"num")),a.serviceFlag.tsv.need)A({data:a,param:"nol_queueTime",val:I});else{if("true"===A({data:a,param:"nol_disabled"}))return;b(I,a),A({data:a,param:"nol_davState",val:"1"})}break;case"60":case"mute":break;case"30":case"onpaginate":"dcrstatic"===A({data:a,param:"nol_product"})&&Ce.onPaginateDetected&&"stream"!==A({data:a,param:"nol_cadence"})&&D(a,Ce.onPaginateDetected),A({data:a,param:"nol_onPaginateFired",val:"1",vidType:"static"});break;case"35":case"updatemetadata":if("dcrvideo"===A({data:a,param:"nol_product"})){Re.updateMetadata(a,d,be);var he=A({data:a,param:"nol_adLoadType",vidType:"content"});""!==he&&void 0!==he&&null!==he&&D(a,Ce.onAdLoadFlag)}}V(a,ce)}}function j(e){var t,a=null,r="content"==e._currVidType?n(A({data:e,param:"nol_chnlCountThrshld"}),"num")||le:n(A({data:e,param:"nol_staticCountThrshld"}),"num")||le,o=e._dataArrObj[e._currVidType],i,s=0,l=e._dataArrObj.count;if(!e._dataArrObj[e._currVidType].hasOwnProperty(e._currAssetid)){if(l[e._currVidType]>=r){for(i in o)if(o.hasOwnProperty(i)){if((s=o[i].nolPriv_priority)<=0){t=i;break}(null===a||a>s)&&(a=s,t=i)}o.hasOwnProperty(t)&&(delete o[t],l[e._currVidType]-=1)}e._dataArrObj[e._currVidType][e._currAssetid]={nolPriv_priority:0},l[e._currVidType]+=1}}function Q(e){try{if(!e||!e.hasOwnProperty("data"))return;if(e.hasOwnProperty("savedVals")&&e.hasOwnProperty("savedReplayParams"))if(Array.isArray(e.savedVals))for(var a in e.savedVals)e.savedVals.hasOwnProperty(a)&&(e.savedReplayParams[e.savedVals[a]]=A({data:e.data,param:e.savedVals[a]}));else"string"==typeof e.savedVals&&(e.savedReplayParams[e.savedVals]=A({data:e.data,param:e.savedVals}));e.hasOwnProperty("resetStatic")&&!0===e.resetStatic&&(e.data._dataArrObj.static={}),e.data._dataArrObj.ad={},e.data._dataArrObj.content={},e.data._dataArrObj.count={content:0,ad:0,static:0},e.data._currAssetid="0"}catch(e){t._listeners.fireEvent("error",{type:"error",msg:"Error in resetDataObj"+e})}}function z(e){try{var a=A({data:e,param:"nol_playerId"});if(a&&t._players&&t._players.hasOwnProperty(a)){var r=t._players[a];if(r&&Object.keys(r.ottStatusObj).length>0){var n;for(n in r.ottStatusObj)A({data:e,param:n,val:r.ottStatusObj[n],vidType:"content"})}}}catch(e){t._listeners.fireEvent("error",{type:"error",msg:"Error in populateOttStatus"+e})}}function q(e,a){try{if("1"===A({data:e,param:"nol_unifiedEnabled"})){var r=a&&a.hasOwnProperty("vidType")?a.vidType:e._currVidType.toLowerCase(),o=n(A({data:e,param:"nol_viewCount_"+r}),"num");A({data:e,param:"nol_viewCount_"+r,val:o+=1}),"1"===A({data:e,param:"nol_applyViewInc"})&&A({data:e,param:"nol_applyViewInc",val:"0"})}}catch(e){t._listeners.fireEvent("error",{type:"error",msg:"Error in incViewCnt"+e})}}function K(e,t,a){var r="",n,o,i="nol_minutes, nol_tagPresence, nol_pingCount, nol_currSeg, nol_segmentTimeSpent, nol_cumeTimeSpent, nol_count",s=A({data:e,param:{}}),l,d,c=A({data:e,param:"nol_playerId"});if(j(e),"ad"===e._currVidType.toLowerCase()&&(r="st,a",A({data:e,param:"nol_currSeg",val:"0"})),""===A({data:e,param:"nol_errorURL"})&&A({data:e,param:"nol_errorURL",val:re+ae+oe+"?message=|![nol_errorMessage]!|"}),"loadMetadata"===t)for(n in s)s.hasOwnProperty(n)&&-1===i.indexOf(n)&&A({data:e,param:n,val:M({data:e,param:n})||""});for(n in a)a.hasOwnProperty(n)&&A({data:e,param:String(n),val:String(a[n])});A({data:e,param:"nolPriv_sendData",val:!0}),A({data:e,param:"nol_davState",val:"0"}),A({data:e,param:"nol_highWM",val:"0"}),A({data:e,param:"nol_iagData",val:""}),A({data:e,param:"nol_disabled",val:"false"}),A({data:e,param:"nol_sendQual",val:M({data:e,param:"nol_sendQual"})||""}),A({data:e,param:"nolPriv_assetid",val:""}),"S"===M({data:e,param:"nol_segmentPrefix"})&&A({data:e,param:"nol_segmentPrefix",val:"S"}),A({data:e,param:"nol_c3"})||A({data:e,param:"nol_c3",val:r}),"content"===e._currVidType.toLowerCase()&&G(e),A({data:e,param:"nol_applyViewInc",val:"1"}),(!A({data:e,param:"nol_minutes"})||"daypart"!==A({data:e,param:"nol_cadence"})&&"dcrstatic"!==A({data:e,param:"nol_product"})||"dcrstatic"===A({data:e,param:"nol_product"})&&"stream"===A({data:e,param:"nol_cadence"}))&&(T(e),A({data:e,param:"nol_pingCount",val:0}));var p=A({data:e,param:"nol_adLoadType",vidType:"content"});""!==p&&void 0!==p&&null!==p&&D(e,Ce.onAdLoadFlag),z(e)}function W(a,n){var o=n.id||n.getId?n.getId():"0",i=ue[o].nol_tagMap.nol_url,s,l,d,p=0,u=i?i[a.nol_url]||a.nol_url||"":a.nol_url||"",m={stn:{need:!1,callback:"nol_stnevt"},tsv:{need:!1,callback:"nol_tsvevt"}},f={ad:{},content:{},static:{},count:{content:0,static:0}},v={nol_disabled:"true",nol_errorMessage:"none",nol_vidtype:"",nol_muteState:"0",nol_volumeLevel:"100",nol_clockSource:"D",nol_aggregate:"1",nol_pingCount:"0",nol_intrvlThrshld:"90",nol_id3IntrvlGp:"15",nolPriv_sendData:!0,nol_timer:"nol_fdoffset",nol_isLive:"false",nolPriv_errorSent:"",nolPriv_id3Count:0,nolPriv_cmsMap:{},nol_timeSpentViewing:{ad:{nol_cumeTimeSpent:0,nol_segmentTimeSpent:0,nol_count:0},content:{nol_cumeTimeSpent:0,nol_segmentTimeSpent:0,nol_count:0},static:{nol_cumeTimeSpent:0,nol_segmentTimeSpent:0,nol_count:0}},nol_enableFilterMap:["nol_vidtype","nol_tagSrc","nol_linearAdLoadFlag","nol_ac"],nol_xorSeed:"N!3ls3nBL",nol_currSeg:"0",nol_minWonOverride:"0",nol_customExtension:["nol_legacyCustom"],nol_pingCreationTime:"0",nol_pingSendTime:"0",nol_clientUrl:e.location.href,nol_sendTime:"0",nol_pageURL:e.location.href.replace(/\"/g,"").replace(/\'/g,"").replace(/%27/g,"").replace(/%22/g,""),nol_referrerURL:e.document.referrer.replace(/\"/g,"").replace(/\'/g,"").replace(/%27/g,"").replace(/%22/g,""),nol_random:Math.round(1e9*Math.random()),nol_ottStatus:"0",nol_ottType:"none",nol_ottDevice:"NA",nol_ottDeviceName:"NA",nol_ottDeviceID:"NA",nol_ottDeviceManufacturer:"NA",nol_ottDeviceModel:"NA",nol_ottDeviceVersion:"NA",nol_onPaginateFired:"0",nol_forceFireOnClose:"0",nol_applyViewInc:"0"},g=a;g.nol_playerId=o;var _={_dataArrObj:f,_settings:g,_currVidType:"ad",_currAssetid:"0",serviceFlag:m,isProductOf:function(e){return!!e&&("object"==typeof e?e.indexOf(A({data:this,param:"nol_product"}))>-1:A({data:this,param:"nol_product"})===e)},get:function(e){return A({data:this,param:e})},set:function(e,t){return A({data:this,param:e,val:t})}};t._listeners.addListener("tick",function(){if(n.pauseObj.eventPauseTime>=n.pauseObj.cmsPauseTime&&Re.state.status.current(_)!==Re.states.stopped&&Re.state.status.current(_)!==Re.states.paused&&Be.isEnabled(_)){var e={event:Ne.events.pause,curPos:Re.state.position.current(_),prevPos:null,timestamp:Re.state.timeStamp.current(_)};Re.state.set(_,e),Be.preProcess(_,e),n.pauseObj.eventPauseTime=0}n.pauseObj.pauseTime>n.pauseObj.maxPauseTime&&"dcrstatic"!==A({data:_,param:"nol_product"})&&"vrivideo"!==A({data:_,param:"nol_product"})&&(n.pauseObj.pauseTime=0,t._listeners.fireEvent("handleSessionReset",{plid:o,passedFdata:_}),t._listeners.fireEvent("debug",{type:"debug",msg:"Max pause time reached. Just fired handleSessionReset."}))}),Q({data:_});for(d in v)a.hasOwnProperty(d)?g[d]=a[d]:g[d]=ue[o][d]||v[d];if(g.nol_customExtension&&u){for(s=0,l=g.nol_customExtension.length;s<l;s+=1)u=u.replace("|!["+g.nol_customExtension[s]+"]!|",ue[o][g.nol_customExtension[s]]||"");g.nol_url=u}if("true"!==A({data:_,param:"nol_fireStop"})&&-1==="interval,episode,streamduration".indexOf(A({data:_,param:"nol_cadence"}))||r("pagehide||beforeunload",function(t){ye&&(e.clearInterval(ye),ye=0,c({serverTimeOffset:A({data:_,param:"nolPriv_serverTimeOffset"}),url:"__sendIt",maskRef:A({data:_,param:"nol_rfrmsk"})})),"sendBeacon"in navigator&&(ke=!0),A({data:_,param:"nol_forceFireOnClose_content",val:"1"}),Ce.onEndDetected&&D(_,Ce.onEndDetected),Be.setNextTick(_,null,"content"),N(_)}),this.eventListener=function(e){U(_,e)},ue[o].eventQueue.length>p)for(s=0;s<ue[o].eventQueue.length;s+=1)ue[o]&&ue[o].eventQueue&&(ue[o].eventQueue[s].timeStamp="queued"+s),U(_,ue[o].eventQueue[s]),p=s}function J(a){a&&a.hasOwnProperty("configReq")&&a.hasOwnProperty("player")&&a.configReq.length>0&&void 0!==a.player?(s(a.configReq),e.clearInterval(a.player.lsPopulatedInterval),a.player.lsPopulatedInterval=0):t._listeners.fireEvent("error",{type:"error",msg:"Error in handleConfigRequest. Args is null or missing configReq or player."})}function H(e,t){if(e&&t)for(var a=e.match(ce.regex),r="",n=0;n<a.length;n++)(r=a[n].match(/\w+/gi))&&r.length>0&&(e=e.replace(a[n],t[r[0]]||""));return e}var X=t.PLDPR=t.PLDPR||{},Y=e.NOLBUNDLE,Z=Y.sdkvForConfig?Y.sdkvForConfig():"bj.6.0.0",$="6.0.0",ee="22",te=t.getBaseBuildVer?t.getBaseBuildVer()+"22":"6.0.022",ae="cgi-bin/",re=Y.getConfigAddress?Y.getConfigAddress():Y.getAddress(),ne="cfg",oe="error",ie=t.getLS(),se=t.getConfigVer?t.getConfigVer():300,le=5,de={"[":{end:"]",count:0},"{":{end:"}",count:0},"<":{end:/\.\d+,\d+\>/g,count:0}},ce={regex:/\|\![\w\W]*?(\!\|)/g,length:2},pe=/[\[\{<\(\}\]>\)]/g,ue=X.dataObj||{},me=0,fe=0,ve=5,ge=5,_e=[],ye,he=2,Pe=!1,Se=[],Oe="false",Te=Oe,Le,be={},Ce={},Ee={},we=!1,ke=!1,Ie,De={send:function(e,r){var n=e,o=-1!==n.url.indexOf("&c62=")?a(n.url,"c62=")+"&c62=sendTime,"+(void 0!==r?r:Me()/1e3>>0):n.url,i=this,s=a(o,"rnd=")+"&rnd="+Math.round(1e6*Math.random()),l=ke?{onerror:{},onload:{}}:new Image;l.onerror=function(e){i.onError(e,n)},l.onload=function(e){},t.postMsgAvail&&n.hasOwnProperty("maskRefUrl")&&-1!==n.maskRefUrl&&"true"===n.maskRefUrl?xe.sendMaskedPing(s):ke?navigator.sendBeacon(s):l.src=s},setup:function(e){var t=this,a=e.hasOwnProperty("url")?e.url:"",r=e.params||{url:a,errorDelay:1e3*(e.delay||ge),retry:0,maskRefUrl:e.hasOwnProperty("maskRefUrl")&&String(e.maskRefUrl).length>0?e.maskRefUrl:-1};a&&a.length>0&&t.send(r,e.pingSendTime)},onError:function(t,a){var r=this,n=t.target.src;a&&a.retry<ve&&n&&n.length>0&&(a.retry+=1,a.url=n,e.setTimeout(function(){r.send(a)},a.errorDelay))}},Me=Y.getTIme||function(){return(new Date).getTime()},Ae={},Be=function(){var e="nol_eventData",t="nol_eventDataDelimiter",a="nol_eventDataEvents",r="nol_eventDataEnabled",n=":",o={delimiter:"",eventsList:[]},i=function(){return{play:{name:"play",abbrv:"PL"},pause:{name:"pause",abbrv:"PU"},rewind:{name:"rewind",abbrv:"RW"},forward:{name:"forward",abbrv:"FW"},stop:{name:"stop",abbrv:"ST"},resume:{name:"resume",abbrv:"RE"},mute:{name:"mute",abbrv:"MT"}}}(),s={get:function(t,a){var r="";return t&&(r=A({data:t,param:e,vidType:a||t._currVidType})),r},set:function(t,a,r){return t&&A({data:t,param:e,val:a,vidType:r||t._currVidType}),t},clear:function(t){t&&(A({data:t,param:e,val:"",vidType:"ad"}),A({data:t,param:e,val:"",vidType:"content"}))},clone:function(e){try{return{content:s.get(e,"content"),ad:s.get(e,"ad")}}catch(e){return null}},bind:function(e,t){try{if(e&&t)for(var a in t)s.set(e,t[a],a)}catch(e){}},append:function(e,t){if(e&&t){var a=s.get(e),r=s.delimiter(e),n=s.parseEventData(t);s.set(e,a?[a,n].join(r):n)}},delimiter:function(e){return e?(o.delimiter||(o.delimiter=A({data:e,param:t})),o.delimiter):""},isEnabled:function(e){return!!e&&"true"===A({data:e,param:r})},isEventEnabled:function(e,t){if(t&&e){var a=s.lookupEvent(e.toLowerCase());if(a)return s.eventsList(t).indexOf(a.name)>-1}return!1},eventsList:function(e){if(e){if(!o.eventsList||0==o.eventsList.length){var t=A({data:e,param:a});t&&(o.eventsList=t.split(","))}return o.eventsList}},clearCache:function(){o.delimiter="",o.eventsList=[]},lookupEvent:function(e){return e?i[e.toLowerCase()]:null},parseEventData:function(e){var t="";if(e){var a=s.lookupEvent(e.event);if(a){var r=[a.abbrv,e.timestamp,e.curPos];void 0!==e.prevPos&&null!==e.prevPos&&e.curPos!=e.prevPos&&r.push(e.prevPos),void 0!==e.p1&&null!==e.p1&&r.push(e.p1),t=r.join(":")}}return t},handleEvent:function(e,t){e&&t&&s.isEventEnabled(t.event,e)&&s.append(e,t)},setNextTick:function(e,t,a){var r=s.get(e,a);if(r&&r.indexOf("{{nextTick}}")>-1)if(t&&t.event===Ne.events.playhead)e=s.set(e,r.replace(/{{nextTick}}/gi,1==t.curPos?"0":t.curPos),a);else{var n=Re.state.position.current(e,a)||"0";e=s.set(e,r.replace(/{{nextTick}}/gi,n),a)}return e},preProcess:function(e,t){try{e&&t&&t.event&&t.event!==Ne.events.play&&-1===t.event.indexOf("event_")&&(s.setNextTick(e,t),t.event===Ne.events.stop&&"content"!==Re.type.current(e)&&s.setNextTick(e,t,"content"),s.handleEvent(e,t))}catch(e){}},postProcess:function(e,t){try{e&&t&&t.event&&t.event===Ne.events.play&&s.handleEvent(e,t)}catch(e){}}};return{get:s.get,set:s.set,clone:s.clone,bind:s.bind,clear:s.clear,append:s.append,isEnabled:s.isEnabled,isEventEnabled:s.isEventEnabled,preProcess:s.preProcess,postProcess:s.postProcess,setNextTick:s.setNextTick}}(),Re={_keys:{currentPosition:"nolPriv_currPos",currentTimestamp:"nolPriv_now",stateCurrentPosition:"nolPriv_stateCurrentPH",stateCurrentTimestamp:"nolPriv_stateCurrentTS",stateCurrentStatus:"nolPriv_stateCurrentStatus",stateCurrentAsset:"nolPriv_stateCurrentAsset",stateCurrentType:"nolPriv_stateCurrentType",statePreviousPosition:"nolPriv_statePreviousPH",statePreviousTimestamp:"nolPriv_statePreviousTS",statePreviousStatus:"nolPriv_statePreviousStatus",statePreviousAsset:"nolPriv_statePreviousAsset",statePreviousType:"nolPriv_statePreviousType",tagName:"nol_comment",localTimer:"nol_timer"},states:{loaded:"LOADED",playing:"PLAYING",paused:"PAUSED",stopped:"STOPPED"},findPlayer:function(e){if(e){if("string"==typeof e)return t._players[e];var a=A({data:e,param:"nol_playerId"});return Re.findPlayer(a)}return null},currentPosition:function(e){return n(A({data:e,param:Re._keys.currentPosition}),"num")},currentTimestamp:function(e){return n(A({data:e,param:Re._keys.currentTimestamp}),"num")},asset:{current:function(e){return e?e._currAssetid:null},parse:function(e){var t=be.nol_assetid?be.nol_assetid.clientField:"nol_assetid";return e?e[t]:null}},type:{isCurrentlyContent:function(e){return"content"===e._currVidType},isCurrentlyAd:function(e){return"ad"===e._currVidType},isCurrentlyStatic:function(e){return"static"===e._currVidType},current:function(e){return e._currVidType},parse:function(e,t){var a=be.nol_vidtype?be.nol_vidtype.clientField:"nol_vidtype",r=t[a]?t[a].toString().toLowerCase():"",n=","+A({data:e,param:"nol_contentType"});return r&&-1!==n.indexOf(","+r)?"content":"dcrstatic"===A({data:e,param:"nol_product"})?"static":"ad"}},tagName:function(e,t){return A({data:e,param:Re._keys.tagName,vidType:t||e._currVidType})},localTimer:function(e,t){return A({data:e,param:Re._keys.localTimer,vidType:t||e._currVidType})||"nol_fdoffset"},isInitialized:function(e,t){try{return t=t||e._currVidType,"{}"!==JSON.stringify(e._dataArrObj[t])}catch(e){return!1}},updateMetadata:function(e,a,r){try{var n={nolParams:["nol_assetid","nol_assetName","nol_title","nol_vcTitle","nol_category","nol_channelName","nol_clientid","nol_vcid","nol_vidtype","nol_adLoadType"]},o=function(e){var t=!0;for(var a in n.nolParams)if(r&&r.hasOwnProperty(n.nolParams[a])&&e===r[n.nolParams[a]].clientField){t=!1;break}return t};if(!e||!a)return;var i=void 0!==r&&"object"==typeof r&&r;for(var s in a)a.hasOwnProperty(s)&&(i&&o(s)?A({data:e,param:String(s),val:String(a[s])}):t._listeners.fireEvent("warn",{type:"warn",msg:"Attempt to update metadata field "+s+" is not allowed. Please remove "+s+" from your metadata parameter."}))}catch(e){t._listeners.fireEvent("error",{type:"error",msg:"Failed to update metadata"})}},state:{position:{current:function(e,t){return n(A({data:e,param:Re._keys.stateCurrentPosition,vidType:t||e._currVidType}),"num")},previous:function(e,t){return n(A({data:e,param:Re._keys.statePreviousPosition,vidType:t||e._currVidType}),"num")},set:function(e,t,a){var r=Re.state.position.current(e);A({data:e,param:Re._keys.statePreviousPosition,val:r,vidType:a||e._currVidType}),A({data:e,param:Re._keys.stateCurrentPosition,val:t,vidType:a||e._currVidType})}},timeStamp:{current:function(e,t){return n(A({data:e,param:Re._keys.stateCurrentTimestamp,vidType:t||e._currVidType}),"num")},previous:function(e,t){return n(A({data:e,param:Re._keys.statePreviousTimestamp,vidType:t||e._currVidType}),"num")},set:function(e,t,a){var r=Re.state.timeStamp.current(e);A({data:e,param:Re._keys.statePreviousTimestamp,val:r,vidType:a||e._currVidType}),A({data:e,param:Re._keys.stateCurrentTimestamp,val:t,vidType:a||e._currVidType})}},asset:{current:function(e,t){return A({data:e,param:Re._keys.stateCurrentAsset,vidType:t||e._currVidType})},previous:function(e,t){return A({data:e,param:Re._keys.statePreviousAsset,vidType:t||e._currVidType})},set:function(e,t,a){var r=Re.state.asset.current(e);A({data:e,param:Re._keys.statePreviousAsset,val:r,vidType:a||e._currVidType}),A({data:e,param:Re._keys.stateCurrentAsset,val:t,vidType:a||e._currVidType})}},status:{current:function(e,t){return A({data:e,param:Re._keys.stateCurrentStatus,vidType:t||e._currVidType})},previous:function(e,t){return A({data:e,param:Re._keys.statePreviousStatus,vidType:t||e._currVidType})},set:function(e,t,a){var r=Re.state.status.current(e,a);A({data:e,param:Re._keys.statePreviousStatus,val:r,vidType:a||e._currVidType}),A({data:e,param:Re._keys.stateCurrentStatus,val:t,vidType:a||e._currVidType})}},type:{current:function(e,t){return A({data:e,param:Re._keys.stateCurrentType,vidType:t||e._currVidType})},previous:function(e,t){return A({data:e,param:Re._keys.statePreviousType,vidType:t||e._currVidType})},set:function(e,t,a){var r=Re.state.type.current(e,a);A({data:e,param:Re._keys.statePreviousType,val:r,
vidType:a||e._currVidType}),A({data:e,param:Re._keys.stateCurrentType,val:t,vidType:a||e._currVidType})}},set:function(e,t){var a=Re.findPlayer(e);switch(t.event){case"LOAD":Re.state.asset.set(e,t.assetId),Re.state.type.set(e,t.contentType),Re.state.timeStamp.set(e,t.timestamp);break;case"PLAY":case"RESUME":Re.state.status.set(e,Re.states.playing),Re.state.asset.set(e,t.assetId),Re.state.type.set(e,t.contentType),Re.state.timeStamp.set(e,t.timestamp),"PLAY"===t.event&&Re.state.position.set(e,0),"RESUME"===t.event&&void 0!=t.currentPos&&null!=t.currentPos&&"{{nextTick}}"!=t.currentPos&&(Re.state.position.set(e,t.curPos),Re.state.timeStamp.set(e,t.timestamp)),a.pauseObj.eventPauseTime=0;break;case"PAUSE":Re.state.status.set(e,Re.states.paused);break;case"STOP":Re.state.resetAsset(e),Re.state.status.set(e,Re.states.stopped);break;case"PLAYHEAD":Re.state.position.set(e,t.curPos),Re.state.timeStamp.set(e,t.timestamp),a.pauseObj.eventPauseTime=0;break;case"REWIND":case"FORWARD":Re.state.position.set(e,t.curPos),Re.state.timeStamp.set(e,t.timestamp),a.pauseObj.eventPauseTime=0;break;case"MUTE":break;case"event_play":a.pauseObj.eventPauseTime=0}},get:function(e,t){try{if(e){return{position:{current:Re.state.position.current(e,t),previous:Re.state.position.previous(e,t)},timeStamp:{current:Re.state.timeStamp.current(e,t),previous:Re.state.timeStamp.previous(e,t)},asset:{current:Re.state.asset.current(e,t),previous:Re.state.asset.previous(e,t)},status:{current:Re.state.status.current(e,t),previous:Re.state.status.previous(e,t)},type:{current:Re.state.type.current(e,t),previous:Re.state.type.previous(e,t)}}}}catch(e){}return null},resetAsset:function(e){Re.state.position.set(e,null),Re.state.timeStamp.set(e,null),Re.state.asset.set(e,null)},bind:function(e,t){try{if(e&&t)for(var a in t)A({data:e,param:Re._keys.statePreviousPosition,val:t[a].position?t[a].position.previous:null,vidType:a}),A({data:e,param:Re._keys.stateCurrentPosition,val:t[a].position?t[a].position.current:null,vidType:a}),A({data:e,param:Re._keys.statePreviousTimestamp,val:t[a].timeStamp?t[a].timeStamp.current:null,vidType:a}),A({data:e,param:Re._keys.stateCurrentTimestamp,val:t[a].timeStamp?t[a].timeStamp.current:null,vidType:a}),A({data:e,param:Re._keys.statePreviousAsset,val:t[a].asset?t[a].asset.current:null,vidType:a}),A({data:e,param:Re._keys.stateCurrentAsset,val:t[a].asset?t[a].asset.current:null,vidType:a}),A({data:e,param:Re._keys.statePreviousStatus,val:t[a].status?t[a].status.current:null,vidType:a}),A({data:e,param:Re._keys.stateCurrentStatus,val:t[a].status?t[a].status.current:null,vidType:a}),A({data:e,param:Re._keys.statePreviousType,val:t[a].type?t[a].type.current:null,vidType:a}),A({data:e,param:Re._keys.stateCurrentType,val:t[a].type?t[a].type.current:null,vidType:a})}catch(e){}},clone:function(e){try{return{content:Re.state.get(e,"content"),ad:Re.state.get(e,"ad")}}catch(e){}}}},Ne=function(){var e={load:"LOAD",play:"PLAY",pause:"PAUSE",stop:"STOP",resume:"RESUME",rewind:"REWIND",forward:"FORWARD",playhead:"PLAYHEAD",mute:"MUTE",unmute:"UNMUTE"},a={checkRewind:function(e,t){if(e&&void 0!==t&&null!==t&&"stream"!==A({data:e,param:"nol_cadence"})&&"impression"!==A({data:e,param:"nol_cadence"})){var a=Math.floor(n(t,"num")),r=Re.state.position.current(e);return{match:a-r<0,currentPos:a,previousPos:r}}return!1},checkForward:function(e,t){if(e&&void 0!==t&&null!==t&&"stream"!==A({data:e,param:"nol_cadence"})&&"impression"!==A({data:e,param:"nol_cadence"})){var a=Math.floor(n(t,"num")),r=Re.state.position.current(e),o=Re.state.timeStamp.current(e),i=n(A({data:e,param:"nol_cmsIntrvlGp"}),"num")||2,s=Math.ceil(Me()/1e3-o)||1;if(0==r&&a>86400&&"nol_cmsoffset"===Re.localTimer(e)){var l=Math.round(Me()/1e3).toString().substr(0,t.toString().length);l&&(r=parseInt(l))}var d=a-r;return{match:d>i&&d>Math.ceil(1.5*s),currentPos:a,previousPos:r}}return!1}},r={checkRewind:function(e,t){var a=Re.currentPosition(e),r=Re.currentTimestamp(e),o=n(A({data:e,param:"nol_id3IntrvlGp"}),"num");return!1},checkForward:function(e,t){var a=Re.currentPosition(e),r=Re.currentTimestamp(e),o=n(A({data:e,param:"nol_id3IntrvlGp"}),"num");return!1}};return{events:e,inferEvent:{inferEvent:function(r,o,i,s,l){var d=null;try{if(d={event:"event_"+r,curPos:Re.state.position.current(o),prevPos:null,timestamp:s},r&&o)switch(r.toLowerCase()){case"3":case"15":case"loadmetadata":case"pauseloadmeta":var c=Re.asset.parse(l),p=Re.state.asset.current(o),u=Re.state.asset.previous(o),m=Re.state.type.current(o),f=Re.type.parse(o,l);if(d.event=e.load,d.assetId=c,d.contentType=f,Re.state.status.current(o,f)==Re.states.paused&&(p==c&&null!==c||m!==f)){d.event=e.resume,d.assetId=c,d.contentType=f,d.curPos="{{nextTick}}";break}if(Re.state.status.current(o,f)!==Re.states.playing&&p!=c||Re.state.status.current(o,f)===Re.states.stopped&&u==c&&null!==c||null===p){d.event=e.play,d.curPos="{{nextTick}}";break}break;case"5":case"play":d.event="event_play";break;case"7":case"stop":d.event="event_stop";break;case"57":case"end":case"oncomplete":d.event=e.stop;break;case"49":case"setplayheadposition":case"playheadposition":if(i>-1){var v=a.checkRewind(o,i);if(v.match){d.event=e.rewind,d.curPos=v.currentPos,d.prevPos=v.previousPos,d.p1=d.prevPos-d.curPos;break}if(-1===Be.get(o).indexOf("{{nextTick}}")){var g=a.checkForward(o,i);if(g.match){d.event=e.forward,d.curPos=g.currentPos,d.prevPos=g.previousPos,d.p1=d.curPos-d.prevPos;break}}if(Re.state.status.current(o)===Re.states.paused){d.event=e.resume,d.assetId=Re.state.asset.current(o),d.contentType=Re.type.current(o),d.curPos=i;break}d.event=e.playhead,d.curPos=i}break;case"55":var _=A({data:o,param:A({data:o,param:"nol_timer"})})||A({data:o,param:"nol_fdoffset"});"daypart"===A({data:o,param:"nol_cadence"})&&(_=n(_,"num"),_+="nol_pcoffset"==A({data:o,param:"nol_timer"})?n(A({data:o,param:"nol_pcTimeCode"}),"num"):n(A({data:o,param:"nol_fdTimeCode"}),"num")),d.event=e.playhead;break;case"9":case"mute":d.event=e.mute,d.p1=i}}catch(e){t._listeners.fireEvent("error",{type:"error",msg:"Error in eventsController. Error inferring event - "+r})}return d}}.inferEvent}}(),xe=function(e,t,a){var r={sendMaskedPing:function(n,o){e.lsReady()?t.contentWindow.postMessage(JSON.stringify({eventType:"maskref",data:{url:n}}),t.src):(o=o||0)<a.maxRetry&&setTimeout(function(){r.sendMaskedPing(n,o+1)},300)}};return{sendMaskedPing:r.sendMaskedPing}}(t,ie,{maxRetry:ve});return X.initFromConfig=function(a,r,n){t._listeners.fireEvent("info",{type:"info",msg:"Recieved config response."});try{if(a&&a.nol_GLOBALS){var o,s,l=Me(),d,p,u,m,f="localhost",v=a.nol_GLOBALS.debugSfcode||"uat-cert",g=a.nol_GLOBALS.nol_appid||"",_=a.nol_GLOBALS.nol_lsid||"",y=a.nol_GLOBALS.nol_emmURL||(a.nol_GLOBALS.nol_tagMap&&a.nol_GLOBALS.nol_tagMap.nol_defaults?a.nol_GLOBALS.nol_tagMap.nol_defaults.nol_emmURL:"")||"",h=a.nol_GLOBALS.nol_sessionIdUrl||"",P,S,O,T,L,b,C,E;if(""!==h&&De.setup({pingSendTime:"undefined",url:h}),n&&(t.optoutCookie&&"TOTAL"===t.optoutCookie&&"OPTOUT"!==t.localStorageId&&(_="OPTOUT",t._listeners.fireEvent("debug",{type:"debug",msg:'Optout cookie was set but lsid was "'+t.localStorageId+'". Setting lsid to OPTOUT'})),""===_&&("-1"===t.localStorageId?_="999":""===t.localStorageId?_=t.generateGUID():t.localStorageId&&(_=t.localStorageId))),t._listeners.fireEvent("debug",{type:"debug",msg:"Cached lsid: "+t.localStorageId+"; config lsid: "+_}),t._listeners.fireEvent("sendOptOutStatus","OPTOUT"==_),void 0!==a.nol_GLOBALS.nol_maxRetry&&null!==a.nol_GLOBALS.nol_maxRetry&&""!==a.nol_GLOBALS.nol_maxRetry){var w=parseInt(a.nol_GLOBALS.nol_maxRetry);w>-1&&(ve=w)}if(a&&a.hasOwnProperty("nol_GLOBALS")){var k=r||a.nol_GLOBALS.nol_playerId||0;if(!(s=t._players[k]))return;f=a.nol_GLOBALS.nol_sfcode||f,t._listeners.fireEvent("debug",{type:"debug",msg:'SDK instance "'+s.name+'" initialized with globals '+JSON.stringify(s.getConfigParams().ggParams)}),s.pauseObj={pauseTime:0,eventPauseTime:0,maxPauseTime:parseInt(a.nol_GLOBALS.nol_pauseTimeout)||1800,cmsPauseTime:parseInt(a.nol_GLOBALS.nol_pauseEventTimeoutPlayhead)||15},n&&(a.nol_GLOBALS.nol_serverTime=Me()/1e3>>0),E=t.localStorage?ue[k]?ue[k].nol_serverTime||t.localStorage.getItem("nol_serverTime"):t.localStorage.getItem("nol_serverTime")||0:ue[k]?ue[k].nol_serverTime:0,E===a.nol_GLOBALS.nol_serverTime?me=ue[k]?ue[k].nolPriv_serverTimeOffset:a.nol_GLOBALS.nol_serverTime-Math.round(l/1e3):(me=a.nol_GLOBALS.nol_serverTime-Math.round(l/1e3),t.localStorage&&t.localStorage.setItem("nol_serverTime",a.nol_GLOBALS.nol_serverTime)),ge=a.nol_GLOBALS.nol_errorWait||ge,o=s.getConfigParams().ggParams||{},ue[k]=i(ue[k]),ue[k].nolPriv_serverTimeOffset=me,ue&&ue.hasOwnProperty(k)?ue[k].nol_nielsenAdSupportFlg=0:t._listeners.fireEvent("error",{type:"error",msg:"Error in initFromConfig. Invalid data object or playerId."}),ye&&(e.clearInterval(ye),ye=0),a.nol_GLOBALS.nol_sendTimer&&(ye=e.setInterval(function(){c({serverTimeOffset:ue[k].nolPriv_serverTimeOffset,url:"__sendIt"})},1e3*a.nol_GLOBALS.nol_sendTimer));for(d in o)o.hasOwnProperty(d)&&(ue[k][d]=o[d]);for(d in a.nol_GLOBALS)a.nol_GLOBALS.hasOwnProperty(d)&&(ue[k][d]=a.nol_GLOBALS[d]);Ce=ue[k].nol_eventFilter||{},Ee=ue[k].nol_serviceFilter||{},Ie=ue[k].nol_id3Map||{};for(d in ue[k].nol_clientCMSmap)ue[k].nol_clientCMSmap.hasOwnProperty(d)&&(S=ue[k].nol_clientCMSmap[d].toString()||"",O=S.replace(pe,""),L=S.match(pe)||[],T={clientField:O.toString(),encoding:L.join("")},be[d]=T);if(o&&o.hasOwnProperty("nol_override")&&Object.keys(o.nol_override).length>0)for(d in o.nol_override)o.nol_override[d].length>0&&(ue[k][d]=o.nol_override[d]);a.nol_GLOBALS.hasOwnProperty("nol_maxStaticInstances")&&Y.hasOwnProperty("setTotalNumAssetsAllowed")&&Y.setTotalNumAssetsAllowed(a.nol_GLOBALS.nol_maxStaticInstances),s.configLoaded=!0,n&&(ue[k].nol_prefProtocol=t.userAgent.isIOS()&&t.userAgent.iosVersion().major>=9?"https":0===re.indexOf("https")?"https":"http",ue[k].nol_playerId=k,ue[k].nol_nuid=_,ue[k].nol_lsid=_,ue[k].nol_bldv=te,ue[k].nol_sdkv=s.sdkvForConfig,ue[k].nol_assetName=a.nol_GLOBALS.hasOwnProperty("nol_assetName")&&a.nol_GLOBALS.nol_assetName.length>0?a.nol_GLOBALS.nol_assetName:"defChnAsset",ue[k].nol_sfcode=o.sfcode,ue[k].nol_dcrsfcode=o.sfcode,ue[k].nol_apn=o.apn||(a.nol_GLOBALS.hasOwnProperty("nol_apn")&&a.nol_GLOBALS.nol_apn.length>0?a.nol_GLOBALS.nol_apn:""),ue[k].nol_nmspc="NOLBUNDLE"),ue[k].nol_lstrg="",ue[k].nol_userSessionId=s.sessionId,ue[k].nol_useroptout="",t.userAgent.isAndroid()?ue[k].nol_vriDeviceTypeId="0003":t.userAgent.isIOS()?ue[k].nol_vriDeviceTypeId="0002":ue[k].nol_vriDeviceTypeId="0001",_&&"999"!==_&&!t.userAgent.isFB()&&(ue[k].nol_lstrg="lstrg-"+_),t._listeners.fireEvent("debug",{type:"debug",msg:"Cached emm: "+t.EMMURL+"; config emm: "+y}),y=H(y,ue[k]),ue[k].nol_emmURL=y,t.setLsId(_,y,s.sessionId)}if(a&&a.hasOwnProperty("nol_TAGS"))for(ue[k].tagSize=a.nol_TAGS.length,ue[k].tags=[],t._listeners.fireEvent("debug",{type:"debug",msg:"NIELSEN TAGS EXPECTED TO FIRE:"}),d=0;d<ue[k].tagSize;d+=1)t._listeners.fireEvent("debug",{type:"debug",msg:String(a.nol_TAGS[d].nol_comment)}),ue[k].tags.push(new W(JSON.parse(JSON.stringify(a.nol_TAGS[d])),s));void 0!==t.enablePlayer&&t.enablePlayer(k,"PLDPR"),ue[k].bReInit=!1,o.nol_hybridCfg&&e&&e.JSON&&(P=e.document.createElement("script"),P.text="(function() {if (typeof "+o.nol_hybridCfg+" === 'function'){"+o.nol_hybridCfg+"('"+JSON.stringify(a)+"')}}())",e.document.head?(e.document.head.appendChild(P),e.document.head.removeChild(P)):(e.document.getElementsByTagName("head")[0].appendChild(P),e.document.getElementsByTagName("head")[0].removeChild(P))),ue[k].forceStreamRegen=!1,t._listeners.addListener("tick",function(){s&&s.hasOwnProperty("pauseObj")&&s.pauseObj.hasOwnProperty("pauseTime")&&(s.pauseObj.pauseTime+=1,s.pauseObj.eventPauseTime+=1)}),s&&s.configLoaded&&e.NOLBUNDLE&&e.NOLBUNDLE.controllers&&e.NOLBUNDLE.controllers.util&&e.NOLBUNDLE.controllers.util.fireCustomEvent&&e.NOLBUNDLE.controllers.util.fireCustomEvent("NSDK_Initialized",{instanceName:s.name,instance:s}),t._listeners.fireEvent("flushQueue")}else e.console&&e.console.warn&&e.console.warn("Warning: CMS config response is not valid. Please ensure NOL global parameter values are correct."),t._listeners.fireEvent("warn",{type:"warn",msg:"Warning in initFromConfig. NOL global parameters are not valid."})}catch(a){e.console&&e.console.error&&e.console.error("Error initializing CMS config response. Please ensure NOL global parameter values are correct."),t._listeners.fireEvent("error",{type:"error",msg:"Error in initFromConfig. Error parsing config response."})}},X.getCmsMap=function(e){try{if(void 0!==e&&"string"==typeof e||t._listeners.fireEvent("error",{type:"error",msg:"Error in getCmsMap. PlayerID must be passed as string data type."}),ue&&ue.hasOwnProperty(e)&&void 0!==ue[e].nol_clientCMSmap)return ue[e].nol_clientCMSmap}catch(e){t._listeners.fireEvent("error",{type:"error",msg:"Error in getCmsMap."})}},X.init=function(a){var r=a.getConfigParams()||{},n,o,i=t.getIfLsidShouldSend()?t.getLsId():void 0,s,l="",c=0===re.indexOf("https")?"https":"http";s={pli:{val:r.nol_playerId||0,protect:!0},nmspc:{val:"NOLBUNDLE",protect:!0},sdkv:{val:Z,protect:!0},fmt:{val:"jsonp",protect:!0},apn:{val:"Tester",protect:!1},fbtag:{val:"true",protect:!1},cfgv:{val:se,protect:!0},bldv:{val:te,protect:!0},prefprotocol:{val:c,protect:!1}},a.addListener("ggPM",function(e){w(e)}),a.lsPopulatedInterval=0,a.lsCurrentRetry=0,a.serviceSending={tsv:!1,stn:!1},a.ottStatusObj={},a.oServiceCall={},a.static={started:!1};for(n in r.ggParams)!r.ggParams.hasOwnProperty(n)||s[n]&&s[n].protect||0==n.indexOf("nol_")||(s[n]={val:d(r.ggParams[n])});for(n in s)s.hasOwnProperty(n)&&(l+=n+"="+s[n].val+"&");l=l.substr(0,l.length-1),o=re.replace(/[\w\W]*?:\/\//g,""),a.useCachedConfig||(void 0===i||a.lsPopulatedInterval?void 0===i&&(Le=c+"://"+o+ae+"cfg?"+l+"&sendTime="+Math.floor(Me()/1e3),J({configReq:Le,player:a})):a.lsPopulatedInterval=e.setInterval(function(){i=t.getLsId(),"-1"!==i?(Le=c+"://"+o+ae+"cfg?"+l+"&lsid="+i+"&sendTime="+Math.floor(Me()/1e3),J({configReq:Le,player:a})):2===a.lsCurrentRetry?(Le=c+"://"+o+ae+"cfg?"+l+"&lsid=999&sendTime="+Math.floor(Me()/1e3),J({configReq:Le,player:a})):a.lsCurrentRetry+=1},1e3))},X.built||(X.built=!0,X.BUILDVERSION=te,X.dataObj=ue,t.bindPlayers(X,"PLDPR"),t._listeners.fireEvent("flushQueue")),X}),e.NOLBUNDLE.registerLib("PLDCR",function(t){"use strict";function a(t,a){var r={};return r.set=function(e,t){return r.init=!0,r.elapsed=0,r.startTimeStamp=0,"function"==typeof e&&(r.funcCall=e),isNaN(t)||(r.intervalTime=t),r},r.play=function(e){return r.isActive||(e?(r.startTimeStamp=0,r.elapsed=0,r.setTimer()):r.setTimer(r.remaining),r.isActive=!0),r},r.pause=function(){return r.isActive&&(r.isActive=!1,r.remaining-=Date.now()-r.last,r.clearTimer()),r},r.stop=function(){return r.isActive=!1,r.remaining=r.intervalTime,r.clearTimer(),r},r.clearTimer=function(){e.clearTimeout(r.timeoutObject)},r.setTimer=function(t){var a=r;"function"==typeof r.funcCall&&(isNaN(t)&&(t=r.intervalTime),r.remaining=t,r.last=Date.now(),r.clearTimer(),r.timeoutObject=e.setTimeout(function(){a.tick()},t))},r.tick=function(){r.isActive&&(r.elapsed++,r.funcCall(),r.setTimer())},r.init?r:(r.set(t,a),r)}function r(){l.dcrTimer&&(l.latestDcrTickVal=l.dcrTimer.elapsed,t._listeners.fireEvent("dcrHeartbeat",l.dcrTimer.elapsed))}function n(e){t.globalHasFocus&&!t.globalHasFocus()&&(t._listeners.fireEvent("info",{type:"info",msg:"Page onBlur fired and stopped static timer: "+JSON.stringify(e,function(e,t){if("string"==typeof t)return t})}),l.dcrTimer&&l.dcrTimer.pause())}function o(e){t._listeners.fireEvent("info",{type:"info",msg:"Page onFocus fired and playing static timer: "+JSON.stringify(e,function(e,t){if("string"==typeof t)return t})}),l.dcrTimer&&l.dcrTimer.play(l._reset),l._reset=!1}function i(e){!document.hidden&&t.globalHasFocus&&t.globalHasFocus()?(t._listeners.fireEvent("info",{type:"info",msg:"Page visibilityApi - VISIBLE"}),l.dcrTimer&&l.dcrTimer.play(l._reset),l._reset=!1):(t._listeners.fireEvent("info",{type:"info",msg:"Page visibilityApi - HIDDEN"}),l.dcrTimer&&l.dcrTimer.pause())}function s(e){l.dcrTimer&&l.dcrTimer.stop()}var l=t.PLDCR=t.PLDCR||{dcrTimer:void 0,startDcrTime:0,latestDcrTickVal:0,_reset:!1},d="6.0.0",c="0",p=e.NOLBUNDLE,u=t.getBaseBuildVer?t.getBaseBuildVer()+"0":"6.0.00";return l.startDcrTick=function(){},l.latestDcrTick=function(){return l.latestDcrTickVal},l.start=function(e){var n=!t.globalHasFocus||t.globalHasFocus();l._reset=e,(null===l.dcrTimer||void 0===l.dcrTimer||e)&&(n?(l.dcrTimer=a(r,1e3).play(!0),l._reset=!1):l.dcrTimer=a(r,1e3))},l.stop=function(){l.dcrTimer&&l.dcrTimer.stop()},l.init=function(t){p.browserSafeAddEventListener({element:e,eventType:"blur",func:n,useCapture:!1}),p.browserSafeAddEventListener({element:e,eventType:"focus",func:o,useCapture:!1}),p.browserSafeAddEventListener({element:e,eventType:"beforeunload",func:s,useCapture:!1}),p.browserSafeAddEventListener({element:e,eventType:"pagehide",func:s,useCapture:!1}),document.addEventListener&&document.addEventListener("visibilitychange",i)},l.built||(l.built=!0,l.BUILDVERSION=u,t.bindPlayers(l,"PLDCR")),l}),e.NOLBUNDLE.registerLib("PLLOG",function(t){"use strict";function a(e){if(e){var a=String(e).toUpperCase();if(f.hasOwnProperty(a))for(var r in f[a]){var n=String(r).toLowerCase();t._listeners.addListener(n,f[a][n])}}}function r(e){return e&&e.target&&e.target.hasOwnProperty("msg")?e.target.msg:""}function n(t){e.console&&console.info("Nielsen Log: Info - ",r(t))}function o(t){e.console&&console.log("Nielsen Log: Debug - ",r(t))}function i(t){e.console&&console.log("Nielsen Log: Logger - ",r(t))}function s(t){e.console&&console.warn("Nielsen Log: Warn - ",r(t))}function l(t){e.console&&console.error("Nielsen Log: Error - ",r(t))}var d=t.PLLOG=t.PLLOG||{},c=e.NOLBUNDLE,p="6.0.0",u="0",m=t.getBaseBuildVer?t.getBaseBuildVer()+"0":"6.0.0"+_localBuildVer,f={INFO:{info:n},DEBUG:{info:n,debug:o,warn:s,error:l},WARN:{info:n,warn:s},ERROR:{info:n,error:l},CONSOLE:{info:n},TRUE:{info:n},LOGGER:{logger:i}};return d.init=function(e){if(e&&e.getConfigParams){var t=e.getConfigParams();t.hasOwnProperty("ggParams")&&t.ggParams.hasOwnProperty("nol_sdkDebug")&&a(t.ggParams.nol_sdkDebug)}},d.built||(d.built=!0,d.BUILDVERSION=m,t.bindPlayers(d,"PLLOG")),d})):console&&console.warn&&console.warn("Warning: Your current browser environment does not sufficiently support ECMA5 standards. Nielsen SDK will not be initialized.")}catch(e){t("ERROR: "+e.message)}}(window);