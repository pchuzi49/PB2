/*! version: d916f31 - 20/9/2017*/
webpackJsonpninemsn_ads([2],[,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.clear=t.refreshAll=t.refresh=t.google=t.appNexus=t.render=t.options=void 0;var a=n(2);Object.defineProperty(t,"options",{enumerable:!0,get:function(){return a.set}});var i=n(31);Object.defineProperty(t,"render",{enumerable:!0,get:function(){return i.render}}),Object.defineProperty(t,"appNexus",{enumerable:!0,get:function(){return i.appNexus}}),Object.defineProperty(t,"google",{enumerable:!0,get:function(){return i.google}});var o=n(50);Object.defineProperty(t,"refresh",{enumerable:!0,get:function(){return o.refresh}}),Object.defineProperty(t,"refreshAll",{enumerable:!0,get:function(){return o.refreshAll}}),n(53);var s=n(41),d=r(s);t.clear=d.default},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function i(e){m=o({},m,e,p,{version:"d916f31",environment:"prod"}),Object.keys(c).forEach(function(e){var t=m[e];t&&c[e].config(t)}),m.useProxy&&u.default.setEndpoint("nine-a.p.adnxs.com")}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.set=i;var s=n(3),d=n(5),u=a(d),l=n(6),c=r(l),f=n(30),g=(0,s.hasKeyValue)("ads_debug","true"),p=g?{verbosity:"info"}:{};g&&(u.default.debug=!0);var v=void 0,h=(0,f.getDomain)(document.location.hostname);"finance.nine.com.au"!==h&&"true"!==(0,s.getValue)("useProxy")||(v=!0),"false"===(0,s.getValue)("useProxy")&&(v=!1);var m={verbosity:"none",version:"d916f31",refreshDelay:2e3,lazyOffset:50,environment:"prod",siteHierarchyDepth:2,useProxy:!1};v&&i({useProxy:!0}),t.default={set:i,get settings(){return o({},m)}}},function(e,t,n){"use strict";function r(e){var t=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),n="[\\?&]"+t.toLowerCase()+"=([^&#]*)",r=new RegExp(n),a=r.exec((0,i.getWindowLocationSearch)().toLowerCase());if(a)return decodeURIComponent(a[1].replace(/\+/g," "))}function a(e,t){return r(e)===t}Object.defineProperty(t,"__esModule",{value:!0}),t.getValue=r,t.hasKeyValue=a;var i=n(4)},function(e,t){"use strict";function n(){return window.innerWidth}function r(e){if(e){var t=e.parentElement;t.removeChild(e)}}function a(e){if(e){var t=void 0;for(t="string"==typeof e?document.getElementById(e):e;t.firstChild;)t.removeChild(t.firstChild)}}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.getBoundingClientRect();return n.top>=0-t&&n.left>=0-t&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)+t&&n.right<=(window.innerWidth||document.documentElement.clientWidth)+t}function o(e){var t=e.getBoundingClientRect(),n=t.top,r=t.bottom;return n>=0&&r<=window.innerHeight}function s(){return!!document.hasFocus()}function d(e,t){var n=t.src,r=t.height,a=t.width,i=t.content,o=t.resizeAfterLoad,s=t.addInChildDiv;return new Promise(function(t){var d=document.createElement("iframe");if(d.frameBorder=0,r&&a&&(d.height=r,d.width=a),s){var u=document.createElement("div");e.appendChild(u),u.appendChild(d)}else e.appendChild(d);if(d.addEventListener("load",function(){if(o){var e=d.contentWindow||d.documentWindow,n=e.document;n.body.style.display="inline-block",setTimeout(function(){d.width=n.body.scrollWidth,d.height=n.body.scrollHeight,n.body.style.display=void 0,t(d)},1)}else t(d)},!1),n)d.src=n;else if(i){var l=d.contentWindow||d.documentWindow,c=l.document;c.open("text/html","replace"),c.write(i),c.close()}})}function u(){return window.location.search}function l(){return(window.pageYOffset||document.scrollTop)-(document.clientTop||0)||0}function c(e,t){for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n])}function f(e){var t=Math.max(e.offsetWidth,e.clientWidth,e.scrollWidth),n=Math.max(e.offsetHeight,e.clientHeight,e.scrollHeight),r=0,a=0;do r+=e.offsetTop||0,a+=e.offsetLeft||0,e=e.offsetParent;while(e);return{top:r,left:a,width:t,height:n}}function g(){return window.navigator.userAgent}function p(){return document.cookie}function v(){return window.parent.window.document.body}Object.defineProperty(t,"__esModule",{value:!0}),t.getWindowWidth=n,t.remove=r,t.clear=a,t.isElementNearViewport=i,t.isElementFullyVisible=o,t.isBrowserTabActive=s,t.injectIframe=d,t.getWindowLocationSearch=u,t.getScrollTopPosition=l,t.setCss=c,t.getRectangle=f,t.getUserAgent=g,t.getDocumentCookie=p,t.getWindowDocumentBody=v},function(e,t){!function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){n(1),n(6),n(14),n(11),n(8),n(5),n(18),n(20),n(13),n(9),n(10),n(23),n(7),n(16),n(17),n(15),n(19),n(12),n(21),n(2),n(3),e.exports=n(24)},function(e,t,n){function r(e){var t=i(e.uuid);if(this.targetId=t.targetId,e.nobid)return this.nobid=!0,this.tagId=e.tag_id,this.auctionId=e.auction_id,this;e.ads&&e.ads.length>1;var n=e.ads[0];this.adType=n.ad_type,this.buyerMemberId=n.buyer_member_id,this.tagId=e.tag_id,this.auctionId=e.auction_id,this.source=n.content_source,this.cpm=n.cpm,this.creativeId=n.creative_id;var r,o,u=a(t);if(s.isArray(u)&&u[0]&&(r=u[0].height,o=u[0].width),n.rtb&&n.rtb.banner)this.banner={width:n.rtb.banner.width,height:n.rtb.banner.height,content:n.rtb.banner.content,trackers:n.rtb.trackers},r=n.rtb.banner.height,o=n.rtb.banner.width;else if(n.rtb&&n.rtb.video){var l=n.rtb.video;this.video={duration:l.duration_ms,playbackMethods:l.playback_methods,frameworks:l.frameworks,content:l.content,trackers:n.rtb.trackers}}else if(n.rtb&&n.rtb[d.MEDIA_TYPE.NATIVE]){var c=n.rtb[d.MEDIA_TYPE.NATIVE];this[d.MEDIA_TYPE.NATIVE]={type:c.type,title:c.title,body:c.desc,fullText:c.full_text,icon:c.icon,image:c.main_img,cta:c.ctatext,sponsoredBy:c.sponsored,impressionTrackers:c.impression_trackers,clickTrackers:c.link.click_trackers,clickUrl:c.link.url,clickFallbackUrl:c.link.fallback_url,javascriptTrackers:c.javascript_trackers}}this.height=r,this.width=o}function a(e){var t=[];return s.isEmpty(e.sizes)||(t=o.getSizes(e.sizes)),t}function i(e){var t={};return s._each(apntag.requests.tags,function(n){e===n.uuid&&(t=n)}),t}var o=n(2),s=n(3),d=n(4),u={},l=function(e){return new r(e)};t.getAdObj=function(e){if(!e||!e.uuid)return{};if(u[e.uuid])return u[e.uuid];try{var t=l(e);return u[e.uuid]=t,t}catch(e){s.logError("adManager.getAdObj: Error trying to instantiate new adObj: "+e.message)}},t.getAdErrorObj=function(e,t,n,r){return{code:r,errMessage:e||n.message,exception:n,targetId:t}}},function(e,t,n){function r(e,t,n){var r={};return apntag.debug&&!i.isEmpty(t)&&(r.enabled=!0,e&&(r.member_id=Number(e)),t&&(r.dongle=String(t)),n&&(r.bidder_id=Number(n)),r.debug_timeout=1e3),apntag.test&&(r.test=apntag.test),r}function a(e){var t=[];return i._each(e,function(e,n){if(i.isArray(e)){var r=[];i._each(e,function(e){e=i.getValueString("keywords."+n,e),e&&r.push(e)}),e=r}else{if(e=i.getValueString("keywords."+n,e),!i.isStr(e))return;e=[e]}var a={key:n,value:e};t.push(a)}),t}var i=n(3),o=n(4),s=n(5),d=o.TYPE.STRING,u=o.TYPE.NUM,l=o.TYPE.BOOL,c=t,f=o.DEBUG.AST_DONGLE,g=o.DEBUG.AST_TOOLKIT,p=o.DEBUG.AST_TEST,v=o.DEBUG.AST_DEBUG_MEMBER,h=o.DEBUG.AST_DEBUG_BIDDER,m=function(e){var t={},n=e.site;return i.isEmpty(n)||i.isEmpty(n.id)||(t.id=n.id),t},y=function(e){var t={},n=e.app;return i.isEmpty(n)||i.isEmpty(n.appid)||(t.appid=n.appid),t},E=function(e){var t={},n=e.device;if(!i.isEmpty(n)){i.isEmpty(n.useragent)||(t.useragent=n.useragent),i.isEmpty(n.geo)||(t.geo=n.geo),i.isEmpty(n.ip)||(t.ip=n.ip),i.isEmpty(n.deviceType)||(t.devicetype=n.deviceType),i.isEmpty(n.make)||(t.make=n.make),i.isEmpty(n.model)||(t.model=n.model),i.isEmpty(n.os)||(t.os=n.os),i.isEmpty(n.osVersion)||(t.os_version=n.osVersion),i.isEmpty(n.carrier)||(t.carrier=n.carrier);var r=i.getValueAsType("device.connectionType",n.connectionType,u);t.connectiontype=r,i.isEmpty(n.mcc)||(t.mcc=n.mcc),i.isEmpty(n.mnc)||(t.mnc=n.mnc),i.isEmpty(n.lmt)||(t.lmt=n.lmt),i.isEmpty(n.deviceId)||(t.device_id=n.deviceId);var a=i.getValueAsType("device.devTime",n.devTime,u);t.devtime=a}return t};c.createPageUser=function(e){var t={};if(!i.isEmpty(e)){e.externalUid&&i.isStr(e.externalUid)&&(t.external_uid=e.externalUid),i.isEmpty(e.segments)||(t.segments=e.segments);var n=i.getValueAsType("user.age",e.age,u);t.age=n;var r=i.getValueAsType("user.gender",e.gender,u);t.gender=r;var a=i.getValueAsType("user.language",e.language,d);t.language=a;var o=i.getValueAsType("user.dnt",e.dnt,l);t.dnt=o}return t},c.createTag=function(e){var t={};if(e.uuid=i.getUUID(),!i.isEmpty(e.sizes)){var n=this.getSizes(e.sizes);i.isEmpty(n)||(t.sizes=n,t.primary_size=n[0])}if(!i.isEmpty(e.privateSizes)){var r=this.getSizes(e.privateSizes);i.isEmpty(r)||(t.private_sizes=r)}if(e.supplyType&&i.isStr(e.supplyType)&&(t.supply_type=e.supplyType),e.pubClick&&i.isStr(e.pubClick)&&(t.pubclick=e.pubClick),e.pubClickEnc&&i.isStr(e.pubClickEnc)&&(t.pubclickenc=e.pubClickEnc),e.reserve&&(i.isNumber(e.reserve)||i.isArray(e.reserve))&&(t.reserve=e.reserve),e.extInvCode&&i.isStr(e.extInvCode)&&(t.ext_inv_code=e.extInvCode),t.uuid=e.uuid,e.tagId&&(t.id=e.tagId),e.formats&&(t.formats=e.formats),e.position&&("above"===e.position?t.position=1:"below"===e.position?t.position=2:t.position=0),e.invCode&&(t.code=e.invCode),e.prebid&&(t.prebid=e.prebid),e.externalImpId&&(t.external_imp_id=e.externalImpId),e.allowSmallerSizes===!0?t.allow_smaller_sizes=!0:t.allow_smaller_sizes=!1,e.disablePsa===!0&&(t.disable_psa=!0),e.allowedFormats&&(t.ad_types=e.allowedFormats),!i.isEmpty(e.video)){var o=e.video,s={};o.id&&(s.id=o.id),i.isEmpty(o.mimes)||(s.mimes=o.mimes),o.maxDuration&&(s.maxduration=o.maxDuration),o.minDuration&&(s.minduration=o.minDuration),o.startDelay&&(s.startdelay=o.startDelay),o.skippable&&(s.skippable=o.skippable),i.isEmpty(o.playbackMethod)||(s.playback_method=o.playbackMethod),i.isEmpty(o.frameworks)||(s.frameworks=o.frameworks),t.video=s}if(!i.isEmpty(e.native)){var d=e.native,u={};d.renderer_id&&(u.renderer_id=d.renderer_id),d.placement_type&&(u.placement_type=d.placement_type);var l={};d.id&&(l.id=d.id),d.title&&(l.title=d.title),d.body&&(l.description=d.body),d.sponsoredBy&&(l.sponsored_by=d.sponsoredBy),d.image&&(l.main_image=d.image,i.isEmpty(l.main_image.sizes)&&(l.main_image.sizes=[{}])),d.icon&&(l.icon=d.icon,i.isEmpty(l.icon.sizes)&&(l.icon.sizes=[{}])),d.cta&&(l.ctatext=d.cta),l&&(u.layouts=[l]),t.ad_types=["native"],t.native=u}if(!i.isEmpty(e.keywords)){var c=a(e.keywords);t.keywords=c}if(e.forceCreativeId){var f=Number(e.forceCreativeId);isNaN(f)?i.logError("Force Creative must be a number"):(t.force_creative_id=f,i.logMessage("Force Creative in use for targetId: "+e.targetId))}return e.nobidIfUnsold&&(t.nobid_if_unsold=!0),e.trafficSourceCode&&(t.traffic_source_code=e.trafficSourceCode.toString()),e.customPubLog&&(i.isStr(e.customPubLog)?t.custom_pub_log=e.customPubLog:i.logError("customPubLog must be a string")),t},c.getSizes=function(e){var t=[],n={};if(i.isArray(e)&&2===e.length&&!i.isArray(e[0]))n.width=parseInt(e[0],10),n.height=parseInt(e[1],10),t.push(n);else if("object"==typeof e)for(var r=0;r<e.length;r++){var a=e[r];n={},n.width=parseInt(a[0],10),n.height=parseInt(a[1],10),t.push(n)}return t},c.buildRequestJsonByMemberId=function(e,t,n){var o={};e.disablePsa&&i._each(e.tags,function(e){e.disablePsa=!0});var d=[],u=0;i._each(e.tags,function(e){if(!e.utCalled&&e.member===t){var n=c.createTag(e);e.utCalled=!0,e.tagNumber=u,u++,d.push(n)}}),s.build(e.tags,d,n),o.tags=d,o.uuid=i.getUUID(),o.member_id=t,o.sdk={source:"ast",version:"0.9.0"};var l=null;i.isEmpty(e.keywords)?i.isEmpty(e.targetingParams)||(l=a(e.targetingParams),o.keywords=l):(l=a(e.keywords),o.keywords=l),i.isEmpty(e.user)||(o.user=this.createPageUser(e.user)),i.isEmpty(e.device)||(o.device=E(e)),i.isEmpty(e.app)||(o.app=y(e)),i.isEmpty(e.site)||(o.site=m(e)),e.publisherId&&(o.publisher_id=e.publisherId),o.tags=d;var b=i.getParameterByName(f);b&&""!==b&&(apntag.dongle=b);var I=i.getParameterByName(g);(I&&""!==I||!i.isEmpty(e.toolkit))&&(o.toolkit={enabled:!0,dongle:b||e.toolkit.dongle});var w=i.getParameterByName(v);w&&""!==w&&(apntag.debug_member=w);var A=i.getParameterByName(h);A&&""!==A&&(apntag.debug_bidder=A);var T="TRUE"===i.getParameterByName(p).toUpperCase();if(T&&""!==T&&(apntag.test=T),apntag.test||apntag.debug&&!i.isEmpty(apntag.dongle)){var _="";apntag.debug_member&&(_=apntag.debug_member);var O=r(_,apntag.dongle,apntag.debug_bidder);o.debug=O}return o}},function(e,t,n){function r(){return!(typeof $sf===g||!$sf.ext||!$sf.ext.debug)}var a=n(4),i=a.TYPE.ARRAY,o=a.TYPE.STRING,s=a.TYPE.FUNC,d=a.TYPE.NUM,u=a.TYPE.OBJ,l=Object.prototype.hasOwnProperty,c=!1,f=a.DEBUG.DEBUG_MODE,g=a.OBJECT_TYPE.UNDEFINED,p=a.CONTENT_SOURCE.RTB,v=a.CONTENT_SOURCE.CSM,h=a.CONTENT_SOURCE.SSM,m=null;try{m="object"==typeof console.info?console.info:console.info.bind(window.console)}catch(e){}t.addEventHandler=function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on"+t,n)},t.removeEventHandler=function(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r):e.detachEvent&&e.detachEvent("on"+t,n)},t.isA=function(e,t){return Object.prototype.toString.call(e)==="[object "+t+"]"},t.isObj=function(e){return this.isA(e,u)},t.isFn=function(e){return this.isA(e,s)},t.isStr=function(e){return this.isA(e,o)},t.isArray=function(e){return this.isA(e,i)},t.isNumber=function(e){return this.isA(e,d)},t.isEmpty=function(e){if(!e)return!0;if(this.isArray(e)||this.isStr(e))return 0==e.length;for(var t in e)if(l.call(e,t))return!1;return!0},t.logMessage=function(e){var t=E();if(this.debugTurnedOn()&&y()){var n=r()?"SAFEFRAME MESSAGE: ":"MESSAGE: ";console.log(t+n+e)}},t.logWarn=function(e){var t=E();if(this.debugTurnedOn()&&y()){var n=r()?"SAFEFRAME WARN: ":"WARN: ";console.warn?console.warn(t+n+e):console.log(t+n+e)}},t.logError=function(e,t){var n=t||"GENERAL_ERROR",a=E();if(this.debugTurnedOn()&&y()){var i=r()?"SAFEFRAME ":"";console.error?console.error(a+i+n+": "+e):console.log(a+i+n+": "+e)}},t.logTimestamp=function(e){this.debugTurnedOn()&&y()&&console.timeStamp&&console.timeStamp(e)},t.logInfo=function(e,t){if(this.debugTurnedOn()&&y()){var n=E();if(m){t&&0!==t.length||(t="");var a=r()?"SAFEFRAME INFO: ":"INFO: ";m(n+a+e+(""===t?"":" : params : "),t)}}},t.loadScript=function(e,t,n){var r=e.document,a=r.createElement("script");a.type="text/javascript",a.async=!0,n&&"function"==typeof n&&(a.readyState?a.onreadystatechange=function(){("loaded"===a.readyState||"complete"===a.readyState)&&(a.onreadystatechange=null,n())}:a.onload=function(){n()}),a.src=t;var i=r.getElementsByTagName("head");return i=i.length?i:r.getElementsByTagName("body"),i.length&&(i=i[0],i.insertBefore(a,i.firstChild)),a},t.getUUID=function(){var e=(new Date).getTime(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)});return t},t.loadPixelUrl=function(e,t,n){var r,a=e.document.getElementsByTagName("head");if(e&&a&&t){r=new Image,r.id=n,r.src=t,r.height=0,r.width=0,r.style.display="none",r.onload=function(){try{this.parentNode.removeChild(this)}catch(e){}};try{a=a.length?a:e.document.getElementsByTagName("body"),a.length&&(a=a[0],a.insertBefore(r,a.firstChild))}catch(e){this.logError("Error logging impression for tag: "+n+" :"+e.message)}}},t._each=function(e,t){if(!this.isEmpty(e)){if(this.isFn(e.forEach))return e.forEach(t);var n=0,r=e.length;if(r>0)for(;r>n;n++)t(e[n],n,e);else for(n in e)l.call(e,n)&&t(e[n],n,e)}},t.contains=function(e,t){if(this.isEmpty(e))return!1;for(var n=e.length;n--;)if(e[n]===t)return!0;return!1};var y=function(){return window.console&&window.console.log};t.debugTurnedOn=function(){return!!r()||(this.getWindow().apntag=this.getWindow().apntag||{},apntag&&apntag.debug===!1&&c===!1&&(apntag.debug="TRUE"===this.getParameterByName(f).toUpperCase(),c=!0),!(!apntag||!apntag.debug))},t.stringContains=function(e,t){return!!e&&-1!==e.indexOf(t)},t.getSearchQuery=function(){try{return window.top.location.search}catch(e){try{return window.location.search}catch(e){return""}}},t.getParameterByName=function(e,t){var n="[\\?&]"+e+"=([^&#]*)",r=new RegExp(n),a=r.exec(t||this.getSearchQuery());return null===a?"":decodeURIComponent(a[1].replace(/\+/g," "))},t.hasOwn=function(e,t){return e.hasOwnProperty?e.hasOwnProperty(t):typeof e[t]!==g&&e.constructor.prototype[t]!==e[t]};var E=function(){var e=new Date,t="["+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()+":"+e.getMilliseconds()+"] ";return t};t.getTargetArrayforRefresh=function(e){var t=[];return this.isArray(e)?t=e:this.isStr(e)&&t.push(e),t},t._map=function(e,t){if(this.isEmpty(e))return[];if(this.isFn(e.map))return e.map(t);var n=[];return this._each(e,function(r,a){n.push(t(r,a,e))}),n},t.getValueString=function(e,t,n){return void 0===t||null===t?n:this.isStr(t)?t:this.isNumber(t)?t.toString():void this.logWarn("Unsuported type for param: "+e+" required type: String")},t.getValueAsType=function(e,t,n,r){return void 0===t||null===t?r:this.isA(t,n)?t:(this.logWarn("Unsuported type for param: "+e+" required type: "+n),n===d&&(t=Number(t)),isNaN(t)?r:t)},t.getWindow=function(){return window},t.getAdObjFromAdsArray=function(e){if(e&&e.length>0){if(e[0][p])return e[0][p];if(e[0][v])return e[0][v];if(e[0][h])return e[0][h]}},t.cloneAsObject=function(e){if(null===e||!(e instanceof Object))return e;var t=e instanceof Array?[]:{};for(var n in e)t[n]=this.cloneAsObject(e[n]);return t},t.getCdnOrigin=function(){return this.getWindow().document.location.protocol+"//"+a.EXTERNAL_LIB.CDN_ORIGIN}},function(e,t){e.exports={PREFIX:{UT_IFRAME:"utif_",UT_DIV:"div_utif_"},LOG:{WARN:"WARN"},DEBUG:{DEBUG_MODE:"ast_debug",AST_DONGLE:"ast_dongle",AST_DEBUG_MEMBER:"ast_debug_member",AST_DEBUG_BIDDER:"ast_debug_bidder",AST_TEST:"ast_test",AST_TOOLKIT:"ast_toolkit",AST_OVERRIDE:{BASE:"ast_override_",DIV:"div",INDEX:"index",TAG_ID:"tag_id",INV_CODE:"inv_code",PUBLISHER_ID:"publisher_id"}},OBJECT_TYPE:{UNDEFINED:"undefined",OBJECT:"object",STRING:"string",NUMBER:"number"},BROWSER_TYPE:{IE:"msie",OPERA:"opera"},RENDERER_EVENTS:{LOADED:"loaded",IMPRESSION:"impression"},ENDPOINT:{UT_BASE:"/ut/v3",IMPBUS:"ib.adnxs.com",UT_PREBID:"/ut/v3/prebid"},UT_RESPONSE_PROP:{MEDIA_TYPE:"media_type",CREATIVE_ID:"creative_id",AD_TYPE:"ad_type",BANNER:"banner",VIDEO:"video",CONTENT:"content",UUID:"uuid"},MEDIA_TYPE:{BANNER:"banner",NATIVE:"native",VIDEO:"video"},AD:{CREATIVE_ID:"creative_id",NOTIFY:"notify_url",NOAD:"no_ad_url",IMP_URLS:"impression_urls",TRACKERS:"trackers"},CONTENT_SOURCE:{RTB:"rtb",CSM:"csm",SSM:"ssm"},AD_TYPE:{BANNER:"banner",NATIVE:"native",VIDEO:"video"},EXTERNAL_LIB:{VIDEO_MEDIATION_JS:"https://acdn.adnxs.com/video/astMediation/AstMediationManager.js",BANNER_MEDIATION_JS:"//acdn.adnxs.com/mediation/v2/mediation.js",SAFE_FRAME_URL:"//acdn.adnxs.com/ast/safeframe/1-0-0/html/safeframe-v2.html",CDN_ORIGIN:"acdn.adnxs.com"},EVENTS:{REQUEST:"adRequested",AVAILABLE:"adAvailable",LOADED:"adLoaded",REQUEST_FAIL:"adRequestFailure",NO_BID:"adNoBid",DEFAULT:"adDefault",ERROR:"adError",COLLAPSE:"adCollapse",BAD_REQUEST:"adBadRequest"},TYPE:{ARRAY:"Array",STRING:"String",FUNC:"Function",NUM:"Number",OBJ:"Object",BOOL:"Boolean"},SAFEFRAME:{DEFAULT_ZINDEX:3e3,STATUS:{READY:"ready",NOTIFY_EXPANDED:"expanded",NOTIFY_COLLAPSED:"collapsed",NOTIFY_ERROR:"error",FOCUS_CHANGE:"focus-change",GEOM_UPDATE:"geom-update"}}}},function(e,t,n){function r(e){return o.getParameterByName(e,d.queryString)}function a(e,t){var n=null;return o._each(t,function(t){t.uuid===e.uuid&&(n=t.targetId)}),n}function i(e,t,n){var r=Number(t);if(isNaN(r))o.logError("Force Creative must be a number");else{e[y]=r,apntag.test=!0;var i=a(e,n);o.logMessage("Force Creative in use for targetId: "+i)}}var o=n(3),s=n(4),d=t,u=[],l=s.DEBUG.AST_OVERRIDE,c=l.BASE,f=c+l.DIV,g=c+l.INDEX,p=c+l.TAG_ID,v=c+l.INV_CODE,h=",",m=":",y="force_creative_id";d.queryString=void 0,d.build=function(e,t,n){if(o.stringContains(d.queryString||o.getSearchQuery(),c)){if(!o.isEmpty(r(g))){u=r(g).split(h);for(var a=0;a<u.length;a++){var s=u[a].split(m),l=Number(s[0]);if(isNaN(l)||void 0===t[l])o.logError("Invalid ast_override value for index : "+l);else{for(var y=null,E=null,b=0;b<n.length;b++)b===l&&(E=n[b].uuid);for(var I=0;I<t.length;I++)t[I].uuid===E&&i(t[I],s[1],e)}}}if(!o.isEmpty(r(f))){u=r(f).split(h);for(var a=0;a<u.length;a++){var s=u[a].split(m),w=null;if(o._each(e,function(e,t){t===s[0]&&(w=e.uuid)}),w)for(var A=0;A<t.length;A++)t[A].uuid===w&&i(t[A],s[1],e);else o.logError("Invalid ast_override value for target div id : "+s[0])}}if(!o.isEmpty(r(p))){u=r(p).split(h);for(var a=0;a<u.length;a++){for(var s=u[a].split(m),T=!1,A=0;A<t.length;A++){var y=t[A];y.id===Number(s[0])&&(i(y,s[1],e),T=!0)}T||o.logError("Invalid ast_override value for tag id : "+s[0])}}if(!o.isEmpty(r(v))){u=r(v).split(h);for(var a=0;a<u.length;a++){for(var s=u[a].split(m),_=!1,A=0;A<t.length;A++){var y=t[A];y.code===s[0]&&(i(y,s[1],e),_=!0)}_||o.logError("Invalid ast_override value for invCode : "+s[0])}}return t}}},function(e,t,n){function r(e){e?(O=R.stringContains(e,"http")?e:("https:"===me.document.location.protocol?"https:":"http:")+"//"+e,R.logMessage("Setting endpoint to: "+O)):R.logError("Cannot set an empty endpoint")}function a(e){Q[e.targetId]=we(e)}function i(e){var t=Ne(e);return t}function o(e){return R.logMessage("getTag called for tag "+e),Ue(e)?e&&Z[e]?Z[e]:void 0:void R.logError("the "+e+" tag is not defined.",N.LOG.WARN)}function s(e){var t="defaultKey";return e.targetId&&(t=e.targetId),t}function d(e,t){R.logMessage("showTag called for "+e),K[e]=!0;var n=Ue(e);if(n){var r=ye.requests.tags[e];if(r.showTagCalled=!0,r.curWindow=t,r.displayed)return void R.logWarn("Attempting to display ad that is already displayed, will not render this ad again: "+e);ye.requests.utCalled?r.adResponse?(m(r),ye.requests.hasLeft&&je()):ye.requests.checkDisplay=!0:R.logWarn(e+" : showTag() called before ad request was made. This placement might not display if a subsequent loadTags() call is not made")}else R.logMessage("the "+e+" tag was loaded before the ad placement was available.",N.LOG.WARN)}function u(e,t){var n=t,r=s(e);n||(n=Q[r]);var a=null;if(!n)return void R.logError("Issue writing iframe into document. No ad available to render");try{a=JSON.parse(n)}catch(e){return void R.logError("Issue writing iframe into document :"+e.message)}if(a&&a.tags){var i=a.tags[0];if(!i)return void R.logError("Issue writing iframe into document. No ad available to render");var o=i.ad;if(o&&o.banner&&o.banner.content)try{var d='<div style="border-style: none; position: absolute; max-width: 100%; max-height: 100%; top: 50%; left: 50%; -webkit-transform: translate(-50%, -50%); -ms-transform: translate(-50%, -50%); transform: translate(-50%, -50%);">'+o.banner.content+"</div>";window.document.write(d),R.loadPixelUrl(me,o[de],R.getUUID()),R.logTimestamp("Ad is loaded")}catch(e){R.logError("Issue writing iframe into document :"+e.message)}o&&o.video&&o.video.content&&(R.loadPixelUrl(me,o[de],R.getUUID()),L.pcLoadVideo(o.video.content)),R.loadPixelUrl(me,"https://secure.adnxs.com/imptr?id=34758&t=2",R.getUUID())}}function l(e,t,n,r,a){R._each(Y[t],function(t){c(e,t,n,r,a)})}function c(e,t,n,r,a){0===n&&(e="Failure to contact endpoint. This can be caused by invalid CORS headers or failure of server to respond.");var i=ye.requests.tags[t];if(i)var o=C.getAdObj(i.adResponse);var s=C.getAdErrorObj(e,t,a,n);S.emit(r,t,s,o)}function f(e,t,n){R.logMessage("renderAd is called"),R._each(ye.requests.tags,function(e){e.uuid===t&&(e.adResponse=n,n.ad&&n.ad.ad_type===ae&&(e.ad={mediatedContent:n.ad.rtb.banner.content},e.initialHeight=n.ad.rtb.banner.height,e.initialWidth=n.ad.rtb.banner.width),m(e))})}function g(e){}function p(e,t){var n=null;if(ye.requests.cbCalled=!0,typeof e===ge||null===e||e.error){var r="malformed response from ad server";e&&e.error&&(r=e.error),R.logError("Error response from impbus: "+r);var a={};try{a=JSON.parse(t)}catch(e){}return void R._each(ye.requests.tags,function(e,t){var n=C.getAdErrorObj(r,t,void 0,200);if(e)var i=C.getAdObj(e.adResponse);R._each(a.tags,function(r){r.uuid===e.uuid&&S.emit(N.EVENTS.BAD_REQUEST,t,n,i)})})}e.debug&&e.debug.debug_info&&M.load(e.debug.debug_info),e.toolkit&&e.toolkit.enabled&&M.loadToolkit(e.tags),R._each(e.tags,function(e){if(e.error)return void R._each(ye.requests.tags,function(t){if(t.uuid===e.uuid){var n="There was an exception from targetId:"+t.targetId+" this usually means there is a setup error on the tag (invalid ID etc)";R.logError(n,e.error);var r=C.getAdErrorObj(n,t.targetId,void 0,200);S.emit(N.EVENTS.BAD_REQUEST,t.targetId,r)}});if(e.ads&&e.ads.length&&e.ads[0].ad_type===re){var t=v(e);if(!t)return void R.logError("required native assets missing from response")}var r=e.ads,a=P.checkIfMediatedResponse(r);a?R._each(ye.requests.tags,function(t,a){if(t.uuid===e.uuid){t.utCalled=!0,t.isMediated=!0;var i=P.getMediationType(r),o=P.getMediationOptions(ye.requests.tags,e);if(i===ie)n=C.getAdObj(e),S.emit(N.EVENTS.AVAILABLE,a,n),P.callMediationFramework(i,e,o,f);else{var s=P.getContentForBannerMediation(t.targetId,e);e.ad={ad_type:ae},t.ad={mediatedContent:s},h(t,e,a)}}}):R._each(ye.requests.tags,function(t,n){h(t,e,n)})}),ye.requests.checkDisplay&&je()}function v(e){var t,n={};R._each(ee,function(n){n.uuid===e.uuid&&(t=n)}),t&&(n=t.native);var r=[];R._each(n,function(e,t){e.required===!0&&r.push(t)});var a=C.getAdObj(e),i=[];R._each(a.native,function(e,t){R.isEmpty(e)||i.push(t)});var o=i.length>0;return R._each(r,function(e){o=o&&i.indexOf(e)>-1}),o}function h(e,t,n){var r;e.uuid===t.uuid&&(t.nobid===!0?(R.logMessage("No bid for targetId:"+e.targetId),r=C.getAdObj(t),S.emit(N.EVENTS.NO_BID,n,r)):(e.adResponse=t,e.utCalled=!0,r=C.getAdObj(t),S.emit(N.EVENTS.AVAILABLE,n,r),e.prebid||e.displayed||m(e)))}function m(e){var t,n,r,a,i=me,o=e.adResponse;if(e.adResponse&&e.adResponse.ads){var s=R.getAdObjFromAdsArray(e.adResponse.ads);s.banner&&(e.initialHeight=s.banner.height,e.initialWidth=s.banner.width)}if(r=P.getAdObjByMediation(e),null===r||typeof r.error!==ge)return void w(o);if(typeof o!==ge&&e.showTagCalled){if(o&&r.renderer_url&&r.renderer_id){var d=r.renderer_id,u=P.getContentSourceForMediation(r);if(typeof u===ge)return void R.logError("No Content Source Found");if(r[r.ad_type]=u,V[d]){var l=V[d];R.isFn(l)||R.isObj(l)?(I(e),P.copyAdObjforMediation(e),D.invokeRendererRenderAd(l,e,y),e.displayed=!0,a=C.getAdObj(e.adResponse),S.emit(N.EVENTS.LOADED,e.targetId,a),R.logTimestamp("The "+e.targetId+" ad is loaded.")):(H[d]=typeof H[d]===ge?[]:H[d],H[d].push(e))}else R.loadScript(me,r.renderer_url),H[d]=typeof H[d]===ge?[]:H[d],H[d].push(e),V[d]=!0}else if(r[ne]===re)R.logMessage("Render for the following ad should be handled outside of ast.js :"+e.tagId),e.displayed=!0,a=C.getAdObj(e.adResponse),S.emit(N.EVENTS.LOADED,e.targetId,a),R.logTimestamp("The "+e.targetId+" ad is loaded.");else{if(r[ne]===ie)return void R.logWarn("Response has no renderer for video");if(r[ne]===ae){if(!e.isMediated){var c=r[ue][oe];if(R.isEmpty(c)||typeof c!==pe)return void R.logError("Response has no banner object");if(!R.hasOwn(c,se))return void R.logError("Response has no banner content");if(!R.hasOwn(c,"width"))return void R.logError("Response has no banner width");if(!R.hasOwn(c,"height"))return void R.logError("Response has no banner height")}if(R.hasOwn($,e.targetId))var f=$[e.targetId];if(e.alwaysUseXDomainIframe||e.enableSafeFrame){var g=i.document.getElementById(e.targetId),p=g.style.height,v=g.style.width;g.style.height=e.initialHeight,g.style.width=e.initialWidth,g.style.height=p,g.style.width=v}var h=R.cloneAsObject(te);R.hasOwn(e.safeframe,"expansionByPush")&&(h.expansionByPush=e.safeframe.expansionByPush),R.hasOwn(e.safeframe,"expansionByOverlay")&&(h.expansionByOverlay=e.safeframe.expansionByOverlay),e.safeframe=h,n=Re(e),(e.alwaysUseXDomainIframe||e.enableSafeFrame)&&(n.style.height=e.initialHeight+"px",n.style.width=e.initialWidth+"px",n.style.display="block",g.appendChild(n),e.geom=j.geom(e.targetId,n)),t=x.getIframe(e);var m=F.getInstance(),E={};if(E.iframe=t,E.originalWidth=e.initialWidth,E.originalHeight=e.initialHeight,m.add(e.targetId,E),$[e.targetId]=t,typeof f!==ge&&i.document.getElementById(f.id)?n.replaceChild(t,f):n.appendChild(t),e.displayed=!0,i.document.body)try{Se(e,n,t)}catch(e){R.logError("Error rendering ad: "+e.message)}else R.logError("Error rendering ad: window.document.body is undefined")}else R.logError("Error rendering ad: unknown type")}z.push(e.targetId)}}function y(e,t,n){if(R.logMessage("handling event for:  "+e+" eventType : "+t),t=t===N.RENDERER_EVENTS.LOADED?"adLoaded":t,t===N.EVENTS.LOADED){var r=E(e),a=C.getAdObj(r.adResponse);S.emit(N.EVENTS.LOADED,e,a)}else S.emit(t,e)}function E(e){var t={};return R._each(ye.requests.tags,function(n){e===n.targetId&&(t=n)}),t}function b(){R.addEventHandler(me,"focus",j.handleWindowFocus),R.addEventHandler(me,"blur",j.handleWindowBlur),R.addEventHandler(me,"resize",j.handleGeomUpdate),R.addEventHandler(me,"scroll",j.handleGeomUpdate),R.addEventHandler(me,"unload",function(){try{R.removeEventHandler(me,"focus",j.handleWindowFocus),R.removeEventHandler(me,"blur",j.handleWindowBlur),R.removeEventHandler(me,"resize",j.handleGeomUpdate),R.removeEventHandler(me,"scroll",j.handleGeomUpdate),j.removeHandlers()}catch(e){}})}function I(e){if(!e||!e.isMediated){var t=P.getAdObjByMediation(e);R.loadPixelUrl(me,t[de],t[ve])}}function w(e){R.loadPixelUrl(me,e[le],e.uuid)}function A(e){for(var t=e[ue][fe][0][ce],n=0;n<t.length;n++)R.loadPixelUrl(me,t[n],e[ve])}function T(){te.expansionByPush=!1,te.expansionByOverlay=!0,te.readCookie=!1,te.writeCookie=!1}function _(e,t){var n=!1,r=e;if(2===arguments.length?(r=me.apntag.requests.tags[t],e.sizes&&r.sizeMapping?n=!0:e.sizeMapping&&!r.sizeMapping&&(n=!0)):(t=e.targetId,e.sizes&&e.sizeMapping&&(n=!0)),n)return R.logError("sizes and sizeMapping both cannot be defined for targetId: "+t),!1;if(e.sizeMapping){var a=q.mapSizes(e);if(""===a)return"";e.sizes=a}return!0}n(7);var O,R=n(3),S=n(8),N=n(4),P=(n(9),n(10)),M=n(11),k=n(2),C=n(1),D=n(12),x=n(13),B=n(14),L=n(15),U=(n(16),n(17)),j=n(18),F=n(19),q=n(21),W=n(22),V={},H={},z=[],G=[],Y={},J=0,X=0,K={},Q={},$={},Z={},ee=[],te={},ne=N.UT_RESPONSE_PROP.AD_TYPE,re=N.AD_TYPE.NATIVE,ae=N.AD_TYPE.BANNER,ie=N.AD_TYPE.VIDEO,oe=N.UT_RESPONSE_PROP.BANNER,se=N.UT_RESPONSE_PROP.CONTENT,de=N.AD.NOTIFY,ue=N.CONTENT_SOURCE.RTB,le=N.AD.NOAD,ce=N.AD.IMP_URLS,fe=N.AD.TRACKERS,ge=N.OBJECT_TYPE.UNDEFINED,pe=N.OBJECT_TYPE.OBJECT,ve=N.AD.CREATIVE_ID,he=N.OBJECT_TYPE.NUMBER,me=R.getWindow();U.attach(me,"message",U.handleMessage),T(),b();try{console.info?console.info("AST library loaded: 0.9.0"):console.log("AST library loaded: 0.9.0")}catch(e){}me.apntag=typeof me.apntag!==ge?me.apntag:{};var ye=me.apntag;ye.anq=ye.anq||[],ye.debug=ye.debug||!1,ye.dongle=ye.dongle||void 0,ye.test=ye.test||!1,ye.loaded=!0,ye.requests=ye.requests||{},ye.requests.keywords=ye.requests.keywords||{},r(N.ENDPOINT.IMPBUS),ye.requests.tagsOnPageCount=ye.requests.tagsOnPageCount||J,ye.requests.waitOnTagsCount=ye.requests.waitOnTagsCount||X,ye.requests.showTagDefinedMap=ye.requests.showTagDefinedMap||K,ye.highlightAd=function(e){if(R.logInfo("Invoking apntag.highlightAd",arguments),e){var t=$[e];t&&(t.style.border="3px solid #e67300")}},ye.anq.push=function(e){e.call()},ye.setEndpoint=function(e){R.logInfo("Invoking apntag.setEndpoint",arguments),r(e)},ye.setPageOpts=function(e){R.logInfo("Invoking apntag.setPageOpts",arguments),e&&(e.member&&(ye.requests.member=e.member),e.targetingParams&&(ye.requests.targetingParams=e.targetingParams,
R.logWarn("targetingParams will be deprecated soon. Please use keywords instead")),e.keywords&&(ye.requests.keywords=e.keywords),e.user&&(ye.requests.user=e.user),e.app&&(ye.requests.app=e.app),e.device&&(ye.requests.device=e.device),e.site&&(ye.requests.site=e.site),e.disablePsa&&(ye.requests.disablePsa=!0),ye.requests.enableSafeFrame=!1,e.enableSafeFrame&&(ye.requests.enableSafeFrame=!0),e.publisherId&&(ye.requests.publisherId=e.publisherId))},ye.defineTag=function(e){R.logInfo("Invoking apntag.defineTag",arguments);var t=null;if(ye.syncLoad?a(e):(t=i(e),ee.push(t)),Z[t.targetId])return Z[t.targetId];var n={targetId:t.targetId,on:t.on,off:t.off,modifyTag:t.modifyTag,setKeywords:t.setKeywords};return Z[t.targetId]=n,n},ye.getAdWrap=function(e){return R.logInfo("Invoking apntag.getAdWrap",arguments),Ue(e)?e&&ye.requests.tags&&ye.requests.tags[e]&&ye.requests.tags[e].adWrap?ye.requests.tags[e].adWrap:void 0:void R.logError("the "+e+" tag is not defined.",N.LOG.WARN)},ye.setSizes=function(e,t){return R.logInfo("Invoking apntag.setSizes",arguments),arguments.length<2&&(t=e,e=this.targetId),Ue(e)?void(ye.requests.tags[e].sizes=t):void R.logError("the "+e+" tag is not defined.",N.LOG.WARN)},ye.modifyTag=function(e,t){R.logInfo("Invoking apntag.modifyTag",arguments);var n={};return arguments.length<2&&(t=e,e=this.targetId),Ue(e)?((t.sizes||t.sizeMapping)&&_(t,e),R._each(ye.requests.tags[e],function(e,t){n[t]=e}),R._each(t,function(e,t){n[t]=e}),void(ye.requests.tags[e]=n)):void R.logError("the "+e+" tag is not defined.",N.LOG.WARN)},ye.setKeywords=function(e,t){R.logInfo("Invoking apntag.setKeywords",arguments);var n={};return arguments.length<2&&(t=e,e=this.targetId),Ue(e)?(R._each(ye.requests.tags[e],function(e,t){n[t]=e}),n.keywords=n.keywords||{},R._each(t,function(e,t){R.hasOwn(n.keywords,t)?R.isArray(n.keywords[t])?n.keywords[t]=n.keywords[t].concat(e):n.keywords[t]=[n.keywords[t]].concat(e):n.keywords[t]=e}),void(ye.requests.tags[e]=n)):void R.logError("the "+e+" tag is not defined.",N.LOG.WARN)},ye.onEvent=function(e,t,n){if(R.logInfo("Invoking apntag.onEvent",arguments),2===arguments.length&&"function"==typeof t&&typeof this.targetId===ge)n=t,t="*";else if(arguments.length<3&&(n=t,t=this.targetId,!Ue(t)))return void R.logError("the "+t+" tag is not defined.",N.LOG.WARN);S.on(e,t,n)},ye.offEvent=function(e,t,n){if(R.logInfo("Invoking apntag.offEvent",arguments),1===arguments.length&&typeof this.targetId===ge)t="*";else if(arguments.length<2&&(t=this.targetId,!Ue(t)))return void R.logError("the "+t+" tag is not defined.",N.LOG.WARN);if(R.isArray(e))for(var r=0;r<e.length;r++)S.off(e[r],t,n);else S.off(e,t,n)},ye.loadTags=function(){R.logInfo("Invoking apntag.loadTags",arguments),Ce()},ye.refresh=function(e){R.logInfo("Invoking apntag.refresh",arguments),Pe(e)},ye.showAdFromURL=function(e){R.logInfo("Invoking apntag.showAdFromURL",arguments);var t=we(e);u(e,t)},ye.resizeAd=function(e,t){R.logInfo("Invoking apntag.resizeAd",arguments);var n=0,r=0;R.isArray(t)&&2===t.length?(r=t[0],n=t[1]):R.logError("resizeAd must be invoked with a (targetId,[width, height])");var a=$[e];if(!a)return void R.logError("Failed to find target for resizeAd : "+e);var i=o(e),s=Oe(i),d=me.document.getElementById(s);return d?(d.style.height=n,d.style.width=r,a.height=n+"px",a.width=r+"px",a.height=n,a.width=r,void R.logMessage("ResizeAd successful for targetId: "+e)):void R.logError("Failed to find target for resizeAd: "+e)},ye.enableCookieSet=function(){W.enable()},ye.collapseAd=function(e,t,n){R.logInfo("Invoking apntag.collapseAd",arguments);var r,a=0,i=0,s=o(e);if(!s)return void R.logError("CollapseAd failed to find targetId : "+e);r=Oe(s),typeof t===he&&(a=t),typeof n===he&&(i=n);var d=me.document.getElementById(r);if(null===d)return void R.logError("CollapseAd failed to find ad div : "+e);ye.resizeAd(e,[i,a]),d.style.height=a,d.style.width=i,d.style.display="none";var u=ye.requests.tags[e],l=C.getAdObj(u.adResponse);S.emit(N.EVENTS.COLLAPSE,e,l)},ye.showTag=function(e,t){R.logInfo("Invoking apntag.showTag",arguments),t=t||me,ye.syncLoad?u(e):d(e,t)},ye.setPageTargeting=function(e,t){R.logInfo("Invoking apntag.setPageTargeting",arguments),ye.requests.targetingParams&&e&&t&&(ye.requests.targetingParams[e]=t)},ye.getPageTargeting=function(e){return R.logInfo("Invoking apntag.getPageTargeting",arguments),ye.requests.targetingParams&&e?ye.requests.targetingParams[e]:void 0},ye.clearPageTargeting=function(e){R.logInfo("Invoking apntag.clearPageTargeting",arguments),ye.requests.targetingParams&&e&&delete ye.requests.targetingParams[e]},ye.enableDebug=function(){ye.debug=!0,R.logInfo("Invoking apntag.enableDebug",arguments)},ye.disableDebug=function(){R.logInfo("Invoking apntag.disableDebug",arguments),ye.debug=!1},ye.notify=function(e,t,n){if(!e)return void R.logError("apntag.notify must be called with `messageType`");var r=D.createNotifyObj(e,t,n);G.push(r),R._each(V,function(e){D.invokeNotify(G,e)})},ye.registerRenderer=function(e,t){R.logInfo("Invoking apntag.registerRenderer",arguments),e&&(R.isFn(t)||R.isObj(t))?(V[e]=t,D.invokeNotify(G,t),H[e]&&R._each(H[e],function(t){t.displayed||(I(t),P.copyAdObjforMediation(t),D.invokeRendererRenderAd(V[e],t,y),t.displayed=!0)})):R.logError("ast.js","registerRenderer must be called with (id, cbFn)")},ye.recordErrorEvent=function(e,t){R.logInfo("Invoking apntag.recordErrorEvent",arguments);var n=ye.requests.tags[t],r=C.getAdObj(n.adResponse),a=C.getAdErrorObj(e.message,t,e,200);S.emit(N.EVENTS.ERROR,t,a,r)};var Ee=function(e){R._each(ye.requests.tags,function(e){e.utCalled||S.emit(N.EVENTS.REQUEST,e.targetId)}),R.logTimestamp("Ad is requested for member "+e)};ye.clearRequest=function(){R.logInfo("Invoking apntag.clearRequest",arguments),ye.requests={},ye.requests.tags={},K={},F.getInstance().resetInstance(),$={}},ye.handleCb=function(e,t){R.logInfo("Invoking apntag.handleCb",arguments);try{p(e,t)}catch(t){var n=t.message?t.message:t;R.logError("Internal AST error : "+n);var r=g(e);l(n,r,200,N.EVENTS.BAD_REQUEST,t)}},ye.emitEvent=function(e,t,n){R.logInfo("Invoking apntag.emitEvent",arguments),y(e,t,n)},ye.getAdMarkup=function(e,t){if(ye.requests.tags&&ye.requests.tags[e]){var n=ye.requests.tags[e];if(n.uuid===t)return n.adResponse.ads}},ye.setSafeFrameConfig=function(e){R.hasOwn(e,"allowExpansionByPush")&&(te.expansionByPush=e.allowExpansionByPush),R.hasOwn(e,"allowExpansionByOverlay")&&(te.expansionByOverlay=e.allowExpansionByOverlay)},ye.fireImpressionTrackers=function(e){if(!e.impressionTrackersFired){e.impressionTrackersFired=!0,R.logInfo("Firing impression trackers for",e.tagId);var t=e.native&&e.native.impressionTrackers;t&&t.length&&t.forEach(function(e){R.loadPixelUrl(me,e)});var n=e.native&&e.native.javaScriptTrackers;n&&x.createIframeWithContent(n)}};var be=function(){for(var e=0;e<ye.anq.length;e++)typeof ye.anq[e].called===ge&&(ye.anq[e].call(),ye.anq[e].called=!0)},Ie=function(e,t){var n=!0;return R._each(t,function(t){R.isEmpty(e[t])&&(R.logError("Tag has missing paramater: "+t),n=!1)}),n},we=function(e){var t=["utUrlEncoded"];if(Ie(e,t)){var n=decodeURIComponent(e.utUrlEncoded),r=null,a=new XMLHttpRequest;return a.open("GET",n,!1),a.withCredentials="true",a.send(null),R.logTimestamp("Ad is requested"),200===a.status?r=a.responseText:R.logError("Error request ut URL"),r}},Ae=function(e,t){var n=e.data,r=!0,a=new XMLHttpRequest;a.onload=function(){var e=null;if(200===a.status)try{e=JSON.parse(a.responseText),ye.handleCb(e,n)}catch(e){R.logError("failed to parse ad response from impbus: "+e.message),l(e.message,t,a.status,N.EVENTS.REQUEST_FAIL,e)}else R.logError(a.status+" : "+a.statusText),l(a.statusText,t,a.status,N.EVENTS.REQUEST_FAIL)},a.onerror=function(n){var r=n.target.status,a="Error contacting impbus endpoint: "+e.url+" http response code:"+r;l(a,t,r,N.EVENTS.REQUEST_FAIL)},a.open("POST",e.url,r),a.setRequestHeader("Content-Type","text/plain"),a.withCredentials=!0;try{a.send(n),ye.requests.utCalled=!0}catch(n){R.logError("Error making POST request: "+n),Be(e,t)}},Te=function(e){var t={},n=_e();return t.url=n,t.data=JSON.stringify(e),t},_e=function(){var e=!1;return R._each(ye.requests.tags,function(t){t.prebid&&(e=!0)}),e?O+N.ENDPOINT.UT_PREBID:O+N.ENDPOINT.UT_BASE},Oe=function(e){return N.PREFIX.UT_DIV+e.targetId},Re=function(e){var t,n=Oe(e),r=e.curWindow||me;return t=r.document.getElementById(n)?r.document.getElementById(n):r.document.createElement("div"),t.style.display="none",t.id=n,t},Se=function(e,t,n){var r=B.getBrowserType(),a=e.curWindow||me,i=a.document.getElementById(e.targetId);if(i){e.alwaysUseXDomainIframe||e.enableSafeFrame||(i.appendChild(t),t.style.display="inline"),e.utDivId=t.id,e.utiframeId=n.id,r===N.BROWSER_TYPE.IE||r===N.BROWSER_TYPE.OPERA?x.loadIeIframe(n,e):x.loadIframe(n,e),e.isMediated||(A(e.adResponse.ads[0]),R.logMessage("Win notification sent for ad tag: "+e.targetId));var o=P.getContentSourceForMediation(e.adResponse.ads[0]),s=Number(i.style.width.replace(/[^\d\.\-]/g,""));!isNaN(s)&&s>o.width&&("center"===e.promoAlignment?i.setAttribute("align","center"):i.setAttribute("align","left")),R.logMessage("The "+e.targetId+" ad is loaded."),R.logTimestamp("The "+e.targetId+" ad is loaded.");var d=C.getAdObj(e.adResponse);S.emit(N.EVENTS.LOADED,e.targetId,d)}else R.logWarn("No div element found for display ad. This ad will not show. Div id: "+e.targetId)},Ne=function(e){if(e.rid&&(ye.requests.keywords.rid=e.rid),e.provider_id&&(ye.requests.keywords.provider_id=e.provider_id),e.debug&&(ye.debug=e.debug),e.astToolkit&&e.astDongle&&(ye.requests.toolkit={enabled:!0,dongle:e.astDongle}),e.size)return void R.logError("Size is deprecated, please use sizes instead.");if(e.member||(e.member=ye.requests.member),e.member||(e.member="none"),!(e.tagId||e.invCode&&e.member))return void R.logError("tagId or (invCode & memberId) should be defined for targetId: "+e.targetId);if(!e.sizeMapping||_(e))try{var t=e.targetId,n=xe(e,t);return R.logMessage("defineTag called for: "+t),ye.requests&&ye.requests.utCalled===!0&&!ye.requests.tags[t].utCalled&&R.logMessage("A placement was loaded after ut call was started. These ad calls will not be coordinated"),n}catch(e){R.logError("buildAdTagContainer: "+e.message)}},Pe=function(e){ye.requests.utCalled=!1,ye.requests.hasLeft=!1,ye.requests.cbCalled=!1,ye.requests.errorReported=!1;var t=R.getTargetArrayforRefresh(e),n=ke(t);R._each(n,function(e,t){R._each(z,function(e){if(t===e){var n=me.document,r=n.getElementById(e);if(!r)return;for(;r.hasChildNodes();)r.removeChild(r.firstChild)}})}),R._each(n,function(e){e.utCalled=!1,e.displayed=!1});try{Ce()}catch(e){R.logError("refreshTags "+e.message)}},Me=function(){Pe(this.targetId)},ke=function(e){var t={};return 0===e.length?ye.requests.tags:(R._each(ye.requests.tags,function(n,r){for(var a=0;a<e.length;a++)e[a]===r&&(t[r]=n)}),t)},Ce=function(){R._each(Y,function(e,t){if("none"===t)De(t);else{var n=Number(t);isNaN(n)?R.logError("Invalid value for member"):De(n)}})},De=function(e){Ee(e);var t=k.buildRequestJsonByMemberId(ye.requests,e,ee),n=Te(t);return R.isEmpty(t.tags)?void R.logWarn("ast.loadTagsByMemberId: no defined tags at this point so no /UT request will be made"):void("withCredentials"in new XMLHttpRequest?Ae(n,e):Be(n,e))},xe=function(e,t){var n=e.member;return ye.requests=ye.requests||{},ye.requests.tags=ye.requests.tags||{},ye.requests.utCalled=ye.requests.utCalled||!1,ye.requests.hasLeft=ye.requests.hasLeft||!1,ye.requests.cbCalled=ye.requests.cbCalled||!1,ye.requests.enableSafeFrame&&(e.enableSafeFrame=!0),e.safeframe=R.cloneAsObject(te)||{},R.hasOwn(e,"safeframeConfig")&&(R.hasOwn(e.safeframeConfig,"allowExpansionByPush")&&(e.safeframe.expansionByPush=e.safeframeConfig.allowExpansionByPush),R.hasOwn(e.safeframeConfig,"allowExpansionByOverlay")&&(e.safeframe.expansionByOverlay=e.safeframeConfig.allowExpansionByOverlay)),ye.requests.tags[t]=e,ye.requests.tags[t].utCalled=ye.requests.tags[t].utCalled||!1,ye.requests.tags[t].showTagCalled=ye.requests.tags[t].showTagCalled||!1,ye.requests.tags[t].displayed=ye.requests.tags[t].displayed||!1,ye.requests.tags[t].on=ye.onEvent||void 0,ye.requests.tags[t].off=ye.offEvent||void 0,ye.requests.tags[t].setSizes=ye.setSizes||void 0,ye.requests.tags[t].modifyTag=ye.modifyTag||void 0,ye.requests.tags[t].setKeywords=ye.setKeywords||void 0,ye.requests.tags[t].refresh=Me||void 0,Y[n]=typeof Y[n]===ge?[]:Y[n],Y[n].push(e.targetId),K[e.targetId]&&(ye.requests.tags[t].showTagCalled=!0),ye.requests.tags[t]},Be=function(e,t){var n=me,r=Le(e),a=R.loadScript(n,r);ye.requests.utCalled=!0,a.onload=function(){R.logMessage("JSONP fallback used instead of POST.")},a.onerror=function(n){if(!ye.requests.errorReported){var r="Unknown script error contacting endpoint over JSONP. Endpoint: "+e.url;l(r,t,"-1",N.EVENTS.REQUEST_FAIL,n),R.logError(r)}},a.onreadystatechange=function(n){if(!("loaded"!==a.readyState&&"complete"!==a.readyState||ye.requests.cbCalled||ye.requests.errorReported)){ye.requests.errorReported=!0;var r="Unknown network error contacting endpoint over JSONP. Endpoint: "+e.url;l(r,t,"-1",N.EVENTS.REQUEST_FAIL,n),R.logError(r)}}},Le=function(e){var t=e.url+(e.url.indexOf("?")+1?"&":"?")+"cb=apntag.handleCb&q="+encodeURI(e.data);return t},Ue=function(e){ye.requests.tags=ye.requests.tags||{};var t=!0,n=ye.requests.tags[e];return typeof n===ge&&(t=!1),t},je=function(){ye.requests.hasLeft=!1,R._each(ye.requests.tags,function(e,t){e.displayed||e.prebid||e.isMediated||(R.logWarn(t+" is not displayed.",N.LOG.WARN),ye.requests.hasLeft=!0)}),ye.requests.hasLeft||R.logMessage("all Tags are displayed.")},Fe=function(e){function t(){n||(n=!0,e())}var n=!1;if(document.addEventListener)document.addEventListener("DOMContentLoaded",t,!1);else if(document.attachEvent){try{var r=null!==window.frameElement}catch(e){}if(document.documentElement.doScroll&&!r){var a=function(){if(!n)try{document.documentElement.doScroll("left"),t()}catch(e){setTimeout(a,10)}};a()}document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&t()})}if(window.addEventListener)window.addEventListener("load",t,!1);else if(window.attachEvent)window.attachEvent("onload",t);else{var i=window.onload;window.onload=function(){i&&i(),t()}}};R.logTimestamp("AST library loaded"),be(),ye.requests.checkDisplay||Fe(je),"function"==typeof window.define&&window.define.amd&&window.define("appnexusAst",[],function(){return window.apntag}),window.apn_testonly={};var qe=window.apn_testonly;qe.getPageTargetingParams=function(){return ye.requests.targetingParams},qe.getEvents=function(){return S.get()},qe.getEvent=function(e,t){var n,r=S.get();return R._each(r[e],function(e){null!==e[t]&&void 0!==e[t]&&(n=e[t])}),n},qe.buildPostRequestParams=function(e){return Te(e)},qe.getContentSourceForMediation=function(e){return P.getContentSourceForMediation(e)},qe.getRequestTagsforRefresh=function(e){return ke(e)},qe.getTag=function(e){return R.logMessage("getTag called for tag "+e),Ue(e)?e&&ye.requests.tags&&ye.requests.tags[e]?ye.requests.tags[e]:void 0:void R.logError("the "+e+" tag is not defined.",N.LOG.WARN)},qe.getEndPoint=function(){return _e()},qe.getKeyForSyncTags=function(e){return s(e)},qe.getAllRequest=function(){return ye.requests},qe.getJSONPUrl=function(e){return Le(e)},qe.getInternalTagArr=function(){return ee},qe.makeGetRequest=function(e){return we(e)},qe.doSyncShowTag=function(e,t){return u(e,t)},qe.doSizeMapping=function(e,t){return typeof t===ge?_(e):_(e,t)}},function(e,t){Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n;if(null===this)throw new TypeError('"this" is null or not defined');var r=Object(this),a=r.length>>>0;if(0===a)return-1;var i=+t||0;if(Math.abs(i)===1/0&&(i=0),i>=a)return-1;for(n=Math.max(i>=0?i:a-Math.abs(i),0);a>n;){if(n in r&&r[n]===e)return n;n++}return-1})},function(e,t,n){var r=n(3),a=n(4),i=Array.prototype.slice,o=r._map(a.EVENTS,function(e){return e});e.exports=function(){function e(e,t){var a=t[0],o=i.call(t,1);r.logMessage("Emitting event for: "+e+" for ad tag: "+a),r._each(n[e],function(e){var t="";if(t=r.hasOwn(e,"*")?e["*"]:e[a],null!==t&&void 0!==t&&"function"==typeof t)try{t.apply(null,o)}catch(e){r.logError("events._dispatch: Error executing event handler function: "+e.message)}})}function t(e){return r.contains(o,e)}var n={},a={};return a.on=function(e,a,i){if(t(e)){var s={};s[a]=i,n[e]=n[e]||[],n[e].push(s)}else r.logError("Wrong event name : "+e+" Valid event names :"+o)},a.emit=function(t){var n=i.call(arguments,1);e(t,n)},a.off=function(e,t,a){r.isEmpty(n[e])||r._each(n[e],function(e){"*"===t&&null!==e[Object.keys(e)[0]]&&void 0!==e[Object.keys(e)[0]]?("undefined"==typeof a||Object.values(e)===a)&&(e[Object.keys(e)[0]]=null):null!==e[t]&&void 0!==e[t]&&("undefined"==typeof a||e[t]===a)&&(e[t]=null)})},a.get=function(){return n},a}()},function(e,t){"object"!=typeof JSON&&(JSON={}),function(){"use strict";function e(e){return 10>e?"0"+e:e}function t(){return this.valueOf()}function n(e){return a.lastIndex=0,a.test(e)?'"'+e.replace(a,function(e){var t=s[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function r(e,t){var a,s,u,l,c,f=i,g=t[e];switch(g&&"object"==typeof g&&"function"==typeof g.toJSON&&(g=g.toJSON(e)),"function"==typeof d&&(g=d.call(t,e,g)),typeof g){case"string":return n(g);case"number":return isFinite(g)?String(g):"null";case"boolean":case"null":return String(g);case"object":if(!g)return"null";if(i+=o,c=[],"[object Array]"===Object.prototype.toString.apply(g)){for(l=g.length,a=0;l>a;a+=1)c[a]=r(a,g)||"null";return u=0===c.length?"[]":i?"[\n"+i+c.join(",\n"+i)+"\n"+f+"]":"["+c.join(",")+"]",i=f,u}if(d&&"object"==typeof d)for(l=d.length,a=0;l>a;a+=1)"string"==typeof d[a]&&(s=d[a],u=r(s,g),u&&c.push(n(s)+(i?": ":":")+u));else for(s in g)Object.prototype.hasOwnProperty.call(g,s)&&(u=r(s,g),u&&c.push(n(s)+(i?": ":":")+u));return u=0===c.length?"{}":i?"{\n"+i+c.join(",\n"+i)+"\n"+f+"}":"{"+c.join(",")+"}",i=f,u}}var a=/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=t,Number.prototype.toJSON=t,String.prototype.toJSON=t);var i,o,s,d;"function"!=typeof JSON.stringify&&(s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,n){var a;if(i="",o="","number"==typeof n)for(a=0;n>a;a+=1)o+=" ";else"string"==typeof n&&(o=n);if(d=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return r("",{"":e})})}()},function(e,t,n){var r=n(3),a=n(4),i=t,o=[],s=!1,d=a.EXTERNAL_LIB.VIDEO_MEDIATION_JS,u=a.EXTERNAL_LIB.BANNER_MEDIATION_JS,l=a.UT_RESPONSE_PROP.AD_TYPE,c=a.AD_TYPE.BANNER,f=a.AD_TYPE.VIDEO;i.checkIfMediatedResponse=function(e){var t=!1;return e&&r._each(e,function(e){return"csm"===e.content_source?void(t=!0):void 0}),t},i.getMediationType=function(e){var t=c;return e&&r._each(e,function(e){return e[l]===f?void(t=f):void 0}),t},i.callMediationFramework=function(e,t,n,a){var i=this;e===f&&(null!==t&&o.push(t),s&&window.APNVideo_AstMediationManager?r._each(o,function(e){if(!e.called)try{window.APNVideo_AstMediationManager.selectAd(e.uuid,e,n,a),e.called=!0}catch(e){r.logError("Error invoking video mediation","mediationmanager.js",e)}}):(r.loadScript(window,d,function(){i.callMediationFramework(f,null,n,a)}),s=!0))},i.getMediationOptions=function(e,t){var n={};return r._each(e,function(e){e.uuid===t.uuid&&e.mediationOptions&&(n=e.mediationOptions)}),n},i.getAdObjByMediation=function(e){return e.isMediated?e.adResponse.ad:e.adResponse.ads[0]},i.copyAdObjforMediation=function(e){return e.isMediated||(e.adResponse.ad=e.adResponse.ads[0]),e},i.getContentSourceForMediation=function(e){var t=e.content_source,n=e.ad_type;return t?e[t][n]:void 0},i.getContentForBannerMediation=function(e,t){var n="<script>";return n+="var APN_macros = {};",n+='APN_macros.uuid = "'+e+'";',n+="APN_macros.ads = ",n+='window.parent.apntag.getAdMarkup("'+e+'", "'+t.uuid+'");',n+=";",n+="document.write('<scr' + 'ipt src=\""+u+"\"></scr' + 'ipt>');",n+="</script>"}},function(e,t){function n(){var e=document.createElement("iframe");return e.id="loader",e.height="100%",e.width="100%",e.border="0px",e.hspace="0",e.vspace="0",e.marginWidth="0",e.marginHeight="0",e.style.border="0",e.frameBorder="0",e}function r(e){var t=e.map(function(e){return'\n      <table style="border: 1px solid black; border-radius: 5px; font-family: sans-serif; margin: 1em; padding: .5em">\n        <tr>\n          <td style="padding-right: 5em;"><b>Target&nbsp;ID</b></td>\n          <td style="width: 100%;">'+a(e)+"</td>\n        </tr>\n        <tr>\n          <td><b>Creative ID</b></td>\n          <td>"+i(e,"creative_id")+"</td>\n        </tr>\n        <tr>\n          <td><b>Buyer Member ID</b></td>\n          <td>"+i(e,"buyer_member_id")+"</td></tr>\n        <tr>\n          <td><b>Creative Size</b></td>\n          <td>"+o(e)+"</td>\n        </tr>\n        <tr>\n          <td><b>Available Sizes</b></td>\n          <td>"+s(e)+"</td></tr>\n        <tr>\n          <td><b>Winning Bid</b></td>\n          <td>"+i(e,"cpm")+"</td></tr>\n        <tr>\n          <td><b>Demand Source</b></td>\n          <td>"+d(e)+"</td></tr>\n        <tr>\n          <td><b>Ad Type</b></td>\n          <td>"+i(e,"ad_type")+"</td></tr>\n        <tr>\n          <td><b>Media Type</b></td>\n          <td>"+i(e,"media_type_id")+'</td></tr>\n        <tr>\n          <td style="color: #555; font-size: smaller; padding-top: .5em;" colspan="2">\n            Console Ad Profile:\n            <a href="'+u(e)+'" target="_blank">'+e.ad_profile_id+"</a>\n            "+l(e)+"\n          </td>\n        </tr>\n      </table>\n    "}).join(" ");return t}function a(e){try{return Object.keys(apntag.requests.tags).filter(function(t){return apntag.requests.tags[t].uuid===e.uuid})[0]}catch(e){return""}}function i(e,t){if(e.nobid)return f;var n=e.ads&&e.ads[0][t];return n||0===n?n:""}function o(e){if(e.nobid)return f;var t=null,n=null,r=e.ads&&e.ads.length?e.ads[0]:{};return r.rtb&&r.rtb.banner&&(t=r.rtb.banner.height,n=r.rtb.banner.width),t&&n?n+" x "+t:""}function s(e){try{var t=a(e),n=apntag.requests.tags[t].sizes;return JSON.stringify(n)}catch(e){return""}}function d(e){if(e.nobid)return f;var t="";return t=e.ads[0].csm?"CSM":e.ads[0].buyer_member_id===e.ads[0].seller_member_id||e.ads[0].deal_id?e.ads[0].buyer_member_id!==e.ads[0].seller_member_id&&e.ads[0].deal_id?"Deal":e.ads[0].buyer_member_id===e.ads[0].seller_member_id?"Direct":"":"RTB"}function u(e){return"//console.appnexus.com/ad-quality?id="+e.placement.publisher.id}function l(e){if(!e.ads)return"";var t="//ib.adnxs.com/cr?id="+e.ads[0].creative_id;return'| <a href="'+t+'" target="_blank">Creative Preview<a/>'}var c=t;c.load=function(e){e=e.replace(/(\n)/g,"<br>");var t=document.body,r=document.createElement("div");r.id="appnexus_debug_window";var a=document.createElement("div");a.style.width="100%",a.style.height="400px",a.style.clear="both",t.insertBefore(a,null);var i=r.style;i.position="fixed",i.bottom="0px",i.left="0px",i.width="100%",i.height="450px",i.overflow="hidden",i["border-top"]="1px solid",i["z-index"]=999999,i.background="white",t.insertBefore(r,null);var o=document.createElement("div");o.style.width="100%",o.style.height="30px";var s=n();r.appendChild(s);var d=s.contentWindow.document;s.onload=function(){var e,t,n,r=d.getElementsByTagName("br"),a=r.length,i=0;for(i;a-1>i;i++)n=!1,e=r[i].nextSibling,t=e.nodeName.toLowerCase(),"br"===t&&(n=!0),n&&(e.style.display="none")};var u="</script>";d.open(),d.write(e),d.write(u),d.close()},c.loadToolkit=function(e){var t=r(e),a=document.body,i=document.createElement("div");i.id="appnexus_debug_window";var o=document.createElement("div");o.style.width="100%",o.style.height="400px",o.style.clear="both",a.insertBefore(o,null);var s=i.style;s.position="fixed",s.bottom="0px",s.left="0px",s.width="100%",s.height="450px",s.overflow="hidden",s["border-top"]="1px solid",s["z-index"]=999999,s.background="white",a.insertBefore(i,null);var d=document.createElement("div");d.style.width="100%",d.style.height="30px";var u=n();i.appendChild(u);var l=u.contentWindow.document;l.open(),l.write(t),l.close()};var f='<span style="color: #ccc">nobid</span>'},function(e,t,n){var r=n(3),a=t;a.invokeNotify=function(e,t){r.isFn(t)?r.logWarn("apntag.notify not supported by renderer"):r.isObj(t)&&r._each(e,function(e){r.isFn(t.notify)&&!e.sent&&(e.sent=!0,t.notify(e.messageType,e.messagePayload))})},a.invokeRendererRenderAd=function(e,t,n){r.isFn(e)?e.call(apntag,t,n):r.isObj(e)&&(r.isFn(e.renderAd)?e.renderAd.call(apntag,t,n):r.logError("Error invoking rendererObj.renderAd(). renderAd must be a function"))},a.createNotifyObj=function(e,t,n){return{messageType:e,messagePayload:t,targetId:n,sent:!1}}},function(e,t,n){function r(e){var t=e.targetId,n="";if(e.isMediated)n=e.ad.mediatedContent,u.logMessage("Invoking mediation for displaying banner ad: "+t);else if(e.adResponse&&1===e.adResponse.ads.length){var r=u.getAdObjFromAdsArray(e.adResponse.ads);n=r[l][c]}return i(t,n,e.alwaysUseXDomainIframe||e.enableSafeFrame)}function a(e,t){return t?"":'window.onerror = function(e) {\n        if(window.parent && window.parent.apntag) {\n          window.parent.apntag.recordErrorEvent(e,"'+e+'");\n          return true;\n        }\n      };'}function i(e,t,n){var r=a(e,n);return'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head>\n    <script>inDapIF=true;\n    apntag_targetId = "'+e+'";\n    '+r+'\n    </script></head>\n    <body>\n    <script>\n    document.body.id = "'+e+'";\n    </script>\n    '+t+"\n    </body></html>"}function o(e){return e.replace("/&/g","&amp;").replace("/</g","&lt;").replace("/>/g","&gt;").replace('/"/g',"&quot;").replace("/'/g","&#39;")}var s=n(4),d=t,u=n(3),l=s.UT_RESPONSE_PROP.BANNER,c=s.UT_RESPONSE_PROP.CONTENT;d.getIframe=function(e){var t,n=f(e),a=u.getWindow();if(t=null!==a.document.getElementById(n)?a.document.getElementById(n):a.document.createElement("iframe"),t.id=n,e.alwaysUseXDomainIframe||e.enableSafeFrame){if(u.logMessage("targetId: "+e.targetId+" is using safeFrame. Loading this ad into sandboxed iframe"),e.isMediated)i=apntag.getAdMarkup(e.targetId,e.uuid);else{var i=r(e);i=o(i),i=""+i}var s={targetId:e.targetId,ad:i,host:a.location.protocol+"//"+a.location.host,geom:e.geom,debug:u.debugTurnedOn(),hasFocus:document.hasFocus(),hostSfSupport:e.safeframe,isMediated:e.isMediated};t.name=JSON.stringify(s)}else t.name=n;return t.setAttribute("height",e.initialHeight),t.setAttribute("width",e.initialWidth),t.tabIndex="-1",t.width=e.initialWidth+"px",t.height=e.initialHeight+"px",t.border="0",t.hspace="0",t.vspace="0",t.marginWidth="0",t.marginHeight="0",t.style.border="0",t.scrolling="no",t.frameBorder="0",t},d.loadIeIframe=function(e,t){if(t.alwaysUseXDomainIframe||t.enableSafeFrame)e.src=s.EXTERNAL_LIB.SAFE_FRAME_URL;else{var n="";n=r(t);try{e.contentWindow.contents=n}catch(t){e.src="javascript:document.write('<script>document.domain=\""+document.domain+"\"</script>')",e.contentWindow.contents=n}var a,i=document.getElementsByTagName("base");i.length&&(a=i.target,i[0].target="_self"),e.src='javascript:window["contents"];',i.length&&(i[0].target=a)}},d.loadIframe=function(e,t){if(t.alwaysUseXDomainIframe||t.enableSafeFrame)e.src=s.EXTERNAL_LIB.SAFE_FRAME_URL;else{var n="",a=g(e);n=r(t),a.open("text/html","replace"),a.write(n),a.close()}},d.createIframeWithContent=function(e){var t=u.getWindow(),n=t.document.createElement("iframe");n.width=0,n.height=0,n.border="0",n.hspace="0",n.vspace="0",n.tabIndex="-1",n.marginWidth="0",n.marginHeight="0",n.style.border="0",n.scrolling="no",n.frameBorder="0";var r=t.document.getElementsByTagName("body");r.length&&r[0].appendChild(n),n.contentWindow.document.open(),n.contentWindow.document.write(e),n.contentWindow.document.close()};var f=function(e){return s.PREFIX.UT_IFRAME+e.targetId+"_"+u.getUUID()},g=function(e){var t;try{t=e.contentWindow?e.contentWindow.document:e.contentDocument.document?e.contentDocument.document:e.contentDocument}catch(e){u.logError("Error getting iframe document: "+e)}return t}},function(e,t){t.getBrowserType=function(){var e=n(),t=/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return t[1]};var n=function(){return navigator.userAgent.toLowerCase()}},function(e,t,n){function r(){window.mraid.removeEventListener("ready",r),o()}function a(){"loading"===window.mraid.getState()?window.mraid.addEventListener("ready",r):o()}function i(e){e&&(window.mraid.removeEventListener("viewableChange",i),d())}function o(){window.mraid.useCustomClose(!0),window.mraid.isViewable()?d():window.mraid.addEventListener("viewableChange",i)}function s(e){e&&(window.mraid.removeEventListener("viewableChange",s),window.mraid.close())}function d(){u.loadScript(window,"https://acdn.adnxs.com/mobile/pricecheck/MobileVastPlayer.js",function(){try{var e=window.innerWidth,t=window.innerHeight,n="video-content",r=window.document.createElement("div");r.id=n,r.style.width=e+"px",r.style.height=t+"px",r.style.top="0px",r.style.left="0px",r.style.position="absolute",document.body.appendChild(r);var a={autoInitialSize:!1,aspectRatio:"16:9",delayExpandUntilVPAIDImpression:!1,delayExpandUntilVPAIDInit:!0,initialAudio:"on",initialPlayback:"auto",showMute:!0,showProgressBar:!0,showPlayToggle:!1,showBigPlayButton:!1,allowFullscreen:!1,forceAdInFullscreen:!1,disableCollapse:!1,fitInContainer:!0,shouldResizeVideoToFillMobileWebview:!0,enableInlineVideoForIos:!1,preloadInlineAudioForIos:!1,enableNativeInline:!0,fixedSizePlayer:!1,controlBarPosition:"below",terminateUnresponsiveVPAIDCreative:!1,vpaidTimeout:2e4,waterfallTimeout:15e3,waterfallSteps:-1,useCustomOpenForClickthrough:!0,vpaidEnvironmentVars:{rhythmone:!0},playerSkin:{dividerColor:"black",controlBarColor:"black"},skippable:{skipLocation:"top-right",skipText:"Video can be skipped in %%TIME%% seconds",skipButtonText:"SKIP"}};a.targetElementId=n,top.window.options=a,window.APNVideo_MobileVastPlayer.playVast(r,a,window.videoContent,function(e){("video-complete"===e||"video-skip"===e)&&window.mraid&&window.mraid.close();var t=e;"undefined"!=typeof e&&"undefined"!=typeof e.name&&"undefined"!=typeof e.url&&"video_click_open_url"===t.name&&(window.mraid?(window.mraid.open(t.url),window.mraid.addEventListener("viewableChange",s)):window.open(t.url))})}catch(e){u.logError("Issue loading video into document :",e)}})}var u=n(3);t.pcLoadVideo=function(e){window.videoContent=e,window.mraid?a():d()}},function(e,t,n){var r=n(3),a=(n(8),t);a.startListening=function(){r.addEventHandler(window,"message",function(e){if(e&&e.origin&&e.origin.indexOf(".adnxs.com")>0)try{var t=JSON.parse(e.data);"adError"===t.eventType&&apntag.recordErrorEvent(t.exception,t.targetId)}catch(e){r.logError(e)}})},a.sendMessage=function(e,t){e&&e.postMessage(t,"*")}},function(e,t,n){var r=n(3),a=n(18),i=t;i.attach=function(e,t,n){r.addEventHandler(e,t,n)},i.handleMessage=function(e){if(e.origin===r.getCdnOrigin()){r.logInfo("Data sent from creative",e.data);var t;try{t=JSON.parse(e.data)}catch(e){return void r.logError(e)}if(r.hasOwn(t,"eventType"))"adError"===t.eventType&&window.apntag.recordErrorEvent(t.exception,t.targetId);else switch(t.name){case"expand":a.expandIframe(t);break;case"collapse":a.collapseIframe(t);break;case"resizeAd":apntag.resizeAd(t.targetId,t.cmd);break;case"emitEvent":apntag.emitEvent.apply(null,t.cmd);break;
case"message":}}},i.sendMessage=function(e,t,n){e.postMessage(t,n)}},function(e,t,n){function r(e){a(),h=window.setTimeout(function(){s(e)},y)}function a(){h&&(clearTimeout(h),h=0)}function i(){v&&(clearTimeout(v),v=0)}function o(){var e=l.getInstance().getIframes();d._each(e,function(e,t){var n=apntag.requests.tags[t];(n.alwaysUseXDomainIframe||n.enableSafeFrame)&&p.sendGeom(e.iframe,t)}),i()}function s(e){var t=l.getInstance().getIframes();d._each(t,function(t,n){var r=apntag.requests.tags[n];if(r.alwaysUseXDomainIframe||r.enableSafeFrame){var a=t.iframe.contentWindow,i={};i.targetId=n,i.value=e,i.status=u.SAFEFRAME.STATUS.FOCUS_CHANGE,c.sendMessage(a,JSON.stringify(i),d.getCdnOrigin())}}),a()}var d=n(3),u=n(4),l=n(19),c=n(17),f=n(20),g=u.TYPE.NUM,p=t,v=0,h=0,m=500,y=2;p.expandIframe=function(e){d.logMessage("Expand iframe started by host");var t,n,r,a,i=!1,o=!1,s=0,f=0,v=0,h=0,m=d.getWindow(),y=m.document.getElementById(u.PREFIX.UT_DIV+e.targetId),E=l.getInstance(),b=E.getIframe(e.targetId),I=b.iframe.style,w=y.style;w.display="";var A=parseInt(w.width,10),T=parseInt(w.height,10);if(e.bounds.multiDir?(n=d.getValueAsType("data.bounds.left",e.bounds.left,g),a=d.getValueAsType("data.bounds.right",e.bounds.right,g),t=d.getValueAsType("data.bounds.top",e.bounds.top,g),r=d.getValueAsType("data.bounds.bottom",e.bounds.bottom,g),v=A+n+a,h=T+t+r,t?(f=-1*t,o=!0):f=0,n?(s=-1*n,i=!0):s=0):(s=e.bounds.x,f=e.bounds.y,i=0>s,o=0>f,v=i?A+-1*s:A+s,h=o?T+-1*f:T+f),!(A>=v&&T>=h)){I.width=v+"px",I.height=h+"px",i&&(I.left=s+"px"),o&&(I.top=f+"px"),I.zIndex=u.SAFEFRAME.DEFAULT_ZINDEX;var _=m.document.getElementById(u.PREFIX.UT_DIV+e.targetId),O=_.style;O.position="relative",e.bounds.push?(O.width=v+"px",O.height=h+"px"):(O.width=A+"px",O.height=T+"px");var R=b.iframe.contentWindow,S={};S.targetId=e.targetId,S.status=u.SAFEFRAME.STATUS.NOTIFY_EXPANDED,S.geom=p.geom(e.targetId,b.iframe),c.sendMessage(R,JSON.stringify(S),d.getCdnOrigin())}},p.collapseIframe=function(e){d.logMessage("Collapse iframe started by host");var t=d.getWindow(),n=t.document.getElementById(u.PREFIX.UT_DIV+e.targetId),r=n.style,a=l.getInstance(),i=a.getIframe(e.targetId),o=i.iframe.style,s=i.originalWidth,f=i.originalHeight;o.left="",o.top="0px",r.width=s+"px",o.width=s+"px",r.height=f+"px",o.height=f+"px",o.zIndex="";var g=i.iframe.contentWindow,v={};v.targetId=e.targetId,v.geom=p.geom(e.targetId,i.iframe),v.status=u.SAFEFRAME.STATUS.NOTIFY_COLLAPSED,c.sendMessage(g,JSON.stringify(v),d.getCdnOrigin())},p.geom=function(e,t){return d.logMessage("Geom starting"),f.build_geom(e,t)},p.handleWindowFocus=function(){r(!0)},p.handleWindowBlur=function(){r(!1)},p.sendGeomWithGeom=function(e,t,n){var r=e.contentWindow,a={};a.targetId=t,a.geom=n,a.status=u.SAFEFRAME.STATUS.GEOM_UPDATE,c.sendMessage(r,JSON.stringify(a),d.getCdnOrigin())},p.sendGeom=function(e,t){p.sendGeomWithGeom(e,t,p.geom(t,e))},p.handleGeomUpdate=function(){v||(v=window.setTimeout(o,m))},p.removeHandlers=function(){var e=l.getInstance().getIframes();d._each(e,function(e,t){var n=apntag.requests.tags[t];(n.alwaysUseXDomainIframe||n.enableSafeFrame)&&f.removeHandlers(t)})}},function(e,t,n){var r=n(3),a=function(){function e(){return{add:function(e,t){n[e]=t},getIframe:function(e){return r.hasOwn(n,e)?n[e]:null},getIframes:function(){return n},resetInstance:function(){n={}}}}var t,n={};return{getInstance:function(){return t||(t=e()),t}}}();e.exports=a},function(e,t,n){function r(e){return e=a(e),e&&-1==e.search(/\D+/g)?be:e&&-1!=e.search(/px/gi)?be:void 0}function a(e){var t=typeof e;return t==re?e:t!=K||e?t==ne&&e&&e.join?e.join(""):e===!1?"false":e===!0?"true":e?ce(e):"":"0"}function i(e){var t=0;return parseFloat(e.replace(/\./g,function(){return 1==t++?"":"."}))}function o(e,t,n){var r=e&&e.match(t);return n==Ee?r:r&&r[n]||Ee}function s(e,t){return e.test(t)}function d(){var e,t={};t.ie=t.opera=t.gecko=t.webkit=t.safari=t.chrome=t.air=t.ipod=t.ipad=t.iphone=t.android=t.webos=t.silk=t.nodejs=t.phantomjs=0,t.mobile=t.ios=t.accel=!1,t.caja=me&&me.cajaVersion;var n=ye;return n&&(s(/KHTML/,n)&&(t.webkit=1),s(/IEMobile|XBLWP7/,n)&&(t.mobile="windows"),s(/Fennec/,n)&&(t.mobile="gecko"),e=o(n,/AppleWebKit\/([^\s]*)/,1),e&&(t.webkit=i(e),t.safari=t.webkit,s(/PhantomJS/,n)&&(e=o(n,/PhantomJS\/([^\s]*)/,1),e&&(t.phantomjs=i(e))),s(/ Mobile\//,n)||s(/iPad|iPod|iPhone/,n)?(t.mobile="Apple",e=o(n,/OS ([^\s]*)/,1),e=e&&i(e.replace("_",".")),t.ios=e,t.ipad=t.ipod=t.iphone=0,e=o(n,/iPad|iPod|iPhone/,0),e&&(t[e[ae]()]=t.ios)):(e=o(n,/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/,0),e&&(t.mobile=e),s(/webOS/,n)&&(t.mobile="WebOS",e=o(n,/webOS\/([^\s]*);/,1),e&&(t.webos=i(e))),s(/ Android/,n)&&(t.mobile="Android",e=o(n,/Android ([^\s]*);/,1),e&&(t.android=i(e))),s(/Silk/,n)&&(e=o(n,/Silk\/([^\s]*)\)/,1),e&&(t.silk=i(e)),s(/Accelerated=true/,n)&&(t.accel=!0))),e=n.match(/(Chrome|CrMo)\/([^\s]*)/),e&&e[1]&&e[2]?(t.chrome=i(e[2]),t.safari=0,"CrMo"===e[1]&&(t.mobile="chrome")):(e=o(n,/AdobeAIR\/([^\s]*)/),e&&(t.air=e[0]))),t.webkit||(e=o(n,/Opera[\s\/]([^\s]*)/,1),e?(t.opera=i(e),e=o(n,/Opera Mini[^;]*/,0),e&&(t.mobile=e)):(e=o(n,/MSIE\s([^;]*)/,1),e?t.ie=i(e):(e=o(n,/Gecko\/([^\s]*)/),e&&(t.gecko=1,e=o(n,/rv:([^\s\)]*)/,1),e&&(t.gecko=i(e))))))),t}function u(e){var t,n=Ee,r="parentWindow",a="defaultView";try{e&&(n=e[r]||e[a]||Ee,n||(t=p(e),n=t&&(t[r]||t[a])||Ee))}catch(e){n=Ee}return n}function l(e,t){var n="",r=!(!arguments[se]||!t),a="getComputedStyle";if(r)if(Ae&&9>Ae)try{n=e.currentStyle[t]}catch(e){n=""}else try{n=u(e)[a](e,Ee)[t]}catch(e){n=""}else if(Ae&&9>Ae)try{n=e.currentStyle}catch(e){n=Ee}else try{n=u(e)[a](e,Ee)}catch(e){n=Ee}return n}function c(e,t){var n,a=0,i=0,o=/^t(?:able|d|h|r|head|foot)$/i;return n=l(e),n&&(a=n.borderTopWidth,i=n.borderLeftWidth,a=r(a)?m(a,0):0,i=r(i)?m(i,0):0,_e&&o.test(b(e))&&(a=i=0)),t=t||{t:0,l:0},t.t+=a,t.l+=i,t}function f(e){var t,n,r,a={t:0,l:0,r:0,b:0,w:0,h:0,z:0},i=0,o=0,s=Ie,d=v(e),u=R(e);if(e&&1==e[q])try{for(a.l=e.offsetLeft||0,a.t=e.offsetTop||0,t=e,s=_e||Te>519;(t=t.offsetParent)&&(a.t+=t.offsetTop||0,a.l+=t.offsetLeft||0,s&&c(t,a),t!=d););if(t=e,"fixed"!=l(t,"position")){for(t=e;(t=g(t))&&(1==t[q]&&(i=t.scrollTop||0,o=t.scrollLeft||0,_e&&"visible"!=l(t,de)&&c(t,a),a.l-=o,a.t-=i),t!=d););a.t+=u.y,a.l+=u.x}else a.t+=u.y,a.l+=u.x;Ae||e!=v(e)?(r=e.offsetHeight,n=e.offsetWidth):(r=e.clientHeight,n=e.clientWidth),a.b=a.t+r,a.r=a.l+n,a.w=ge(a.r-a.l,0),a.h=ge(a.b-a.t,0),a.z=l(e,"zIndex")}catch(e){a={t:0,l:0,r:0,b:0,w:0,h:0,z:0}}return a}function g(e){return e&&(e.parentNode||e.parentElement)}function p(e){var t=Ee;try{e&&(t=9==e[q]?e:e[ue]||e.ownerDocument||Ee)}catch(e){t=Ee}return t}function v(e){var t=e&&p(e)||L,n=t[j],r=t[F];return n&&!Oe&&"CSS1Compat"!=n&&(r=t.body),r}function h(e){var t,n,a,i,o=[-1,-1,-1,-1],s=[Q+"Top",Q+"Right",Q+"Bottom",Q+"Left"],d=0;if(!e)return o;if(Ae)for(;n=s[d];)t=e[n],r(t)&&(t=m(t,-1),t>=0&&(o[d]=t)),d++;else if(t=e[Q],t&&-1!=t.search(/\d+/g))for(t=t.replace(/\w+\(([^\)]*?)\)/g,"$1"),o=t.split(" "),o=o[se]<=1?o.split(","):o,i=o[se],d=0;i--;)a=o[d],r(a)?o[d]=m(a,-1):o[d]=-1,d++;return o}function m(e,t,n,r){if(typeof e!=K)try{e=e?parseFloat(e):$.NaN}catch(t){e=$.NaN}return r==Ee&&(r=Z),n==Ee&&(n=ee),(isNaN(e)||n>e||e>r)&&t!=Ee?t:e}function y(e,t){var n=Ie,r=e&&e[q]||-1,a=t&&t[q]||-1;if(1==r&&-1!=a)if(e[H])if(Oe||1==a)n=e[H](t);else for(;t;){if(e===t){n=be;break}t=t.parentNode}else e[te]&&(n=e===t||!!(16&e[te](t)));return n}function E(e){var t,n=arguments,r=n[se];return t=r>1?p(n[1]):U,t&&t.getElementById(e)||Ee}function b(e){return e&&1==e[q]&&e.tagName[ae]()||""}function I(e,t,n){try{arguments[se]>2?n===Ee?e[X](t):(n=a(n),"class"==t[ae]()?e.className=n:e[J](t,n)):n=a(e[Y](t))}catch(e){n=""}return n}function w(){return(new Date).getTime()}function A(){return fe.round(100*fe.random())}function T(e){return a([e||"","_",w(),"_",A(),"_",Se++])}function _(e,t){var n,r,a,i,o,s,d,u,l,c=Re(e),f=p(e),g=v(f),h=c.t,b=c.l,w=c.r-c.l,A=c.b-c.t,_=z,O=[],R=ve(w/_),N=ve(A/_),P=R,M=N,k={},C={},D=[],x=0;if(mgr_bounds_details?C=mgr_bounds_details:S(e,C,be),s=C.refNode,d=C.refRect,d&&s&&s!=g?(u=d.r,l=d.b):(u=b+w,l=h+A),f&&g&&f[oe]){for(;w>P;){for(M=N;A>M;)n=b+P,r=h+M,u>n&&l>r&&D.push([n,r]),M+=N;P+=R}for(t=m(t,D[se]);a=D[x++];){o=f[oe](a[0],a[1]);try{o&&1==o.nodeType&&o!==g&&o!==e&&!y(e,o)&&(i=I(o,"id"),i||(i=T("geom_inter"),I(o,"id",i)),!k[i]&&O[se]<t&&(k[i]=1,O.push(o)))}catch(e){}}}i="";for(i in k)0==i.indexOf("geom_inter")&&(o=E(i),o&&I(o,"id",Ee));return O}function O(e){var t=v(e),n=0,r=0;return t&&(n=t.scrollWidth||0,r=t.scrollHeight||0),{t:0,l:0,b:r,r:n,w:n,h:r}}function R(e){var t,n,r,a,i={x:0,y:0,w:0,h:0},o={scrollLeft:0,scrollTop:0,scrollWidth:0,scrollHeight:0},s=0,d=0;return t=p(e)||L,n=t[F]||o,a=t.body||o,r=t.defaultView,r&&(s=m(r.pageXOffset,0),d=m(r.pageYOffset,0)),i.x=ge(n.scrollLeft,a.scrollLeft,s),i.y=ge(n.scrollTop,a.scrollTop,d),i.w=ge(n.scrollWidth,a.scrollWidth,0),i.h=ge(n.scrollHeight,a.scrollHeight,0),i}function S(e,t,n){var r,a,i,o,s,d,u,c,f,p,y,E,w,A,T,S,P,M,k,C,D,x,B=e&&g(e),U=v(e),F=Re(e),H=Re(U),z=R(U),Y=O(e),J={t:0,l:0,r:0,b:0,w:0,h:0},X={t:0,l:0,r:0,b:0,xs:0,ys:0,xiv:0,yiv:0,iv:0,w:0,h:0},K=0,Q=0,$=Ie,Z=Ie,ee=Ie;if(t=t&&typeof t==ne?t:{},B)for(;(r=l(B))&&("block"!=r.display&&"absolute"!=r.position&&"none"==r.float&&"none"==r.clear||(A=r[de+"X"],P=r[de+"Y"],M=h(r),B==U?(c=z.w,y=z.h):(c=B.scrollWidth,y=B.scrollHeight),f=B.offsetWidth,E=B.offsetHeight,p=B.clientWidth,w=B.clientHeight,(A==W||M[1]>0||M[3]>0)&&(D||(k=1,D=B)),(P==W||M[0]>0||M[2]>0)&&(D||(C=1,D=B)),A==G&&(D=B,K=E-w,$=be),P==G&&(D||(D=B),Q=f-p,$=be),A==V&&(D||(D=B),c>p&&(K=E-w),$=be),P==V&&(D||(D=B),y>w&&(Q=f-p),$=be),!D))&&(B==U&&(c>p&&(i=he.innerHeight||0||E,K=i-w),y>w&&(a=he.innerWidth||0||f,Q=a-p),$=be),B=g(B),B&&1==B[q]););return F.w&&F.h&&(D&&D!=U?(r=l(D),"body"==b(D)?(D=U,o=F.t,s=F.l):o=s=0,J=Re(D),M[1]>0&&(J.w=M[1],J.r=J.l+J.w),M[3]>0&&(J.l=J.l+M[3],J.w=J.w-M[3]),M[2]>0&&(J.h=M[2],J.b=J.t+J.h),M[0]>0&&(J.t=J.t+M[0],J.h=J.h-M[0]),F.t>J.t&&J.t>0&&(o=F.t-J.t),F.l>J.l&&J.l>0&&(s=F.l-J.l),S=D.scrollTop,T=D.scrollLeft,y=D.scrollHeight,c=D.scrollWidth,X.t=ge(o,0),X.l=ge(s,0),r&&(k=r[de+"X"]==W||M[1]>0||M[3]>0,C=r[de+"Y"]==W||M[0]>0||M[2]>0),F.t>=J.b?X.b=0:(!C&&F.t>=J.b&&(C=1),y>D.clientHeight?C?X.b=0:X.b=ge(y-F.h-K-o,0):X.b=ge(J.h-F.h-K-o,0)),F.l>=J.r?X.r=0:(!k&&F.l>=J.r&&(k=1),c>D.clientWidth?k?X.r=0:X.r=ge(c-F.w-Q-s,0):X.r=ge(J.w-F.w-Q-s,0))):(X.t=ge(F.t,0),X.l=ge(F.l,0),Ae&&"BackCompat"==L[j]&&"no"==I(U,G)?C=k=1:(r=l(U),r&&(k=r[de+"X"]==W,C=r[de+"Y"]==W)),z.h>U.clientHeight?C?X.b=0:(ee=be,X.b=ge(Y.h-F.h-K-F.t,0)):X.b=ge(H.h-F.h-K-F.t,0),z.w>U.clientWidth?k?X.r=0:(Z=be,X.r=ge(Y.w-F.w-Q-F.l,0)):X.r=ge(H.r-F.w-Q-F.l,0)),X.xs=K?1:0,X.ys=Q?1:0,X.w=X.r+X.l,X.h=X.t+X.b,D&&D!=U?x=J:(x=H,D=U),s=ge(F.l,x.l),d=pe(F.r,Z?pe(Y.r,x.r):x.r),a=ge(d-s,0),o=ge(F.t,x.t),u=pe(F.b,ee?pe(Y.b,x.b):x.b),i=ge(u-o,0),X.xiv=0,X.yiv=0,X.iv=0,N(e)&&(X.xiv=m((a/F.w)[ie](2)),X.yiv=m((i/F.h)[ie](2)),X.iv=m((a*i/(F.w*F.h))[ie](2)))),t.refNode=D||U,t.isRoot=D==U,t.canScroll=$,t.refRect=D&&D!=U?J:H,t.expRect=X,t.rect=F,n&&!function(){var r,a,i,o,s,d,u,l,c,f,g,p,v,h,y,E,b=0,I=0;if(X.iv>.5&&(mgr_bounds_details=t,r=_(e,m(n,1,1)),mgr_bounds_details=Ee,I=r[se],a=F.w,i=F.h,o=a*i,I))for(;s=r[b++];)d=Re(s),c=ge(F.l,d.l),f=pe(F.r,d.r),u=ge(F.t,d.t),l=pe(F.b,d.b),p=f-c,g=l-u,v=p*g,y=(1-p/a)[ie](2),E=(1-g/i)[ie](2),h=(1-v/o)[ie](2),(y>0&&y<X.xiv||E>0&&E<X.yiv)&&(X.xiv=y,X.yiv=E,X.iv=h)}(),X}function N(e){if(Ae&&9>Ae){if(e.style)for(;"BODY"!=e.tagName;){if("hidden"==e.style.visibility)return!1;if(e=e.parentNode,!e)return!1}return!0}var t=l(e,"visibility");return void 0==t||"visible"==t}function P(e){var t=e&&u(e)||he,n=t.innerHeight||0,r=t.innerWidth||0,a=t.screenY||t.screenTop||0,i=n+a,o=t.screenX||t.screenLeft||0,s=r+o,d=v(e);return n||r||!d||(n=d.clientHeight||0,r=d.clientWidth||0,s=o+r,i=a+n),{t:a,l:o,b:i,r:s,w:r,h:n}}function M(e,t,n){var r,a,i,o,s,d={},u={};return S(t,u,be),n||u.isRoot||!u.canScroll||(o=u.expRect,(o.xs||o.ys)&&(r=Ne[e],i=u.refNode,r&&r.node!=i&&(r.tID&&clearTimeout(r.tID),B.removeEventHandler(a,G,r[le]),r.node=r[le]=Ee,Ne[e]=Ee,delete Ne[e]),Ne[e]||(r={},r.node=i,r[le]=function(n){k(n,e,t)},Ne[e]=r,B.addEventHandler(i,G,r[le])))),d.win=P(),d.par=u.refRect,o=u.expRect,s=u.rect,s.iv=o.iv,s.xiv=o.xiv,s.yiv=o.yiv,delete o.iv,delete o.xiv,delete o.yiv,d.exp=o,d.self=s,d}function k(e,t,n){var r=Ne[t];r&&(r.tID&&(clearTimeout(r.tID),delete r.tID),r.tID=setTimeout(function(){var e=x.getInstance().getIframe(t);e&&D.sendGeomWithGeom(e.iframe,t,M(t,e.iframe,be)),delete r.tID},D.GEOM_UPDATE_INTRVAL))}function C(e){var t=Ne[e];t&&(t.tID&&clearTimeout(t.tID),B.removeEventHandler(t.node,G,t[le]),t.node=t[le]=Ee,Ne[e]=Ee,delete Ne[e])}var D=n(18),x=n(19),B=n(3),L=window.document,U=L,j="compatMode",F="documentElement",q="nodeType",W="hidden",V="auto",H="contains",z=10,G="scroll",Y="getAttribute",J="setAttribute",X="removeAttribute",K="number",Q="clip",$=window.Number,Z=$&&$.MAX_VALUE,ee=-1*Z,te="compareDocumentPosition",ne="object",re="string",K="number",ae="toLowerCase",ie="toFixed",oe="elementFromPoint",se="length",de="overflow",ue="document",le="onscroll",ce=window.String,fe=window.Math,ge=Math.max,pe=Math.min,ve=Math.round,he=window,me=window.navigator,ye=me.userAgent||"",Ee=(!window.ActiveXObject&&"ActiveXObject"in window,null),be=!0,Ie=!1,we=d(),Ae=we.ie||0,Te=we.webkit||0,_e=we.gecko||0,Oe=we.opera||0,Re=f,Se=0,Ne={};mgr_bounds_details=Ie,t.removeHandler=C,t.build_geom=M},function(e,t,n){function r(e){return!!(i.isArray(e)&&e.length>0)||(i.logInfo("No size mapping defined"),!1)}var a,i=n(3),o=t;o.mapSizes=function(e){if(!r(e.sizeMapping))return e.sizes;var t,n=o.getScreenWidth();if(!n){t=e.sizeMapping[0];for(var a=0;a<e.sizeMapping.length;a++)e.sizeMapping[a].minWidth>t.minWidth&&(t=e.sizeMapping[a]);return t.sizes?t.sizes:e.sizes}for(var s="",d=0;d<e.sizeMapping.length;d++)if(n>=e.sizeMapping[d].minWidth){t=e.sizeMapping[d];break}return t&&t.sizes?(s=t.sizes,i.logMessage("tag : "+e.targetId+" resized based on device width to : "+s)):i.logMessage("tag : "+e.targetId+" not mapped to any sizes for device width. This request will be suppressed."),s},o.getScreenWidth=function(e){var t=e||a||i.getWindow(),n=t.document;return t.innerWidth?t.innerWidth:n.body.clientWidth?n.body.clientWidth:n.documentElement.clientWidth?n.documentElement.clientWidth:0},o.setWindow=function(e){a=e}},function(e,t){"use strict";function n(){var e=document.createElement("div");e.id="cookiemsg-slider";var t='<style media="screen">'+m+"</style>";return e.innerHTML=t+h,e}function r(e){y.setParentNode(e);var t=y.getContainer().querySelector("#ancookie-close");t.addEventListener("click",function(){e.remove()});var n=a();n(),window.addEventListener("resize",n)}function a(){var e;return function(){var t=y.getSliderElement(),n=d(t),r=y.getMessageElement();r.setAttribute("style","-webkit-transition: none; -webkit-transform: translateX(0); -webkit-column-width: "+n+"px;");var a=y.getNav();a.innerHTML="",clearTimeout(e),e=setTimeout(function(){clearInterval(v),r.style.webkitTransition="opacity 0.3s ease-out",r.style.opacity=1;var e=t.scrollWidth+10,o=Math.round(e/n);o>1&&(s(a),i())},300)}}function i(){var e,t=3e3,n=y.getSliderElement(),r=d(n),a={cycles:2,isFirstSlide:!0};v=setInterval(function(){a.cycles||clearInterval(v),e=a.isFirstSlide?1:0,a=o(-1*e*r,1.2,a)},t)}function o(e,t,n){var r=y.getMessageElement();r.style.webkitTransition="opacity 0.3s ease-out, -webkit-transform "+t+"s cubic-bezier(0.23, 1, 0.32, 1)",r.style.webkitTransform="translateX("+e+"px)",0==e&&n.cycles--,n.isFirstSlide=!n.isFirstSlide;for(var a=y.getContainer().querySelectorAll("span"),i=0;i<a.length;i++)"selected"===a[i].className?a[i].removeAttribute("class"):a[i].setAttribute("class","selected");return n}function s(e){for(var t="<span class=selected></span>",n=1;2>n;n++)t+="<span></span>";e.innerHTML=t}function d(e){return e.offsetWidth}function u(e){e&&e.override&&(E=e.override),e&&e.cookieUrl&&(b=e.cookieUrl);var t=window.addEventListener?"addEventListener":"attachEvent",n=window[t],r="attachEvent"==t?"onload":"load";"complete"===document.readyState||"interactive"===document.readyState?l():n(r,function(e){l()},!1)}function l(){if(!I){I=!0;var e=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);if(!e)return void console.log("Not safari, skipping link override");p(),c(b,f)}}function c(e,t){var n;try{n=new XMLHttpRequest}catch(e){return}n.open("GET",e),n.withCredentials=!0,n.onreadystatechange=function(){if(4===n.readyState&&200===n.status)try{var e=JSON.parse(n.responseText);t(e)}catch(e){console.error(e)}},n.send()}function f(e){console.log(e.uid);var t=parseInt(e.uid,10)||0;0===t&&g()}function g(){console.log("Perfoming link override.");for(var e=0;e<document.links.length;e++){var t=document.links[e];t.href=E+encodeURIComponent(t.href)}}function p(){if("true"!==document.cookie.replace(/(?:(?:^|.*;\s*)anCookiesetFooter\s*\=\s*([^;]*).*$)|^.*$/,"$1")){var e=n();document.body.appendChild(e),r(e),document.cookie="anCookiesetFooter=true; expires=Fri, 31 Dec 9999 23:59:59 GMT"}}Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()||(Object.defineProperty=function(e,t,n){e[t]=n.value}),Object.defineProperty(t,"__esModule",{value:!0});var v,h='<div class="ancookie-header" id="ancookie-container">\n  <div id="ancookie-nav">\n    <div></div>\n  </div>\n  <div id="ancookie-slider">\n    <p id="ancookie-msg">Your browser blocks 3rd party cookies by default. By clicking on page you allow our partner AppNexus to place cookies to show relevant ads. Read more or opt out of these cookies <a href="https://www.appnexus.com/en/company/platform-privacy-policy#choices" target="_blank" style="color: #4f4f4f;">here</a>. This notice appears once </p>\n    <div id="ancookie-close">&times</div>\n  </div>\n</div>\n',m=".ancookie-header {\n  background: #d3d3d3;\n  text-overflow: ellipsis;\n  border-collapse: collapse;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  min-height: 38px;\n}\n\n.ancookie-header * {\n  font-size: 12px;\n  font-family: Verdana, Arial, Helvetica, sans-serif !important;\n  color: #555;\n  line-height: normal !important;\n  margin: 0;\n  padding: 0;\n}\n\n.ancookie-header p {\n  padding: 10px 10px 10px 38px;\n  text-align: left;\n}\n\n.ancookie-header a:link,\n.ancookie-header a:hover,\n.ancookie-header a:visited,\n.ancookie-header a:active {\n  color: #e6e6e6;\n  text-decoration: underline;\n  font-weight: 700;\n}\n\n.ancookie-header {\n  position: fixed;\n  opacity: 0.9;\n}\n\n.ancookie-header * {\n  font-size: 11px !important;\n}\n\n#ancookie-msg {\n  height: 34px;\n  opacity: 0;\n}\n\n@media only screen and (min-width: 1224px) {\n  .ancookie-header * {\n    font-size: 12px !important;\n  }\n\n  #ancookie-msg {\n    height: 20px;\n    opacity: 0;\n  }\n}\n\n@media only screen and (min-device-width: 768px) and (max-device-width: 1024px) {\n  .ancookie-header {\n    position: fixed;\n  }\n}\n\n.ancookie-header {\n  z-index: 9999;\n  opacity: 1;\n}\n\n#ancookie-slider {\n  overflow: hidden;\n  padding: 10px;\n  box-sizing: border-box;\n}\n\n#ancookie-slider p {\n  position: relative;\n  margin: 0;\n  padding: 0;\n  opacity: 0;\n  -webkit-column-gap: 20px;\n  -webkit-column-rule-width: 0;\n}\n\n#ancookie-nav {\n  position: absolute;\n  right: 0;\n  left: 0;\n  top: -11px;\n  z-index: 200;\n  text-align: center;\n}\n\n#ancookie-nav div {\n  display: inline-block;\n  padding: 0 10px;\n  background-color: #d3d3d3;\n  border-radius: 10px 10px 0 0;\n}\n\n#ancookie-nav span {\n  display: inline-block;\n  width: 6px;\n  height: 6px;\n  background-color: #e6e6e6;\n  border-radius: 50%;\n  margin: 1px 2px;\n  box-sizing: border-box;\n  -webkit-transition: all 0.5s cubic-bezier(0.23, 1, 0.32, 1);\n  -webkit-opacity: 0.5;\n}\n\n#ancookie-nav span.selected {\n  background-color: #555;\n  -webkit-transition: all 0.5s cubic-bezier(0.23, 1, 0.32, 1);\n  -webkit-opacity: 1;\n}\n\n#ancookie-close {\n  position: absolute;\n  right: 5px;\n  bottom: 20px;\n  cursor: pointer;\n  -webkit-transform: scale(1.5);\n  transform: scale(1.5);\n}\n",y=function(){function e(e){u=e}function t(){return i||(i=u.querySelector("#ancookie-container")),i}function n(){return o||(o=u.querySelector("#ancookie-msg")),o}function r(){return d||(d=u.querySelector("#ancookie-nav div")),d}function a(){return s||(s=u.querySelector("#ancookie-slider")),s}var i,o,s,d,u;return{getContainer:t,getMessageElement:n,getSliderElement:a,getNav:r,setParentNode:e}}(),E="http://ib.adnxs.com/seg?add=1&redir=",b="//ib.adnxs.com/getuidj",I=!1;t.enable=u},function(e,t){function n(e,t,n,r){return{eventType:e,targetId:t,data:n,exception:r}}var r=t;r.createMessage=function(e,t,r,a){return new n(e,t,r,a)}},function(e,t){}]),e.exports=apntag},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.appNexus=t.google=void 0;var a=n(7),i=r(a),o=n(13),s=r(o);t.google=i,t.appNexus=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.clear=t.preRender=t.refreshAll=t.refresh=t.render=t.config=void 0;var a=n(8);Object.defineProperty(t,"render",{enumerable:!0,get:function(){return a.render}});var i=n(9);Object.defineProperty(t,"refresh",{enumerable:!0,get:function(){return i.refresh}}),Object.defineProperty(t,"refreshAll",{enumerable:!0,get:function(){return i.refreshAll}});var o=n(10);Object.defineProperty(t,"preRender",{enumerable:!0,get:function(){return o.preRender}});var s=n(11);Object.defineProperty(t,"clear",{enumerable:!0,get:function(){return s.clear}});var d=n(12),u=r(d);t.config=u.default},function(e,t,n){"use strict";function r(e){var t=["<html>","<head><title>Advertisement</title></head>",'<body style="overflow: hidden; margin:0;">','<script type="text/javascript">'],n=e.adClient||"ca-pub-1644806578912499",r=e.scriptUrl||"//pagead2.googlesyndication.com/pagead/show_ads.js";t.push('google_ad_client="'+n+'";'),t.push('google_ad_slot="'+e.adSlot+'";'),t.push("google_ad_width="+e.adWidth+";"),t.push("google_ad_height="+e.adHeight+";"),e.pageUrl&&t.push('google_page_url="'+e.pageUrl+'";'),e.colorBg&&t.push('google_color_bg="'+e.colorBg+'";'),e.colorLink&&t.push('google_color_link="'+e.colorLink+'";'),e.colorUrl&&t.push('google_color_url="'+e.colorUrl+'";'),e.colorText&&t.push('google_color_text="'+e.colorText+'";'),t.push("</script>"),t.push('<script type="text/javascript" src="'+r+'"></script></body></html>');var o=document.getElementById(e.targetId);return(0,i.injectIframe)(o,{width:e.adWidth,height:e.adHeight,content:t.join("")}).then(function(t){return{provider:"google",targetId:e.targetId,hasRendered:!0,width:e.adWidth,height:e.adHeight,raw:a({iframe:t},e)}})}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.render=r;var i=n(4)},function(e,t){"use strict";function n(){}function r(){}Object.defineProperty(t,"__esModule",{value:!0}),t.refreshAll=n,t.refresh=r},function(e,t){"use strict";function n(){}Object.defineProperty(t,"__esModule",{value:!0}),t.preRender=n},function(e,t){"use strict";function n(){}Object.defineProperty(t,"__esModule",{value:!0}),t.clear=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.clear=t.preRender=t.render=t.refreshAll=t.refresh=t.map=t.config=void 0;var a=n(14);Object.defineProperty(t,"map",{enumerable:!0,get:function(){return a.map}});var i=n(17);Object.defineProperty(t,"refresh",{enumerable:!0,get:function(){return i.refresh}});var o=n(24);Object.defineProperty(t,"refreshAll",{enumerable:!0,get:function(){return o.refreshAll}});var s=n(18);Object.defineProperty(t,"render",{enumerable:!0,get:function(){return s.render}});var d=n(21);Object.defineProperty(t,"preRender",{enumerable:!0,get:function(){return d.preRender}});var u=n(26);Object.defineProperty(t,"clear",{enumerable:!0,get:function(){return u.clear}});var l=n(27),c=r(l),f=n(5),g=r(f),p=n(28),v=r(p),h=c.default.get("MUID");g.default.setPageOpts({member:1705,user:{externalUid:h}}),t.config=v.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=d(e,4),n=t[0],r=t[1],a=void 0===r?"":r,i=t[2],o=void 0===i?"":i,s=t[3],u=void 0===s?"":s;switch(n.toUpperCase()){case"ELSEWHERE":if("ASIA"===a.toUpperCase()&&"HONGKONGCOMPETITION"===o.toUpperCase())return 3;if("ASIA"===a.toUpperCase()&&"HONG-KONG-COMPETITION"===o.toUpperCase())return 3;if("ASIA"===a.toUpperCase()&&"CHINA"===o.toUpperCase()&&"HONG-KONG"===u.toUpperCase())return 4;if("ASIA"===a.toUpperCase()&&"FLIGHT-CENTRE"===o.toUpperCase())return 3;break;case"HOMES":if("DECOR"===a.toUpperCase()&&"OFFICE-SPACES"===o.toUpperCase())return 3;break;case"COACH":if("HEALTH"===a.toUpperCase()&&"ORAL-HEALTH"===o.toUpperCase())return 3;break;case"HONEY":if("WHATTOWEAR"===a.toUpperCase()&&"DRESSFORCONFIDENCE"===o.toUpperCase())return 3;break;case"FINANCE":if("NEWS"===a.toUpperCase()&&"HOME"===o.toUpperCase())return 3}}function i(e,t){var n=e,r=a(n)||t;return n.slice(0,r)}function o(e){var t=(0,u.mapAdExTypeLocToAppNexus)(e.type,e.location),n=t.type,r=t.location,a=s({},e,{position:e.position||(0,u.calculatePosition)(n,r),sizes:e.sizes||(0,u.calculateSizes)(n),targetId:e.targetId});switch(n.toUpperCase()){case f.BILLBOARD:e.disablePsa!==!1&&(a.disablePsa=!0);break;case f.OUTSTREAM:case f.OUTSTREAMMOBILE:a.allowedFormats=["video","banner"];break;case f.NATIVE.MEDIUM:a.allowedFormats=["banner"];break;case f.NATIVE.DESKTOP:case f.NATIVE.MOBILE:a.allowedFormats=["native"]}if(e.tagId)a.tagId=e.tagId;else{a.siteHierarchy=i(e.siteHierarchy||c.default.settings.siteHierarchy,e.siteHierarchyDepth||c.default.settings.siteHierarchyDepth);var o=(a.siteHierarchy.join("-")+"_"+n+"_"+r).toUpperCase();a.invCode=o}return a.keywords=(0,u.getAdditionalKeywords)(e,r),a}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=function(){function e(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.calculateSiteHierarchy=i,t.map=o;var u=n(15),l=n(2),c=r(l),f=n(16);t.default=o},function(e,t,n){"use strict";function r(e,t){return t.indexOf(l.ATF)>=0?"above":e===l.MOBILEREC&&t===l.BTF?"above":"below"}function a(e){switch(e&&e.toUpperCase()){case l.BANNER:return[728,90];case l.BILLBOARD:return[[970,250],[970,150],[1030,250],[13,1],[14,1],[30,1]];case l.MOBILEBANNER:return[[320,50],[320,150],[13,1],[14,1]];case l.MEDIUM:case l.MOBILEREC:return[300,250];case l.HALFPAGE:return[[300,600],[300,250]];case l.PARTNER:return[[300,300],[300,400]];case l.STRAPAD:return[380,43];case l.CATEGORYTILE:return[[300,158],[273,273]];case l.PARTNERSEEK:return[280,280];case l.CONTENT:return[[10,1],[11,1],[300,250]];case l.ANIBANNER:return[12,1];case l.FULLWIDTHBANNER:return[1920,250];case l.TAKEOVER:return[2,2];case l.SIDEPANEL:case l.NATIVE.DESKTOP:case l.NATIVE.MOBILE:return[1,1];case l.NATIVE.MEDIUM:return[21,1];case l.OUTSTREAM:return[4,1];case l.OUTSTREAMMOBILE:return[4,1];case l.ATPTEST:return[99,1];case l.IMAGE:case l.IMAGEMOBILE:return[3,1];case l.SPORTSBET:return[658,90];default:return[0,0]}}function i(e){switch(e){case"TOP":return l.ATF;case"BOTTOM":case"MOBILE":case"TOP.2":case"TOP2":return l.BTF;case"TOP.1":case"TOP1":case"MOBILE.1":return l.BTF+".X";case"MOBILE.2":return l.BTF+".2";case"MOBILE.3":return l.BTF+".3";case"TOP.3":case"TOP3":return l.BTF+".2";case"TOP.4":case"TOP4":return l.BTF+".3";case"MOBILE.4":case"TOP.5":case"TOP5":return l.BTF+".4";default:return e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.toUpperCase(),r=t.toUpperCase();switch(n){case l.BANNER2:n=l.BANNER,r="TOP"===r?l.BTF:i(r);break;case l.MASTHEAD:n=l.BILLBOARD,r=i(r);break;case l.MEDIUM:r.indexOf("MOBILE")>=0&&(n=l.MOBILEREC),r=i(r);break;case l.PARTNERTV:switch(r){case"TOP":r=l.BTF}break;case l.PARTNERSEEK:switch(r){case"TOP":r=l.BTF;break;case"TOP.1":r=l.BTF+".2";break;case"TOP.2":r=l.BTF+".3"}break;case l.PARTNER:switch(r){case"TOP":r=l.BTF}break;case l.CATEGORYTILE:switch(r){case"TOP":r=l.BTF;break;case"RIGHT.1":r=l.BTF+".1"}break;default:r=i(r)}return{type:n,location:r}}function s(e){var t=void 0;if(e){var n=e.toUpperCase();return t=0===n.indexOf(l.ATF)?l.ATF:0===n.indexOf(l.BTF)?l.BTF:void 0,{AdPosition:t}}return{AdPosition:void 0}}function d(e,t){var n=u({},s(t));return e&&e.keywords&&(n=u({},n,e.keywords)),n}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.calculatePosition=r,t.calculateSizes=a,t.mapAdExTypeLocToAppNexus=o,t.getAdditionalKeywords=d;var l=n(16)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MASTER="master",t.SLAVE="slave",t.SIDEPANEL="SIDEPANEL",t.TAKEOVER="TAKEOVER",t.BILLBOARD="BILLBOARD",t.ATF="ATF",t.BTF="BTF",t.BANNER="BANNER",t.BANNER2="BANNER2",t.MOBILEBANNER="MBANNER",t.MASTHEAD="MASTHEAD",t.MEDIUM="MEDIUM",t.MOBILEREC="MOBILE",t.HALFPAGE="HALFPAGE",t.PARTNER="PARTNER",t.STRAPAD="STRAPAD",t.CATEGORYTILE="CATEGORYTILE",t.PARTNERSEEK="PARTNERSEEK",t.PARTNERTV="PARTNERTV",t.CONTENT="CONTENT",t.ANIBANNER="ANIBANNER",t.FULLWIDTHBANNER="FULLWIDTHBANNER",t.BLOCKING_CREATIVE_KEYWORD="MI9:CR_AD_BLCK",t.OUTSTREAM="OUTSTREAM",t.OUTSTREAMMOBILE="OUTSTREAMMOBILE",t.ATPTEST="ATPTEST",t.IMAGE="IMAGE",t.IMAGEMOBILE="IMAGEMOBILE",t.SPORTSBET="SPORTSBET",t.NATIVE={DESKTOP:"NATIVE",MOBILE:"NATIVEMOBILE",MEDIUM:"NATIVEMEDIUM"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return new Promise(function(t){o.default.onEvent(c.AD_LOADED,e,function(n){o.default.offEvent(c.AD_LOADED,e),t((0,s.buildAdLoadedData)(e,{data:n}))}),o.default.onEvent(c.AD_ERROR,e,function(n,r){o.default.offEvent(c.AD_ERROR,e),t((0,s.buildAdErrorData)(e,{data:n,error:r}))}),o.default.onEvent(c.AD_NO_BID,e,function(n){o.default.offEvent(c.AD_NO_BID,e),t((0,d.buildAdNoBidResponse)(n))}),o.default.onEvent(c.AD_BAD_REQUEST,e,function(n){o.default.offEvent(c.AD_BAD_REQUEST,e),t((0,d.buildAdBadRequestResponse)(n))}),o.default.onEvent(c.AD_REQUEST_FAILURE,e,function(n){o.default.offEvent(c.AD_REQUEST_FAILURE,e),t((0,d.buildAdRequestFailureResponse)(n))}),p(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.refresh=a;var i=n(5),o=r(i),s=n(18),d=n(21),u=n(22),l=r(u),c=n(20),f=[],g=(0,l.default)(function(){o.default.refresh(f),f=[]}),p=function(e){f.push(e),g()}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=t.data,r=t.siteHierarchy,a=t.keywords,i=u.default.requests.tags[e];i.invCode&&(n.invCode=i.invCode),i.adResponse&&i.adResponse.ads[0].creative_id&&(n.creativeId=i.adResponse.ads[0].creative_id);var o={provider:c.APP_NEXUS_NAME,targetId:e,hasRendered:!0,height:n[n.adType].height,width:n[n.adType].width,raw:n};return r&&(o.siteHierarchy=r),a&&(o.keywords=a),o}function i(e,t){var n=t.data,r=t.error;return{name:"AppNexus:AdError",message:"There was a problem with the creative recieved.",error:s({
ad:n},r)}}function o(e){return new Promise(function(t,n){u.default.onEvent(c.AD_LOADED,e.targetId,function(n){u.default.offEvent(c.AD_LOADED,e.targetId),(0,l.info)("APPNEXUS: "+e.targetId+" has been loaded!");var r=a(e.targetId,{data:n,siteHierarchy:e.siteHierarchy,keywords:e.keywords});t(r)}),u.default.onEvent(c.AD_ERROR,e.targetId,function(t,r){u.default.offEvent(c.AD_ERROR,e.targetId);var a=i(e.targetId,{data:t,error:r});n(a)}),u.default.showTag(e.targetId)})}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.buildAdLoadedData=a,t.buildAdErrorData=i,t.render=o;var d=n(5),u=r(d),l=n(19),c=n(20)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){if("undefined"!=typeof console&&void 0!==console.error){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];try{console.error.apply(console,t)}catch(e){Function.prototype.apply.call(console.error,console,t)}}}function i(){if("undefined"!=typeof console&&void 0!==console.info){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];try{console.info.apply(console,t)}catch(e){Function.prototype.apply.call(console.info,console,t)}}}function o(){if("info"===l.default.settings.verbosity||"error"===l.default.settings.verbosity){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].name?a.apply(void 0,[t[0].name].concat(t)):a.apply(void 0,t)}}function s(){"info"===l.default.settings.verbosity&&i.apply(void 0,arguments)}function d(e,t,n){return"info"===l.default.settings.verbosity&&i('%cDEPRECATION NOTICE: "'+e+'" has been deprecated, please use "'+t+'" instead.',"background: #222; color: #bada55"),n}Object.defineProperty(t,"__esModule",{value:!0}),t.error=o,t.info=s,t.deprecate=d;var u=n(2),l=r(u)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.AD_NO_BID="adNoBid",t.AD_BAD_REQUEST="adBadRequest",t.AD_REQUEST_FAILURE="adRequestFailure",t.AD_AVAILABLE="adAvailable",t.AD_ERROR="adError",t.AD_REQUESTED="adRequested",t.AD_LOADED="adLoaded",t.APP_NEXUS_NAME="appNexus"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t={},n=5;if(e.siteHierarchy){var r=e.siteHierarchy;r.length<n&&(n=r.length);for(var a=0;a<n;a++)t["PageLevel0"+(a+1)]=r[a]}return t}function i(e){return{name:"AppNexus:AdNoBid",message:"There were no available ads for this placement.",error:e}}function o(e){return{name:"AppNexus:AdBadRequest",message:"This placement doesn't exist.",error:e}}function s(e){return{name:"AppNexus:AdRequestFailure",message:"Failed to get ad.",error:e}}function d(e){return e.creativeId?Promise.resolve():new Promise(function(t,n){var r=(0,f.map)(e),d=r.keywords,l=a(m.default.settings),g={};m.default.settings&&m.default.settings.appNexus&&m.default.settings.appNexus.keywords&&(g=m.default.settings.appNexus.keywords);var h=u({},l,g);m.default.set({appNexus:u({},m.default.settings.appNexus,{keywords:h})}),(0,v.set)(e.targetId,u({},(0,v.get)(e.targetId),{invCode:r.invCode,position:r.position})),c.default.defineTag(r),c.default.onEvent(y.AD_NO_BID,e.targetId,function(t){c.default.offEvent(y.AD_NO_BID,e.targetId),(0,v.set)(e.targetId,u({},(0,v.get)(e.targetId),{raw:t})),n(i(t))}),c.default.onEvent(y.AD_BAD_REQUEST,e.targetId,function(t){c.default.offEvent(y.AD_BAD_REQUEST,e.targetId),n(o(t))}),c.default.onEvent(y.AD_REQUEST_FAILURE,e.targetId,function(t){c.default.offEvent(y.AD_REQUEST_FAILURE,e.targetId),n(s(t))}),c.default.onEvent(y.AD_AVAILABLE,e.targetId,function(n){c.default.offEvent(y.AD_AVAILABLE,e.targetId),(0,p.info)("AppNexus: Ad found for "+e.targetId);var r={};m.default.settings&&m.default.settings.appNexus&&m.default.settings.appNexus.keywords&&(r=m.default.settings.appNexus.keywords);var a=u({},n[n.adType],{keywords:{adLevel:d,pageLevel:u({},r)}});t(a)}),E()})}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.buildAdNoBidResponse=i,t.buildAdBadRequestResponse=o,t.buildAdRequestFailureResponse=s,t.preRender=d;var l=n(5),c=r(l),f=n(14),g=n(22),p=n(19),v=n(23),h=n(2),m=r(h),y=n(20),E=(0,g.debounce)(function(){c.default.loadTags()})},function(e,t){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=void 0;return t<=0?e:function(){for(var r=this,a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];clearTimeout(n),n=setTimeout(function(){e.apply(r,i)},t)}}Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=n,t.default=n},function(e,t){"use strict";function n(){l.forEach(function(e){e(f)})}function r(e,t){var r=u({},t),a=c.indexOf(e);a!==-1?f[a]=r:(c.push(e),f.push(r)),n()}function a(e){var t=c.indexOf(e);t>-1&&(c.splice(t,1),f.splice(t,1),n())}function i(e){var t=c.indexOf(e);return f[t]}function o(e,t){return f.filter(function(n){return n.type.toUpperCase()===e.toUpperCase()&&n.location.toUpperCase()===t.toUpperCase()})[0]}function s(){return f}function d(e){l.push(e)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.set=r,t.remove=a,t.get=i,t.getByAdTypeAndLoc=o,t.getAll=s,t.addListener=d;var l=[],c=[],f=[]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){var e=[];return Object.keys(s.default.requests.tags).forEach(function(t){(0,d.set)(t,i({},(0,d.get)(t),{hasRendered:!1}));var n=(0,u.refresh)(t).then(function(e){return(0,l.buildRefreshResponse)(t,e)});e.push(n)}),Promise.all(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.refreshAll=a;var o=n(5),s=r(o),d=n(23),u=n(17),l=n(25)},function(e,t,n){"use strict";function r(e,t){var n=(0,i.get)(e),r=t;return(0,i.set)(e,a({},n,r)),r.siteHierarchy=n.siteHierarchy,r}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.buildRefreshResponse=r;var i=n(23)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){u.forEach(function(t){s.default.offEvent(t,e)})}function i(e){var t=e.targetId;s.default.clearPageTargeting(t),a(t),delete s.default.requests.tags[t],delete s.default.requests.showTagDefinedMap[t]}Object.defineProperty(t,"__esModule",{value:!0}),t.turnOffListeners=a,t.clear=i;var o=n(5),s=r(o),d=n(20),u=[d.AD_REQUESTED,d.AD_NO_BID,d.AD_BAD_REQUEST,d.AD_REQUEST_FAILURE,d.AD_AVAILABLE,d.AD_LOADED,d.AD_ERROR]},function(e,t,n){var r,a;!function(i){var o=!1;if(r=i,a="function"==typeof r?r.call(t,n,t,e):r,!(void 0!==a&&(e.exports=a)),o=!0,e.exports=i(),o=!0,!o){var s=window.Cookies,d=window.Cookies=i();d.noConflict=function(){return window.Cookies=s,d}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(n){function r(t,a,i){var o;if("undefined"!=typeof document){if(arguments.length>1){if(i=e({path:"/"},r.defaults,i),"number"==typeof i.expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*i.expires),i.expires=s}i.expires=i.expires?i.expires.toUTCString():"";try{o=JSON.stringify(a),/^[\{\[]/.test(o)&&(a=o)}catch(e){}a=n.write?n.write(a,t):encodeURIComponent(String(a)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape);var d="";for(var u in i)i[u]&&(d+="; "+u,i[u]!==!0&&(d+="="+i[u]));return document.cookie=t+"="+a+d}t||(o={});for(var l=document.cookie?document.cookie.split("; "):[],c=/(%[0-9A-Z]{2})+/g,f=0;f<l.length;f++){var g=l[f].split("="),p=g.slice(1).join("=");'"'===p.charAt(0)&&(p=p.slice(1,-1));try{var v=g[0].replace(c,decodeURIComponent);if(p=n.read?n.read(p,v):n(p,v)||p.replace(c,decodeURIComponent),this.json)try{p=JSON.parse(p)}catch(e){}if(t===v){o=p;break}t||(o[v]=p)}catch(e){}}return o}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}return t(function(){})})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=s.default.get("MUID");e.keywords=i({},f,e.keywords),u.default.setPageOpts(i({},e,{member:1705,user:{externalUid:t}}))}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=a;var o=n(27),s=r(o),d=n(5),u=r(d),l=n(29),c=s.default.get("MUID"),f=(0,l.getCriteoKeywords)();u.default.setPageOpts({member:1705,keywords:i({},f),user:{externalUid:c}})},function(e,t){"use strict";function n(e){var t=void 0,n=void 0,r=document.cookie.split(";");for(t=0;t<r.length;t++){n=r[t].substr(0,r[t].indexOf("="));var a=r[t].substr(r[t].indexOf("=")+1);if(n=n.replace(/^\s+|\s+$/g,""),n===e)return unescape(a)}return""}function r(){var e=location.protocol+"//rtax.criteo.com/delivery/rta/rta.js?netId=",t=escape(i),n="&rnd="+escape(u),r="&cookieName="+escape(o),a="&varName="+escape(s),d=""+e+t+r+n+a,l=document.createElement("script");l.type="text/javascript",l.src=d,l.async=!0,document.getElementsByTagName("head").length>0?document.getElementsByTagName("head")[0].appendChild(l):document.getElementsByTagName("body").length>0&&document.getElementsByTagName("body")[0].appendChild(l)}function a(){r();var e=d&&d.split(";"),t={};if(e)for(var n=0;n<e.length;n++){var a=e[n].split("=");t[a[0]]=a[1]}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getCriteoKeywords=a;var i="962",o="crtg_rta",s="crtgContent",d=n(o),u=Math.floor(99999999999*Math.random())},function(e,t){"use strict";function n(e){return e=e.replace(/(https?:\/\/)?(www.)?/i,""),e.indexOf("/")!==-1?e.split("/")[0]:e}Object.defineProperty(t,"__esModule",{value:!0}),t.getDomain=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){var t=(0,M.default)(e);t=(0,A.default)(t);var n=l[t.provider];return new Promise(function(e,n){var r=(0,b.default)(t);return r?n((0,N.badInput)("Render",r)):t.target&&!(0,x.canRender)({target:t.target})?n((0,N.tooSoon)("Dude, stop trying to render the same ad so much…")):(t.siteHierarchy=t.siteHierarchy||_.default.settings.siteHierarchy,(0,x.cleanTarget)(t),(0,x.cleanSiteHierarchy)(t),(0,x.setTargetId)(t),(0,C.setMasterDefined)(t),(0,x.canRender)({targetId:t.targetId})?((0,I.set)(t.targetId,t),(0,k.hasKeyValue)("ads_enabled","false")?n({name:"AdsDisabled",message:"Ads are disabled"}):e()):n((0,N.tooSoon)("Dude, stop trying to render the same ad so much…")))}).then(function(){return n.preRender(t)}).then(function(e){if(e&&(e.keywords&&(t.keywords=d({},t.keywords,e.keywords)),t.relationship===D.MASTER&&(0,x.isBlockingCreative)(d({relationship:t.relationship},e))))return Promise.reject({name:"CreativeBlock",message:"A blocking creative was returned for this master, slaves will be rendered."})}).then(function(){return(0,f.default)(t)}).then(function(){return(0,p.default)(t,function(){return(0,R.default)({targetId:t.targetId,removeElement:!1}),i(t)})}).then(function(){return(0,C.slave)(t,function(){(0,R.default)({targetId:t.targetId,removeElement:!1})})}).then(function(){return(0,x.createChildElement)(t),(0,h.default)(t)}).then(function(){return n.render(t)}).then(function(e){return(0,C.renderSlaves)(!1,t),(0,y.default)({target:t.target,isSticky:t.isSticky,stickyWait:t.stickyWait,type:t.type}),(0,I.set)(t.targetId,d({},(0,I.get)(t.targetId),e)),(0,B.initialiseInteractionDelay)(t),t.callback&&t.callback(e),e}).catch(function(e){(0,C.renderSlaves)(!0,t);var n=e||{name:"GenericError",message:"The ad was not rendered for some reason."},r=(0,I.get)(t.targetId);return r&&(0,I.set)(t.targetId,d({},r,{error:n})),t.callback&&t.callback(void 0,n),(0,S.error)(n),Promise.reject(n)})}function o(e,t){return i(d({},t,{provider:"appNexus",target:e,$target:e}))}function s(e,t){return i(d({},t,{provider:"google",target:e,$target:e}))}Object.defineProperty(t,"__esModule",{value:!0});var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.render=i,t.appNexus=o,t.google=s;var u=n(6),l=a(u),c=n(32),f=r(c),g=n(34),p=r(g),v=n(38),h=r(v),m=n(39),y=r(m),E=n(35),b=r(E),I=n(23),w=n(40),A=r(w),T=n(2),_=r(T),O=n(41),R=r(O),S=n(19),N=n(45),P=n(46),M=r(P),k=n(3),C=n(36),D=n(16),x=n(47),B=n(44)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){f.clear(e)}function i(e){var t=e.lazy,n=e.targetId,r=e.target;return new Promise(function(e){if(!t)return e();(0,s.info)("LAZY: Initializing lazy loaded ad");var a=r||document.getElementById(n),i=u.default.settings.lazyOffset,d={targetId:n,predicate:function(){return!!(0,o.isElementNearViewport)(a,i)&&(e(),!0)}};f.add(d)})}Object.defineProperty(t,"__esModule",{value:!0}),t.clearLazyAd=a,t.default=i;var o=n(4),s=n(19),d=n(2),u=r(d),l=n(33),c=r(l),f=new c.default(["resize","scroll"])},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(22),o=function(){function e(t,n){var a=this;r(this,e),this.checkTargets=function(){Object.keys(a._watchlist).forEach(function(e){var t=a._watchlist[e];t()&&delete a._watchlist[e]})},this._watchlist={},this.checkTargets=(0,i.debounce)(this.checkTargets,n),t.forEach(function(e){window.addEventListener(e,a.checkTargets,!1)})}return a(e,[{key:"add",value:function(e){var t=e.targetId,n=e.predicate;n()||(this._watchlist[t]=n)}},{key:"clear",value:function(e){delete this._watchlist[e]}}]),e}();t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){l.clear(e)}function i(e,t){var n=e.maxWidth,r=e.minWidth,a=e.targetId;return new Promise(function(e){if(!(0,o.isResponsiveAd)({minWidth:r,maxWidth:n}))return e();(0,s.info)("RESPONSIVE: Initializing responsive ad.");var i=!1,d={targetId:a,predicate:function(){var a=(0,o.windowWithinAdBounds)({maxWidth:n,minWidth:r});return a&&!i&&((0,s.info)("RESPONSIVE: Window is within ad bounds, resolving promise."),i=!0,e()),!(a||!i)&&((0,s.info)("RESPONSIVE: Window is out of viewport and has rendered, removing."),t(),!0)}};l.add(d)})}Object.defineProperty(t,"__esModule",{value:!0}),t.clearResponsiveAd=a,t.default=i;var o=n(35),s=n(19),d=n(33),u=r(d),l=new u.default(["resize"])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,n=e.location,r=e.targetId,a=e.target,i=e.tagId,o=e.sizes,s=e.siteHierarchy,u=e.relationship,f=e.provider,g={};if(!f||"appnexus"===f.toLowerCase())return f?(r||a||(g.targetId="required string (or target)",g.target="required DOM element (or targetId)"),u===c.MASTER?(0,l.isMasterDefined)()&&(g.relationship="master relationship has already been set"):u&&u!==c.SLAVE&&(g.relationship="accepted string input: {"+c.MASTER+"|"+c.SLAVE+"}"),i?t||n||o||(t||(g.type="required string or sizes array"),n||(g.location="required string or sizes array"),o||(g.sizes="required size(s) [width, height]")):(t||(g.type="required string"),n||(g.location="required string"),s&&s.length||d.default.settings.siteHierarchy&&d.default.settings.siteHierarchy.length||(g.siteHierarchy="required array of strings, define it in config or pass it to render")),Object.keys(g).length?g:void 0):(g.provider="provider specification is required",g)}function i(e){var t=e.minWidth,n=void 0===t?0:t,r=e.maxWidth,a=void 0===r?Number.MAX_VALUE:r,i=(0,u.getWindowWidth)();return i>=n&&i<=a}function o(e){var t=e.minWidth,n=e.maxWidth;return!(!t&&!n)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a,t.windowWithinAdBounds=i,t.isResponsiveAd=o;var s=n(2),d=r(s),u=n(4),l=n(36),c=n(16)},function(e,t,n){"use strict";function r(e){var t=e.relationship;t===u.MASTER&&(l=!1,c=(0,d.deferred)(),f=(0,d.deferred)())}function a(){return l}function i(e){var t=e.relationship;t===u.MASTER&&(l=!0)}function o(e,t){var n=e.relationship;return n&&n===u.SLAVE?((0,s.info)("MASTER/SLAVES: Initialising slave."),new Promise(function(e,n){var r=function(){t&&t(),(0,s.info)("MASTER/SLAVES: Master has rendered, destroying slaves."),n({name:"MasterRendered",message:"The master ad has rendered."})};c.promise.then(e),f.promise.then(r)})):Promise.resolve()}Object.defineProperty(t,"__esModule",{value:!0}),t.renderSlaves=void 0,t.reset=r,t.isMasterDefined=a,t.setMasterDefined=i,t.slave=o;var s=n(19),d=n(37),u=n(16),l=!1,c=(0,d.deferred)(),f=(0,d.deferred)();t.renderSlaves=function(e,t){var n=t.relationship;n===u.MASTER&&(e?c.resolve():f.resolve())}},function(e,t){"use strict";function n(){var e=void 0,t=void 0,n=new Promise(function(n,r){e=n,t=r});return{resolve:e,reject:t,promise:n}}Object.defineProperty(t,"__esModule",{value:!0}),t.deferred=n},function(e,t,n){"use strict";function r(e,t){return e!==t}function a(e,t){var n=t.adElement,a=t.buttonElement,i=t.buttonContainerElement;r(n,i)&&n&&(n.style.display="inherit"),e.className=p,e.setAttribute(I,"true"),a.className=E}function i(e,t){var n=t.adElement,a=t.buttonElement,i=t.buttonContainerElement;r(n,i)&&(n.style.display="none"),e.className=g,e.setAttribute(I,"false"),a.className=b}function o(){var e=document.createElement("a");e.id=m,e.href="";var t=document.createElement("div");return t.className=h,t.id=v,t.appendChild(e),{buttonElement:e,buttonContainerElement:t}}function s(){(0,c.info)('BILLBOARD: Class "mastheadHidden" has been deprecated. Please use "ad-hidden" instead.'),(0,c.info)('BILLBOARD: Class "mastheadShown" has been deprecated. Please use "ad-shown" instead.'),(0,c.info)('BILLBOARD: Class "mastHeadButtonShown" has been deprecated. Please use "ad-toggle-button-shown" instead.'),(0,c.info)('BILLBOARD: Class "mastHeadButtonHidden" has been deprecated. Please use "ad-toggle-button-hidden" instead.'),(0,c.info)('BILLBOARD: Id "mastHeadButtonCloseContainer" has been deprecated. Please use class "ad-toggle-button-container" instead.'),(0,c.info)('BILLBOARD: Id "mastheadAnchorToggle" has been deprecated. Please use class "ad-toggle-button" instead.')}function d(e){return e&&(e.toUpperCase()===f.MASTHEAD||e.toUpperCase()===f.BILLBOARD)}function u(e){return e&&!e.getAttribute(I)||"true"===e.getAttribute(I)}function l(e){var t=e.type,n=e.targetId,r=e.sizes,l=e.adHeight,c=e.adWidth;return new Promise(function(e){if(!d(t))return e();var f=document.getElementById(n),g=u(f),p=!0;(r&&"72890"===r.join("")||728===c&&90===l)&&(g=!0,p=!1);var v=o(),h=v.buttonElement,m=v.buttonContainerElement;p&&f.appendChild(m);var y=function(t,n){var r=f.lastChild;return t||n===!1?(a(f,{adElement:r,buttonElement:h,buttonContainerElement:m}),e({buttonElement:h,buttonContainerElement:m})):void i(f,{adElement:r,buttonElement:h,buttonContainerElement:m})};h.addEventListener("click",function(e){e.preventDefault(),g=!g,y(g)},!1),y(g,p),s()})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var c=n(19),f=n(16),g="mastheadHidden ad-hidden",p="mastheadShown ad-shown",v="mastHeadButtonCloseContainer",h="ad-toggle-button-container",m="mastheadAnchorToggle",y="ad-toggle-button",E="mastHeadButtonShown "+y+" "+y+"-shown",b="mastHeadButtonHidden "+y+" "+y+"-hidden",I="data-visible"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){g.clear(e)}function i(e,t){(0,f.setCss)(e,{position:"fixed",top:"0px",width:(0,f.getRectangle)(e).width+"px",left:(0,f.getRectangle)(e).left+"px"}),e.classList.add("advert--stuck"),t===c.MOBILEBANNER&&(0,f.getWindowDocumentBody)().classList.add("sticky-banner")}function o(e,t){(0,f.setCss)(e,{position:"",top:"",width:"",left:""}),e.classList.remove("advert--stuck"),t===c.MOBILEBANNER&&(0,f.getWindowDocumentBody)().classList.remove("sticky-banner")}function s(e){var t=e.target,n=e.isSticky,r=e.stickyWait,a=e.type;if(n){var s=!1,d=!1,u=!1,c=t.id,p="";a&&(p=a.toUpperCase());var v={targetId:c,predicate:function(){var e=(0,f.getScrollTopPosition)(),n=(0,f.getRectangle)(t).top;return!!s||(e>n&&(i(t,p),u=!0),e<(0,f.getRectangle)(t.parentNode).top&&u&&(o(t,p),u=!1),void(u&&r&&!d&&((0,l.info)("STICKY: Started sticky timeout of : "+r),d=!0,setTimeout(function(){o(t,p),(0,l.info)("STICKY: Removing sticky after timeout"),s=!0},r))))}};g.add(v)}}Object.defineProperty(t,"__esModule",{value:!0}),t.clearStickyAd=a,t.stick=i,t.unstick=o,t.default=s;var d=n(33),u=r(d),l=n(19),c=n(16),f=n(4),g=new u.default(["scroll"],1)},function(e,t,n){"use strict";function r(e){var t=a({},e),n="ads_"+t.type+"_"+t.location+"_placement",r="ads_"+t.type+"_placement",o="ads_"+t.type+"_"+t.location+"_creative",s="ads_"+t.type+"_creative",d=(0,i.getValue)(n)||(0,i.getValue)(r),u=(0,i.getValue)(o)||(0,i.getValue)(s);return d&&(t.tagId=+d||d),u&&(t.forceCreativeId=+u||u),t}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=r;var i=n(3)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){var t=e.targetId,n=e.location,r=e.type,a=e.removeElement,s=void 0===a||a,v=t?(0,o.get)(t):(0,o.getByAdTypeAndLoc)(r,n);if(v){var h=document.getElementById(v.targetId);d[v.provider].clear(v),(0,u.reset)(v),s?((0,p.clearInteractionDelay)(v.targetId),(0,l.clean)(v),(0,o.remove)(v.targetId),(0,i.remove)(h),(0,c.clearLazyAd)(v.targetId),(0,f.clearResponsiveAd)(v.targetId),(0,g.clearStickyAd)(v.targetId)):(0,i.clear)(h)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=n(4),o=n(23),s=n(6),d=r(s),u=n(36),l=n(42),c=n(32),f=n(34),g=n(39),p=n(44)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){!e.type||e.type.toUpperCase()!==s.SIDEPANEL&&e.type.toUpperCase()!==s.TAKEOVER||window.dispatchEvent(new o.default("mi9-clean-takeover"))}Object.defineProperty(t,"__esModule",{value:!0}),t.clean=a;var i=n(43),o=r(i),s=n(16)},function(e,t){(function(t){function n(){try{var e=new r("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(e){}return!1}var r=t.CustomEvent;e.exports=n()?r:"function"==typeof document.createEvent?function(e,t){var n=document.createEvent("CustomEvent");return t?n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail):n.initCustomEvent(e,!1,!1,void 0),n}:function(e,t){var n=document.createEventObject();return n.type=e,t?(n.bubbles=Boolean(t.bubbles),n.cancelable=Boolean(t.cancelable),n.detail=t.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n}}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){for(var n=0;n<e.length;n++)if(e[n].targetId===t)return n;return-1}function i(e){(0,f.info)("INTERACTION: Start");var t=e.currentTarget.id,n=a(p,t);p[n].isInteracting=!0;var r=a(v,t);r>=0&&((0,f.info)("INTERACTION: Existing timeout detected, clearing"),clearTimeout(v[r].timeout),v.splice(r,1))}function o(e){(0,f.info)("INTERACTION: Finish: Starting timeout");var t=e.currentTarget.id,n=a(p,t),r=c.default.settings.refreshDelay,i=setTimeout(function(){(0,f.info)("INTERACTION: timeout finished, setting isInteracting to false"),p[n].isInteracting=!1;var e=a(v,t);e>=0&&v.splice(e,1)},r);v.push({targetId:t,timeout:i})}function s(e){var t=e.targetId,n=e.type,r=document.getElementById(t),s=a(p,t);if(s===-1){if(p.push({targetId:t,isInteracting:!1}),n===g.SIDEPANEL)return;r.addEventListener("mouseenter",i),r.addEventListener("mouseleave",o)}}function d(e){var t=a(p,e);if(t>=0){var n=document.getElementById(e);n.removeEventListener("mouseenter",i),n.removeEventListener("mouseleave",o)}}function u(e){var t=a(p,e);return t>=0&&p[t].isInteracting}Object.defineProperty(t,"__esModule",{value:!0}),t.startInteraction=i,t.finishInteraction=o,t.initialiseInteractionDelay=s,t.clearInteractionDelay=d,t.isInteracting=u;var l=n(2),c=r(l),f=n(19),g=n(16),p=[],v=[]},function(e,t){"use strict";function n(e){return{name:"NoRender",message:e}}function r(e){return{name:"TooSoon",message:e}}function a(e,t){return{name:"BadInput",message:e,errors:t}}function i(e){return{name:"CurrentlyInteracting",message:e}}function o(e){return{name:"CurrentlyNotInFullView",message:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.noRender=n,t.tooSoon=r,t.badInput=a,t.currentlyInteracting=i,t.currentlyNotInFullView=o},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o({},e);return e.provider||(t.provider="appNexus"),t.divId&&(t.targetId=(0,s.deprecate)("divId","targetId",t.divId)),t.adType&&(t.type=t.type||(0,s.deprecate)("adType","type",t.adType)),t.loc&&(t.location=t.location||(0,s.deprecate)("loc","location",t.loc)),t.$target&&t.$target[0]&&(t.target=(0,s.deprecate)("$target","target",t.$target[0])),t.isLazyLoaded&&(t.lazy=(0,s.deprecate)("isLazyLoaded","lazy",t.isLazyLoaded)),t}function a(){if(arguments.length<=0?void 0:arguments[0]){if("object"===i(arguments.length<=0?void 0:arguments[0]))return arguments.length<=0?void 0:arguments[0];(0,s.info)("%cDEPRECATION NOTICE: Refresh args \"typeOrDivId, location\" have been deprecated, please pass in an object instead eg: \"{ type: 'MEDREC', location: 'ATF.1', targetId: 'div-id-man' }\"","background: #222; color: #bada55");var e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1];return t?{type:e,location:t}:{targetId:e}}}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=r,t.mapRefresh=a;var s=n(19)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.target,n=e.targetId;return n?void(0,v.default)({targetId:n,removeElement:!1}):void(t&&t.childElementCount&&(0,v.default)({targetId:t.children[0].id,removeElement:!0}))}function i(e){var t=e.target,n=e.targetId;if(t&&n){var r=document.getElementById(n);if(!r){(0,f.info)("RENDER: Target element passed in, creating child element");var a=document.createElement("div");a.id=n,t.appendChild(a)}}}function o(e){e.target&&!e.targetId&&(e.targetId="ninemsn-ad-"+(0,h.getCount)(),(0,f.info)("RENDER: Target element passed in, setting targetId to "+e.targetId),(0,h.increment)())}function s(e){var t=e.target,n=e.targetId;return(0,y.default)(t||n)}function d(e){var t=e.relationship,n=e.width,r=e.height;return t===g.MASTER&&1===n&&1===r}function u(e){var t=e.content;return t&&t.indexOf(g.BLOCKING_CREATIVE_KEYWORD)>-1}function l(e){return!(!d(e)&&!u(e))}function c(e){var t=e.siteHierarchy;t&&(e.siteHierarchy=t.filter(function(e){return!!e&&!!e.trim()}),e.siteHierarchy=e.siteHierarchy.map(function(e){return e.replace(/\s/g,"")}))}Object.defineProperty(t,"__esModule",{value:!0}),t.cleanTarget=a,t.createChildElement=i,t.setTargetId=o,t.canRender=s,t.isBlockingCreative=l,t.cleanSiteHierarchy=c;var f=n(19),g=n(16),p=n(41),v=r(p),h=n(48),m=n(49),y=r(m)},function(e,t){"use strict";function n(){a+=1}function r(){return a}Object.defineProperty(t,"__esModule",{value:!0}),t.increment=n,t.getCount=r;var a=0},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=o.default.settings.refreshDelay;if(t<=0)return!0;var n=s.indexOf(e);return n===-1&&(setTimeout(function(){s.splice(n,1)},t),s.push(e),!0)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=r(i),s=[];t.default=a},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function i(){return Promise.reject((0,h.tooSoon)("You tried to refresh too often."))}function o(){if(!(0,l.default)())return i();var e=[];return Object.keys(f).forEach(function(t){"default"!==t&&e.push(f[t].refreshAll())}),Promise.all(e).then(function(e){var t=[];return e.forEach(function(e){e&&(t=t.concat(e))}),t})}function s(){var e=m.mapRefresh.apply(void 0,arguments),t=p.default.refresh(e);if(t)return Promise.reject((0,h.badInput)("Refresh",t));var n=e.targetId;if(n||(n=(0,v.getByAdTypeAndLoc)(e.type,e.location).targetId),!(0,l.default)(n))return i();var r=(0,v.get)(n);return(0,v.set)(n,d({},r,{hasRendered:!1})),(0,E.isInteracting)(n)?Promise.reject((0,h.currentlyInteracting)("Ad "+n+" is being interacted with")):(0,b.isInFullView)(n)?f[r.provider].refresh(n).then(function(e){return(0,y.buildRefreshResponse)(n,e)}):Promise.reject((0,h.currentlyNotInFullView)("Ad "+n+" is not in 100% view"))}Object.defineProperty(t,"__esModule",{value:!0});var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.refreshAll=o,t.refresh=s;var u=n(49),l=a(u),c=n(6),f=r(c),g=n(51),p=a(g),v=n(23),h=n(45),m=n(46),y=n(25),E=n(44),b=n(52)},function(e,t){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,n=e.location,r=e.targetId,a={};if(r||n||t||(a.targetId="required or location and type"),t||r||(a.type="required or targetId"),n||r||(a.location="required or targetId"),Object.keys(a).length)return a}Object.defineProperty(t,"__esModule",{value:!0}),t.default={refresh:n}},function(e,t,n){"use strict";function r(e){if(!(0,a.isBrowserTabActive)())return!1;var t=document.getElementById(e);return!!t&&(0,a.isElementFullyVisible)(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.isInFullView=r;var a=n(4)},function(e,t,n){"use strict";var r=n(23);window.addEventListener("mi9-adsvis-init",function(e){e.detail.setAds((0,r.getAll)()),(0,r.addListener)(e.detail.setAds)})}]);
//# sourceMappingURL=mi9-core-ads.v3-ae80a7.js.map